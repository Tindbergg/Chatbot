{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/web/views/GhostContent/Checker.js","webpack:///./src/web/components/Layout/SidebarHeader.scss","webpack:///./src/web/components/Layout/SidebarHeader.scss?a0a7","webpack:///./src/web/components/Layout/SidebarHeader.jsx","webpack:///./src/web/components/Layout/Sidebar.jsx","webpack:///./src/web/components/Layout/Header.scss","webpack:///./src/web/components/Notifications/hubStyle.scss","webpack:///./src/web/components/Notifications/hubStyle.scss?5fac","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/web/components/Notifications/Hub.jsx","webpack:///./src/web/components/Layout/Header.jsx","webpack:///./src/web/components/Layout/index.jsx","webpack:///./src/web/components/Authentication/index.jsx","webpack:///./src/web/components/Routes/index.jsx","webpack:///./src/web/components/App/index.jsx","webpack:///./src/web/theme.scss","webpack:///./src/web/theme.scss?6463","webpack:///./src/web/components/Content/Select/style.scss","webpack:///./src/web/components/Content/style.scss","webpack:///./src/web/components/Content/style.scss?f0d0","webpack:///.-util-roles/dist/resources.js","webpack:///.-util-roles/dist/index.js","webpack:///./src/web/components/ContentForm/UploadWidget.js","webpack:///./src/web/components/ContentForm/RefWidget.js","webpack:///./src/web/components/ContentForm/index.js","webpack:///./src/web/components/Content/Select/Widget.js-exposed","webpack:///./src/web/components/PluginInjectionSite/module.jsx","webpack:///./src/web/util/EventBus.js","webpack:///./src/web/index.jsx","webpack:///./src/web/util.js","webpack:///./src/web/actions/index.js","webpack:///./src/web/store.js","webpack:///./src/web/util/Modules.js","webpack:///./src/web/views/FlowBuilder/nodeProps/TransitionSection.jsx","webpack:///./src/web/components/Injected/index.jsx","webpack:///./src/web/views/FlowBuilder/common/condition.jsx","webpack:///./src/web/views/FlowBuilder/common/style.scss?58f1","webpack:///./src/web/views/FlowBuilder/common/action.jsx","webpack:///./src/web/views/FlowBuilder/diagram/nodes/style.scss?7c2b","webpack:///./src/web/views/GhostContent/util.js","webpack:///./src/web/components/Util/Loading.js","webpack:///./src/web/components/Content/CreateOrEditModal.js","webpack:///./src/web/reducers/notifications.js","webpack:///./src/web/reducers/skills.js","webpack:///./src/web/reducers/modules.js","webpack:///./src/web/reducers/bot.js","webpack:///./src/web/reducers/user.js","webpack:///./src/web/reducers/ui.js","webpack:///./src/web/reducers/license.js","webpack:///./src/web/reducers/flows.js","webpack:///./src/web/reducers/content.js","webpack:///./src/web/reducers/selectors.js","webpack:///./src/web/actions/BatchRunner.js","webpack:///./src/web/components/Content/Select/Widget.js","webpack:///./src/web/views/FlowBuilder/nodeProps/ActionSection.jsx","webpack:///./src/web/views/FlowBuilder/common/EditableInput.jsx","webpack:///./src/web/views/FlowBuilder/sidePanel/flows/style.scss?99b6","webpack:///./src/web/views/FlowBuilder/diagram/nodes/Ports.jsx","webpack:///./src/web/components/Modules/index.jsx","webpack:///./src/web/components/Layout/Header.scss?25f1","webpack:///./src/web/components/Notifications/index.jsx","webpack:///./src/web/components/Content/Select/style.scss?8e81","webpack:///./src/web/components/Layout/PermissionsChecker.js","webpack:///./src/web/views/Login/style.scss","webpack:///./src/web/views/Login/style.scss?2eae","webpack:///./src/web/views/Login/index.jsx","webpack:///./src/web/components/Layout/style.scss","webpack:///./src/web/components/Layout/style.scss?33c3","webpack:///./src/web/components/PluginInjectionSite/index.jsx","webpack:///./src/web/views/Logs/style.scss","webpack:///./src/web/views/Logs/style.scss?e60d","webpack:///./src/web/views/Logs/index.jsx","webpack:///./src/web/views/Notifications/style.scss","webpack:///./src/web/views/Notifications/style.scss?3d99","webpack:///./src/web/views/Notifications/index.jsx","webpack:///./src/web/views/Module/index.jsx","webpack:///./src/web/views/FlowBuilder/style.scss","webpack:///./src/web/views/FlowBuilder/style.scss?cfe5","webpack:///./src/web/views/FlowBuilder/nodeProps/FlowInformation.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/SkillCallNode.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/ConditionModalForm.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/style.scss","webpack:///./src/web/views/FlowBuilder/nodeProps/parameters.scss","webpack:///./src/web/views/FlowBuilder/nodeProps/parameters.scss?0bb6","webpack:///./src/web/views/FlowBuilder/nodeProps/ParametersTable.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/actionDropdown.scss","webpack:///./src/web/views/FlowBuilder/nodeProps/actionDropdown.scss?f406","webpack:///./src/web/views/FlowBuilder/nodeProps/SelectActionDropdown.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/ActionModalForm.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/StandardNode.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/index.js","webpack:///./src/web/views/FlowBuilder/containers/NodeProps.js","webpack:///./src/web/views/FlowBuilder/skills/style.scss","webpack:///./src/web/views/FlowBuilder/skills/style.scss?02d2","webpack:///./src/web/views/FlowBuilder/skills/index.jsx","webpack:///./src/web/views/FlowBuilder/containers/SkillsBuilder.js","webpack:///./src/web/views/FlowBuilder/topbar.scss","webpack:///./src/web/views/FlowBuilder/topbar.scss?26c3","webpack:///./src/web/views/FlowBuilder/topbar.jsx","webpack:///./src/web/views/FlowBuilder/containers/Topbar.js","webpack:///./src/web/views/FlowBuilder/sidePanel/style.scss","webpack:///./src/web/views/FlowBuilder/sidePanel/style.scss?19d9","webpack:///./src/web/views/FlowBuilder/sidePanel/flows/util.js","webpack:///./src/web/views/FlowBuilder/sidePanel/flows/style.scss","webpack:///./src/web/components/Layout/PageHeader.jsx","webpack:///./src/web/components/Layout/ContentWrapper.jsx","webpack:///./src/web/reducers/index.js","webpack:///./src/web/util/Auth.js","webpack:///./src/web/views/FlowBuilder/sidePanel/flows/tree.js","webpack:///./src/web/views/FlowBuilder/sidePanel/flows/index.jsx","webpack:///./src/web/views/FlowBuilder/sidePanel/index.jsx","webpack:///./src/web/views/FlowBuilder/containers/SidePanel.js","webpack:///./src/web/views/FlowBuilder/diagram/style.scss","webpack:///./src/web/views/FlowBuilder/diagram/style.scss?4cb7","webpack:///./src/web/views/FlowBuilder/diagram/nodes/LinkWidget.jsx","webpack:///./src/web/views/FlowBuilder/diagram/nodes/SkillCallNode.jsx","webpack:///./src/web/views/FlowBuilder/common/style.scss","webpack:///./src/web/views/FlowBuilder/diagram/nodes/style.scss","webpack:///./src/web/views/FlowBuilder/diagram/nodes/StandardNode.jsx","webpack:///./src/web/views/FlowBuilder/diagram/index.jsx","webpack:///./src/web/views/FlowBuilder/containers/Diagram.js","webpack:///./src/web/views/FlowBuilder/toolbar.scss","webpack:///./src/web/views/FlowBuilder/toolbar.scss?49d0","webpack:///./src/web/views/FlowBuilder/toolbar.jsx","webpack:///./src/web/views/FlowBuilder/containers/Toolbar.js","webpack:///./src/web/views/FlowBuilder/index.jsx","webpack:///./src/web/views/GhostContent/style.scss","webpack:///./src/web/views/GhostContent/style.scss?a621","webpack:///./src/web/views/GhostContent/About.js","webpack:///./src/web/views/GhostContent/index.js","webpack:///./src/web/views/Content/style.scss","webpack:///./src/web/views/Content/style.scss?5cda","webpack:///./src/web/views/Content/List/style.scss","webpack:///./src/web/views/Content/List/style.scss?9d34","webpack:///./src/web/views/Content/List/index.js","webpack:///./src/web/views/Content/Sidebar/style.scss","webpack:///./src/web/views/Content/Sidebar/style.scss?0d4c","webpack:///./src/web/views/Content/Sidebar/index.js","webpack:///./src/web/views/Content/index.jsx","webpack:///./src/web/views/Middleware/style.scss","webpack:///./src/web/views/Middleware/style.scss?06d6","webpack:///./src/web/components/Middlewares/style.scss","webpack:///./src/web/components/Middlewares/style.scss?9f0f","webpack:///./src/web/components/Middlewares/index.jsx","webpack:///./src/web/views/Middleware/index.jsx","webpack:///./src/web/views/Manage/style.scss","webpack:///./src/web/views/Manage/style.scss?e6c3","webpack:///./src/web/views/Manage/index.jsx","webpack:///./src/web/components/Hero/style.scss","webpack:///./src/web/components/Hero/style.scss?2584","webpack:///./src/web/components/Hero/index.jsx","webpack:///./src/web/components/Information/style.scss","webpack:///./src/web/components/Information/style.scss?b33a","webpack:///./src/web/components/Information/index.jsx","webpack:///./src/web/components/Modules/style.scss","webpack:///./src/web/components/Modules/style.scss?23bb","webpack:///./src/web/components/Layout/PageHeader.scss","webpack:///./src/web/components/Layout/PageHeader.scss?cee1","webpack:///./src/web/components/Layout/ContentWrapper.scss","webpack:///./src/web/components/Layout/ContentWrapper.scss?fa6a","webpack:///./src/web/views/FlowBuilder/nodeProps/style.scss?c8af","webpack:///./src/web/views/Dashboard/index.jsx","webpack:///./src/web/components/Content/Select/index.js","webpack:///./src/web/components/Content/Select/Manager.js","webpack:///./src/web/components/Tour/style.scss","webpack:///./src/web/components/Tour/style.scss?df98","webpack:///./src/web/util/Emoji.js","webpack:///./src/web/components/Tour/index.jsx","webpack:///./src/web/components/About/index.jsx","webpack:///./src/web/components/License/style.scss","webpack:///./src/web/components/License/style.scss?662b","webpack:///./src/web/components/License/index.jsx","webpack:///./src/web/components/Layout/HelpButton.scss","webpack:///./src/web/components/Layout/HelpButton.scss?d280","webpack:///./src/web/components/Layout/HelpButton.jsx","webpack:///./src/web/components/Layout/SidebarFooter.scss","webpack:///./src/web/components/Layout/SidebarFooter.scss?1695","webpack:///./src/web/components/Layout/SidebarFooter.jsx","webpack:///./src/web/components/Layout/Sidebar.scss","webpack:///./src/web/components/Layout/Sidebar.scss?41c6"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","2","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","p","jsonpArray","window","webpackJsonp","oldJsonpFunction","slice","_react","a","_util","e","ReferenceError","GhostContentStatusChecker","state","hasPending","fetch","fetchStatus","then","keys","_this","setState","catch","TypeError","constructor","writable","configurable","setPrototypeOf","__proto__","Component","this","checkInterval","setInterval","CHECK_INTERVAL_SEC","clearInterval","_react2","createElement","className","title","locals","logo","header","1003","content","_reactBootstrap","u","SidebarHeader","headerClass","_classnames2","style","headerStyle","navbar","Navbar","inverse","Header","Brand","href","src","alt","Toggle","_reactRedux","_reactRouterDom","f","_","BASIC_MENU_ITEMS","path","rule","res","op","icon","GHOST_ENABLED","renderSuffix","_Checker2","filter","Boolean","Sidebar","sidebarOpen","sidebarDocked","onSetSidebarOpen","open","mediaQueryChanged","mql","matches","renderModuleItem","iconPath","moduleIcon","menuIcon","customIcon","NavLink","to","menuText","activeClassName","active","renderBasicItem","_ref2","_PermissionsChecker2","user","props","React","matchMedia","addListener","removeListener","moduleItems","x","noInterface","map","emptyClassName","empty","sidebarContent","sidebar","_SidebarHeader2","isOpen","viewMode","_reactSidebar2","sidebarClassName","sidebarReact","docked","shadow","transitions","styles","zIndex","onSetOpen","children","contextTypes","router","PropTypes","isRequired","connect","ui","app-navbar","slack","account","1009","markAsReadButton","item","item-unread","level-info","level-error","level-success","topMenu","dropdown","message","invisible","1010","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","id","webpackContextResolve","Error","code","resolve","1012","NotificationHub","context","getPrototypeOf","itemComponent","MenuItem","renderDivider","NotificationComponent","notifications","isEmpty","displayedNotifications","take","unread","read","unreadCount","hasAnyError","some","notif","level","label-danger","label-default","label","NavDropdown","noCaret","onClick","markAllAsRead","renderEmptyPanel","renderMenuItems","_redux","_Auth","_actions","loading","handleFullscreen","newViewMode","viewModeChanged","AUTH_ENABLED","url","avatar_url","disabled","email","username","divider","eventKey","logout","fullScreen","Glyphicon","glyph","classNames","customStyle","Collapse","Nav","pullRight","NavItem","renderFullScreenButton","_Hub2","renderLogoutButton","dispatch","bindActionCreators","P","_reactToastify","h","y","b","g","v","w","E","k","O","N","S","I","Layout","_this2","location","query","setImmediate","_classnames","hasHeader","_classnames3","_defineProperty","container","ToastContainer","_Sidebar2","_Header2","Switch","Route","exact","render","Redirect","component","Dashboard","Manage","Middleware","Content","GhostContent","FlowBuilder","Module","Notifications","Logs","_SidebarFooter2","_Tour2","opened","SHOW_GUIDED_TOUR","_License2","licenseModalOpened","license","text","toggleLicenseModal","_About2","aboutModalOpened","_PluginInjectionSite2","site","_HelpButton2","_Manager2","ownProps","WrappedComponent","AuthenticationWrapper","_React$Component","_ref","_temp","_len","arguments","args","Array","_key","_possibleConstructorReturn","concat","authorized","promptLogin","urlToken","pathname","history","botpressWebChat","sendEvent","type","checkAuth","axios","err","response","status","_createClass","authEvents","on","setupAuth","off","params","JSON","parse","setToken","newQuery","omit","replace","assign","search","qs","stringify","returnTo","tokenStillValid","token","getToken","elapsed","Date","time","AUTH_TOKEN_DURATION","withRouter","addLocationQuery","queryString","_createBrowserHistory2","listen","logPageView","ReactGA","set","page","pageview","OPT_OUT_STATS","initialize","AuthenticatedLayout","_Authentication2","Router","onUpdate","Login","1070","App","fetchData","fetchModules","fetchNotifications","fetchBotInformation","fetchLicense","fetchUser","APP_NAME","document","EventBus","setup","replaceNotifications","notification","addNotifications","_Routes2","mapDispatchToProps","h1","h2","h3","h4","h5","h6","1072","createItem","editButton","1085","modal","cancel","1086","_extends","target","source","enrichResources","resources","_enrichResources","parent","fullName","displayName","_RESOURCES","description","operations","sort","localeCompare","RESOURCES","_resources","ressourceMatches","pattern","separator","indexOf","parts","split","testParts","ii","toLowerCase","OPERATION_ALIASES","write","KNOWN_OPERATIONS","checkRule","rules","operation","ressource","includes","permission","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","return","checkMultipleRoles","roles","roleName","1089","UploadWidget","handleChange","onChange","expand","expanded","collapse","startUpload","event","FormData","append","files","error","uploading","post","headers","Content-Type","newProps","_props$schema","schema","$filter","subtype","$subtype","_state","fallback","FormGroup","HelpBlock","InputGroup","FormControl","placeholder","Button","accept","bsStyle","validationState","_Loading2","decorateRef","RefWidget","categoryId","$category","_Widget2","inputId","itemId","decoratedId","match","widgets","BaseInput","_RefWidget2","_UploadWidget2","_BaseInput2","defaultFormData","_reactJsonschemaForm2","formData","safeRenderCompletion","global","BotpressContentPicker","133","InjectedModuleView","moduleComponent","modName","viewName","lite","moduleName","subView","isLite","botpress","setViewInState","script","onload","shortName","getElementsByTagName","appendChild","viewResolve","prop","startsWith","find","loadModule","nextProps","console","log","onNotFound","bp","events","extraProps","_Injected2","wildcard","maxListeners","dispatchSocketEvent","emit","dispatchClientEvent","from","socket","guestSocket","adminSocket","visitorId","getUniqueVisitorId","dispatchEvent","disconnect","socketUrl","origin","_socket2","onAny","EventEmitter2","defaults","common","Authorization","ReactDOM","_exposeLoaderReactReact2","Provider","store","getElementById","147","prettyId","moveCursorToEnd","hashCode","str","hash","charCodeAt","el","selectionStart","selectionEnd","focus","createTextRange","range","select","_generate2","_reduxActions","requestFlows","createAction","receiveFlows","flows","receiveAt","requestSaveFlows","fetchFlows","keyBy","receiveSaveFlows","handleRefreshFlowLinks","saveAllFlows","getState","values","flowsByName","flow","startNode","catchAll","links","nodes","skillData","updateFlow","renameFlow","createFlow","switchFlow","deleteFlow","duplicateFlow","refreshFlowsLinks","setTimeout","handleFlowEditorUndo","updateFlowNode","switchFlowNode","createFlowNode","removeFlowNode","copyFlowNode","pasteFlowNode","copyFlowNodeElement","pasteFlowNodeElement","openFlowNodeProps","closeFlowNodeProps","handleFlowEditorRedo","receiveContentCategories","flowEditorUndo","flowEditorRedo","setDiagramAction","receiveContentItems","fetchContentCategories","receiveContentItemsRecent","fetchContentItems","_ref3","count","searchTerm","_ref4","getBetachedContentRunner","fetchContentItemsRecent","_ref5","_ref5$count","_ref5$categoryId","orderBy","_ref6","_BatchRunner2","ids","join","_ref7","reduce","acc","receiveContentItem","receiveContentItemsCount","fetchContentItem","_ref9","_ref9$force","force","_ref9$batched","batched","itemsById","Promise","add","_ref8","licenseChanged","fetchContentItemsCount","upsertContentItem","_ref10","modifyId","deleteContentItems","userReceived","_ref11","toggleAboutModal","updateGlobalStyle","botInfoReceived","authEnabled","modulesReceived","information","allNotificationsReceived","newNotificationsReceived","editSkill","allNotifications","buildNewSkill","cancelNewSkill","insertNewSkill","insertNewSkillNode","updateSkill","requestEditSkill","nodeId","node","currentFlow","skillId","skill","flowName","actions","enhancer","_typeof","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","actionCreators","compose","applyMiddleware","thunk","createStore","reducers","moduleViewNames","position","flatten","plugins","plugin","entry","isArray","TransitionSection","showConditionalModalForm","onSubmit","editIndex","itemToEditIndex","items","onItemsUpdated","Number","isInteger","originalItem","_toConsumableArray","prevIndex","direction","clone","index","pullAt","copyItem","_props","readOnly","Fragment","_condition2","condition","Label","onEdit","onRemove","onCopyAction","onMove","bsSize","actionIcons","pasteItem","canPaste","_ConditionModalForm2","subflows","show","onClose","InjectedComponent","componentId","_nanoid2","internalRender","unmountComponentAtNode","findDOMNode","element","propTypes","func","ConditionItem","renderOverlay","child","popoverHoverFocus","Popover","Well","OverlayTrigger","trigger","placement","delayShow","overlay","_props$condition","caption","raw","renderer","renderNormal","vars","htmlTpl","escape","Mustache","test","dangerouslySetInnerHTML","__html","ActionItem","textToItemId","fetchItem","action","trim","actionName","parameters","tokens","head","tail","callPreview","fn","renderAction","stripDots","categoryTitle","previewText","html","msg","_mapValues2","entries","_groupBy2","getHost","_document$location","protocol","host","revertPendingFileChanges","folder","file","delete","ProgressBar","color","now","257","CreateOrEditModal","handleEdit","handleSave","handleCreateOrUpdate","Modal","onHide","handleClose","Body","_ContentForm2","uiSchema","_howler","sound","Howl","reducer","handleActions","_handleActions","payload","play","unshift","installed","builder","editFlowName","editNodeId","toString","licensed","defaultState","fetchingFlows","currentFlowNode","showFlowNodeProps","currentDiagramAction","currentSnapshot","undoStack","redoStack","nodeInBuffer","buffer","transition","computeFlowsHash","hashAction","forEach","isString","obj","curr","buff","onReceive","onEnter","link","points","updateCurrentHash","currentHashes","createSnapshot","pick","createdAt","recordHistory","popHistory","stackName","_extends2","oppositeStack","defaultFlow","first","newState","savingFlows","lastModified","_reduceReducers2","_handleActions2","json","nodeLinks","sourcePort","targetNode","remapNode","Math","round","version","flowRandomId","newFlow","generatedFlow","newNode","_ref12","_extends7","modifiedFlow","_ref13","merge","_ref14","_ref14$payload","flowNameToDuplicate","_ref15","currentNode","needsUpdate","_ref16","flowsToRemove","nodeToRemove","_ref17","_ref17$payload","newNodeId","siblingNames","nameToCopy","copies","_ref18","_ref19","_ref20","modifier","updateCurrentFlow","_ref21","_ref22","_handleActions3","hashes","initialHashes","_handleActions4","categories","currentItems","recentItems","itemsCount","267","canFlowRedo","canFlowUndo","getDirtyFlows","getCurrentFlowNode","getCurrentFlow","currentKeys","initialKeys","union","dirtyFlows","xor","268","execute","_ref$maxQueue","maxQueue","_ref$maxInterval","maxInterval","queue","promises","run","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","reject","intervalId","resourceId","promise","destroy","ContentPickerWidget","showItemEdit","contentToEdit","editItem","contentItem","handleUpdate","_this$props","categorySchema","textContent","Addon","marginRight","pickContent","_CreateOrEditModal2","ConnectedContentPicker","ActionSection","showActionModalForm","onSubmitAction","options","optionsToItem","functionName","chunks","substring","waitable","checked","_this3","_props2","renderWait","_action2","onRemoveAction","onMoveAction","_ActionModalForm2","itemToOptions","EditableInput","onChanged","txt","transform","onKeyDown","keyCode","blur","onBlur","defaultValue","onMount","input","inputWidth","max","inputClass","editableInput","ref","width","autoComplete","PortWidget","PortModel","StandardPortWidgetDisconnected","StandardOutgoingPortModel","_classCallCheck","_get","subflow","substr","missingConnection","isStartNode","nextNode","portContainer","startPort","subflowPort","endPort","returnPort","portLabel","renderSubflowNode","renderEndNode","renderStartNode","renderReturnNode","StandardPortWidget","StandardIncomingPortModel","numberWithCommas","ModuleComponent","_props$module","docLink","author","isLoaded","moduleTitle","moduleDescription","moduleAuthor","moduleLicense","_props$module2","stars","forks","moduleIcons","moduleButton","Panel","modulePanel","Grid","fluid","Row","Col","sm","renderLeftSideModule","moduleRightSide","renderRightSideModule","ModulesComponent","refresh","trashAll","selectedIndex","markAsRead","tooltip","Tooltip","checkClassName","preventDefault","stopPropagation","ItemComponent","date","_moment2","fromNow","animated","fadeIn","checkButton","renderMarkAsReadButton","iconClass","onMouseOver","onMouseLeave","xs","onNotifClicked","renderMessage","_this4","renderMenuItem","margin","_utilRoles","operationAllowed","_ref2$fallback","panel-center","panel-center-tall","success","body","cloudContainer","cloudButton","633","LoginPage","password","handlePasswordChange","handleUserChange","handleSubmit","login","app","marginTop","_window$BOTPRESS_CLOU","BOTPRESS_CLOUD_SETTINGS","endpoint","botId","env","direct","fontWeight","ControlLabel","hasChangedPassword","reset","hasAnError","tallPanelStyle","panelStyle","blockStyle","logoStyle","errorStyle","successStyle","loginBody","BOTPRESS_CLOUD_ENABLED","renderLoginCloud","renderLoginRoot","textTransform","renderLoading","636","_Modules","InjectionSite","renderNotFound","injectionSite","_module2","logs-panel","logs-panel-footer","panel","panel-checkbox","line","level-silly","level-debug","level-verbose","level-warn","639","LoggerView","autoRefresh","logs","limit","hasMore","loadMore","toggleAutoRefresh","refreshInterval","queryLogs","cancelLoading","downloadArchive","_axios2","archiveUrl","method","responseType","URL","createObjectURL","Blob","setAttribute","click","getArchiveKey","timestamp","format","secret","renderLine","renderLines","logsPanelClassName","canLoadMore","_ContentWrapper2","_PageHeader2","Checkbox","inline","bar-btn","mark-read-btn","642","ListGroupItem","canTrash","trashTip","readTip","ListGroup","padding","ModuleView","homepage","role","_props$match$params","contents","renderLink","stretch","workspace","diagramContainer","diagram","sidePanel","wrapper","646","FlowPropertiesPanel","Tabs","animation","Tab","Badge","_ActionSection2","_TransitionSection2","SkillCallNodePropertiesPanel","renameNode","updateNode","_EditableInput2","setSelectionRange","transformText","goToFlow","ConditionModalForm","typeOfTransition","flowToSubflow","flowToNode","transitionError","conditionError","onSubmitClick","validation","earlierNode","isEdit","returnToNode","resetForm","onConditionChanged","subflowOptions","getSubflowOptions","nodeOptions","getNodeOptions","_reactSelect2","val","returnToNodeSection","htmlFor","_this5","closeButton","Title","section","Alert","Radio","defaultChecked","changeTransitionType","endBloc","returnBloc","renderReturnToNode","nodeBloc","renderNodesChoice","subflowBloc","renderSubflowChoice","Footer","tip","bottomSection","651","invalid","table","keyTip","mandatory","652","ParametersTable","transformArguments","valuesArray","fromPairs","Table","regenerateEmptyRowIfNeeded","getTime","deleteDuplicatedEmptyRows","isKeyValid","paramName","paramValue","definition","definitions","required","fake","help","keyClass","evt","category","655","SelectActionDropdown","renderOption","option","highlight","_reactHighlightWords2","searchWords","_inputValue","textToHighlight","metadata","onInputChange","inputValue","optionRenderer","ActionModalForm","actionType","avActions","actionMetadata","functionInputValue","messageValue","functionParams","onChangeType","fetchAvailableFunctions","tooltip2","paramsHelp","_SelectActionDropdown2","paramsDefinition","paramsDef","confirm","param","_reactMarkdown2","_ParametersTable2","parametersTable","sum","noop","renderSectionMessage","renderSectionAction","handler","StandardNodePropertiesPanel","NodePropsModal","renderNodeProperties","flowType","updateNodeAndRefresh","_SkillCallNode2","_StandardNode2","_FlowInformation2","_reducers","ConnectedNodeProps","_values2","NodeProps","loadingContainer","size-normal","size-large","size-small","663","VALID_WINDOW_SIZES","WrappedInjectedModule","moduleProps","SkillsBuilder","resetState","canSubmit","windowSize","renderModuleNotFound","onDataChanged","generateFlow","generated","onCancel","onValidChanged","valid","_reactLoaders2","onWindowResized","size","_includes2","sizes","buildModuleProps","initialData","resizeBuilderWindow","_find2","installedSkills","modalClassName","submitName","dialogClassName","backdrop","ConnectedSkillsBuilder","skills","rename","673","Topbar","promptRenameFlow","prompt","getCurrentFlowName","alert","cleanFlowName","ConnectedTopbar","677","compareNodes","splitFlowPath","getUniqueId","fullPath","flowPath","flowFolders","folders","currentPath","buildFlowsTree","tree","flowData","_splitFlowPath","flowDesc","folderDesc","sortChildren","menuButton","menu","popover","toggle","toggleActive","72","PageHeader","hasSidebar","noSidebar","ContentWrapper","unwrap","_stretch","childElement","hasPadding","contentWrapper","contentWrapperPadding","_selectors","bpApp","combineReducers","bot","tokenStr","localStorage","getItem","setItem","removeItem","reason","userId","__BP_VISITOR_ID","_reactTreebeard","theme","_merge2","defaultTheme","base","backgroundColor","height","activeLink","background","MyContainer","defaultDecorators","Container","getDecorators","renderMenu","toggled","decorators","treeProps","Treebeard","_lodash","FlowsList","menuButtons","hideOverlay","showDropdownIndex","handleAction","handleDelete","handleDuplicate","bsClass","overlayShown","refId","caret","Overlay","rootClose","toggleTreeNode","toggledNodes","activeNode","setNodeStates","treeData","buildTreeData","_tree2","onToggle","SidePanel","normalFlows","_reject2","_flows2","ConnectedSidePanel","insertNode","insertMode","804","_stormReactDiagrams","DeletableLinkWidget","addPointToLink","diagramEngine","isModelLocked","getMaxNumberPointsPerLink","point","PointModel","getRelativeMousePoint","setSelected","forceUpdate","addPoint","pointAdded","DefaultLinkWidget","Bottom","selected","isSelected","strokeWidth","stroke","refPaths","Top","strokeLinecap","onMouseEnter","data-linkid","getID","strokeOpacity","onContextMenu","DeletableLinkFactory","LinkFactory","_Ports","SkillCallNodeWidget","isWaiting","waitOnReceive","topPort","waiting","subtitle","outputPortName","footer","defaultProps","SkillCallNodeModel","_ref2$next","_ref2$isStartNode","setData","NodeModel","ports","_ref3$next","inNodeType","in","addPort","isObjectLike","SkillCallNodeWidgetFactory","createFactory","SkillCallWidgetFactory","NodeFactory","action-item","808","node-container","section-next","section-title","skill-call-node","section-onEnter","section-onReceive","809","StandardWidgetFactory","StandardNodeWidgetFactory","StandardNodeModel","StandardNodeWidget","Function","getOwnPropertyDescriptor","_ref2$onEnter","_ref2$onReceive","_ref3$onEnter","_ref3$onReceive","isNil","function","_StandardNode","_SkillCallNode","_LinkWidget","passThroughNodeProps","createNodeModel","onDiagramDoubleClick","onDiagramClick","selectedNode","getSelectedNode","activeModel","getLinks","targetPort","remove","diagramWidget","port","portLinks","last","outPort","parentNode","_this$diagramEngine$g","getRelativePoint","clientX","clientY","zoomFactor","getZoomLevel","getOffsetX","getOffsetY","oldX","oldY","checkForLinksUpdate","serialize","model","serializeDiagram","otherNodeId","otherNode","serializeLinks","ctrlKey","metaKey","copySelectedElementToBuffer","pasteElementFromBuffer","deleteSelectedElements","DiagramEngine","registerNodeFactory","registerLinkFactory","setModel","setOffset","fireAction","DiagramModel","setGridSize","linksHash","setLocked","addNode","createNodeLinks","setDiagramModel","diagramWidth","offsetWidth","totalFlowWidth","min","setZoomLevel","setOffsetX","setOffsetY","allNodes","existingLinks","existingLink","LinkModel","setSourcePort","setTargetPort","setPoints","pt","addLink","getNode","getPorts","removeNode","removeLink","snapshot","once","getNodes","deleteNode","syncNode","_this6","_this7","setPosition","getOutPorts","getSelectedItems","addEventListener","removeEventListener","prevProps","syncModel","clearModel","newLinks","newLinksHash","_this8","instance","getLink","reverse","elements","sortBy","getDiagramModel","nodeType","linkType","toast","autoClose","POSITION","TOP_CENTER","hideProgressBar","offsetX","offsetY","_this9","isInserting","tabIndex","outline","DiagramWidget","deleteKeys","ConnectedDiagram","withRef","Diagram","toolbar","unsavedText","btn","813","Toolbar","bp-navbar","borderBottom","current","potential","createTooltip","hasUnsavedChanges","isInsertNodeMode","noSkills","insertSkillsDropdown","DropdownButton","buildSkill","flowsNames","onCreateFlow","BOTPRESS_FLOW_EDITOR_DISABLED","onSaveAllFlows","canUndo","undo","canRedo","redo","onCopy","onPaste","canPasteNode","onDelete","ConnectedToolbar","_PermissionsChecker","initialized","init","nextFlow","hasDirtyFlows","exec","_Topbar2","_Toolbar2","_reactSplitPane2","minSize","defaultSize","_SidePanel2","_Diagram2","getWrappedInstance","_SkillsBuilder2","_NodeProps2","840","847","GhostView","showAbout","showSyncHelp","hideAbout","hideSyncHelp","revision","createdOn","created_on","mostRecent","timeAgo","moment","utc","_orderBy2","revertFile","datum","renderRevision","collapsible","defaultExpanded","Heading","renderFile","onDismiss","renderFolder","_state2","renderContent","renderBody","849","list","left","right","paging","851","ListView","checkedIds","allChecked","handleAllCheckedChanged","contentItems","handleDeleteSelected","handleCloneSelected","handleClone","handleSearchChanged","debouncedHandleSearch","renderContentItem","minWidth","handleCheckboxChanged","debounce","handleSearch","modified","pull","striped","bordered","condensed","hover","itemsPerPage","handleRefresh","pagingButtons","handlePrevious","handleNext","leftCls","rightCls","renderActionButtons","renderSearchBar","renderPaging","renderPagingButtons","renderHeader","renderTable","854","CATEGORY_ALL","SidebarView","renderCategory","_classnames4","selectedId","handleCategorySelected","handleAdd","renderAddButton","renderCategories","ContentView","showModal","handleCloseModal","handleCreateNew","handleUpsert","currentCategoryId","fetchCategoryItems","all","handleFormEdited","handleModalShowForEdit","canRead","canEdit","_state$selectedId","selectedCategory","_List2","sumBy","rel","documentation","858","dragging","middlewareList","middleware","circle","helpIcon","saveButton","dirty","880","_reactSortable","MiddlewareComponent","_props$middleware","enabled","toggleEnabled","bool","ListItem","SortableListItem","sortable","Middlewares","incoming","outgoing","incomingDragIndex","incomingItems","outgoingDragIndex","outgoingItems","initialStateHash","handleSort","draggingIndex","saveChanges","middlewares","order","setMiddlewares","initialIncomingOrder","initialOutgoingOrder","getStateHash","itemsKey","dragIndexKey","currentlyDragging","innerComponent","updateState","sortId","isDirty","newProp","renderList","renderIsDirty","renderSortable","renderIncoming","renderOutgoing","string","ManageView","handleReadMore","explication","getDocumentation","getReadMore","md","mdOffset","_Middlewares2","tags","tag","887","DEFAULT_TAG","queryModules","handleSearchChange","lowerCase","renderTag","handleChangeCategory","finally","getResultFromSearch","getResultFromCategory","splitOn","floor","_$chunk","chunk","_$chunk2","_slicedToArray","second","_Modules2","renderSearch","renderTags","renderModules","root","heroContainer","heroInfo","contribution","raysAnim","rays","contributionContent","890","HeroComponent","queryHero","github","contributions","utterances","renderUsername","sample","heroTooltip","avatar","renderPhrase","informationName","informationDescription","informationAuthor","informationVersion","informationLicense","whereFrom","893","InformationComponent","openLicenseComponent","botInformation","uninstall","896","907","909","popularModules","featuredModules","hiddenHeroSection","queryAllModules","fetchHeroConfig","popular","featured","hidden","smOffset","_Hero2","_Information2","hero","renderPopularModules","renderFeaturedModules","formSteps","INITIAL","PICK_CATEGORY","MAIN","SelectContent","handleChangeActiveItem","activeItemIndex","step","setCurrentCategory","handlePick","onSearchChange","newSearchTerm","searchContentItems","handleCreate","newItemCategory","newItemData","resetCreateContent","resetSearch","stateUpdate","resetCurrentCategory","_props$categoryId","hideCategoryInfo","onSelect","getVisibleCategories","renderCurrentCategoryInfo","getSearchDescription","aria-label","autoFocus","renderCategoryPicker","renderMainBody","SelectContentManager","selects","rootEl","removeChild","_ref2$categoryId","callback","_index2","big","emp","914","ReactEmoji","emojify","emojiType","attributes","STEPS_COUNT","GuidedTour","finished","buttonText","_Emoji2","bodyStyle","renderCurrentStep","renderSkipButton","renderPrevButton","renderNextButton","BOTPRESS_VERSION","919","textArea","920","License","renderLicenseTextArea","renderCancelButton","button","btn1","btn2","btn3","923","HelpButton","shown","toggleShown","basePosition","btnClass","showIcon","negate","community","tutorials","bottom","bottomInformation","innerFooter","unlicensed","production","progressBar","used","warning","urgent","reached","dot","buy","926","SidebarFooter","openAbout","progressClassNames","_classnames5","progress","usedClassNames","usedStyle","statusClassNames","dotClassNames","renderStatusDiv","Link","renderLicense","renderProgressBar","renderLicenseStatus","renderBuyLink","DEV_MODE","sidebarFooterClassNames","sidebarInnerClassNames","nameClassNames","productionClassNames","aboutClassNames","about","renderAllLicenseElements","929"],"mappings":"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,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,WAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC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","file":"web.bbaa0813b5117244902b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1466,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React, { Component } from 'react'\n\nimport { fetchStatus } from './util'\n\nconst CHECK_INTERVAL_SEC = 5\n\nclass GhostContentStatusChecker extends Component {\n  state = {\n    hasPending: false\n  }\n\n  fetch = () => {\n    fetchStatus()\n      .then(data => {\n        const hasPending = data && !!Object.keys(data).length\n        this.setState({ hasPending })\n      })\n      .catch(() => {\n        // do nothing\n      })\n  }\n\n  componentDidMount() {\n    this.fetch()\n    this.checkInterval = setInterval(this.fetch, CHECK_INTERVAL_SEC * 1000)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.checkInterval)\n  }\n\n  render() {\n    const { hasPending } = this.state\n    return (\n      hasPending && (\n        <span>\n          &nbsp;<i className=\"icon material-icons\" title=\"You have unsynced changes, see how to sync it.\">\n            warning\n          </i>\n        </span>\n      )\n    )\n  }\n}\n\nexport default GhostContentStatusChecker\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".SidebarHeader__logo___2S7yw {\\n  margin: 20px 0 10px 15px !important;\\n  padding: 3px; }\\n  .SidebarHeader__logo___2S7yw img {\\n    width: 110px; }\\n\\n.SidebarHeader__header___YVZ2E {\\n  width: 200px;\\n  max-width: 200px;\\n  background-color: #242424;\\n  color: #aaa; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"logo\": \"SidebarHeader__logo___2S7yw\",\n\t\"header\": \"SidebarHeader__header___YVZ2E\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarHeader.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarHeader.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarHeader.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem } from 'react-bootstrap'\nimport classnames from 'classnames'\n\nimport headerStyle from './Header.scss'\nimport style from './SidebarHeader.scss'\n\nexport default class SidebarHeader extends Component {\n  render() {\n    const headerClass = classnames(style.header, headerStyle.navbar, 'bp-sidebar-header')\n\n    return (\n      <Navbar inverse className={headerClass}>\n        <Navbar.Header>\n          <Navbar.Brand>\n            <a href=\"/\" className={classnames(style.logo, 'bp-logo')}>\n              <img src=\"/img/logo.png\" alt=\"Botpress Logo\" />\n            </a>\n          </Navbar.Brand>\n          <Navbar.Toggle />\n        </Navbar.Header>\n      </Navbar>\n    )\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { NavLink } from 'react-router-dom'\nimport classnames from 'classnames'\n\nimport ReactSidebar from 'react-sidebar'\nimport SidebarHeader from './SidebarHeader'\n\nimport GhostChecker from '~/views/GhostContent/Checker'\nimport PermissionsChecker from './PermissionsChecker'\n\nconst style = require('./Sidebar.scss')\n\nconst BASIC_MENU_ITEMS = [\n  {\n    name: 'Dashboard',\n    path: '/dashboard',\n    rule: { res: 'bot.information', op: 'read' },\n    icon: 'dashboard'\n  },\n  {\n    name: 'Modules',\n    path: '/manage',\n    rule: { res: 'bot.modules.list', op: 'read' },\n    icon: 'build'\n  },\n  window.GHOST_ENABLED && {\n    name: 'Version Control',\n    path: 'version-control',\n    rule: { res: 'bot.ghost_content', op: 'read' },\n    icon: 'content_copy',\n    renderSuffix() {\n      return <GhostChecker />\n    }\n  },\n  {\n    name: 'Content',\n    path: '/content',\n    rule: { res: 'bot.content', op: 'read' },\n    icon: 'description'\n  },\n  {\n    name: 'Flows',\n    path: '/flows',\n    rule: { res: 'bot.flows', op: 'read' },\n    icon: 'device_hub'\n  },\n  {\n    name: 'Middleware',\n    path: '/middleware',\n    rule: { res: 'bot.middleware.list', op: 'read' },\n    icon: 'settings'\n  }\n].filter(Boolean)\n\nclass Sidebar extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  state = {\n    sidebarOpen: false,\n    sidebarDocked: false\n  }\n\n  onSetSidebarOpen = open => {\n    this.setState({ sidebarOpen: open })\n  }\n\n  componentWillMount() {\n    const mql = window.matchMedia(`(min-width: 800px)`)\n    mql.addListener(this.mediaQueryChanged)\n    this.setState({ mql: mql, sidebarDocked: mql.matches })\n  }\n\n  componentWillUnmount() {\n    this.state.mql.removeListener(this.mediaQueryChanged)\n  }\n\n  mediaQueryChanged = () => {\n    this.setState({ sidebarDocked: this.state.mql.matches })\n  }\n\n  renderModuleItem = module => {\n    const path = `/modules/${module.name}`\n    const iconPath = `/img/modules/${module.name}.png`\n    const moduleIcon =\n      module.menuIcon === 'custom' ? (\n        <img className={classnames(style.customIcon, 'bp-custom-icon')} src={iconPath} />\n      ) : (\n        <i className=\"icon material-icons\">{module.menuIcon}</i>\n      )\n\n    return (\n      <li key={`menu_module_${module.name}`}>\n        <NavLink to={path} title={module.menuText} activeClassName={style.active}>\n          {moduleIcon}\n          <span>{module.menuText}</span>\n        </NavLink>\n      </li>\n    )\n  }\n\n  renderBasicItem = ({ name, path, rule, icon, renderSuffix }) => {\n    return (\n      <PermissionsChecker user={this.props.user} res={rule.res} op={rule.op} key={name}>\n        <li key={path}>\n          <NavLink to={path} title={name} activeClassName={style.active}>\n            <i className=\"icon material-icons\">{icon}</i>\n            {name}\n            {renderSuffix && renderSuffix()}\n          </NavLink>\n        </li>\n      </PermissionsChecker>\n    )\n  }\n\n  render() {\n    const modules = this.props.modules\n    const moduleItems = modules.filter(x => !x.noInterface).map(this.renderModuleItem)\n    const emptyClassName = classnames(style.empty, 'bp-empty')\n\n    const sidebarContent = (\n      <div className={classnames(style.sidebar, 'bp-sidebar')}>\n        <SidebarHeader />\n        <ul className=\"nav\">\n          {BASIC_MENU_ITEMS.map(this.renderBasicItem)}\n          {moduleItems}\n          <li className={emptyClassName} />\n        </ul>\n      </div>\n    )\n\n    const isOpen = this.props.viewMode < 1\n\n    return (\n      <ReactSidebar\n        sidebarClassName={classnames(style.sidebarReact, 'bp-sidebar-react')}\n        sidebar={sidebarContent}\n        open={isOpen}\n        docked={isOpen}\n        shadow={false}\n        transitions={false}\n        styles={{ sidebar: { zIndex: 20 } }}\n        onSetOpen={this.onSetSidebarOpen}\n      >\n        {this.props.children}\n      </ReactSidebar>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  viewMode: state.ui.viewMode,\n  modules: state.modules\n})\n\nexport default connect(mapStateToProps)(Sidebar)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Header__navbar___YUtxs {\\n  border: none;\\n  margin-bottom: 0;\\n  background-color: #ffffff;\\n  color: #434343; }\\n  .Header__navbar___YUtxs .navbar-nav a:hover, .Header__navbar___YUtxs .navbar-nav a:active, .Header__navbar___YUtxs .navbar-nav a:focus, .Header__navbar___YUtxs .navbar-nav a:visited {\\n    background: none !important;\\n    box-shadow: none !important; }\\n  .Header__navbar___YUtxs .open .material-icons {\\n    color: #434343 !important; }\\n  .Header__navbar___YUtxs .dropdown-menu a {\\n    width: 100%;\\n    text-decoration: none; }\\n\\n.navbar-default .navbar-nav > .open > a {\\n  background-color: #ffffff !important; }\\n\\n.Header__app-navbar___2NzX7 {\\n  position: fixed;\\n  right: 0;\\n  width: 100%;\\n  z-index: 10;\\n  border-bottom-style: solid;\\n  border-width: 1px;\\n  border-color: #eeeeee;\\n  border-radius: 0; }\\n  .Header__app-navbar___2NzX7 li a {\\n    color: #999 !important; }\\n    .Header__app-navbar___2NzX7 li a:hover {\\n      color: #434343 !important; }\\n\\n.Header__navbar___YUtxs .container {\\n  width: 100%; }\\n\\n.Header__slack___2RSAt img {\\n  opacity: 0.8;\\n  width: 17px;\\n  height: 17px;\\n  cursor: pointer; }\\n  .Header__slack___2RSAt img:hover {\\n    opacity: 1; }\\n\\n.Header__account___1x6oO {\\n  padding-top: 9px !important;\\n  padding-bottom: 0px !important;\\n  border: none; }\\n  .Header__account___1x6oO a {\\n    padding: 0px !important; }\\n  .Header__account___1x6oO img {\\n    height: 32px;\\n    width: 32px;\\n    border-radius: 50%; }\\n  .Header__account___1x6oO .material-icons {\\n    font-size: 32px; }\\n    .Header__account___1x6oO .material-icons:hover {\\n      color: #434343 !important; }\\n  .Header__account___1x6oO .dropdown-menu a {\\n    padding: 5px 10px !important;\\n    width: 100%;\\n    display: block;\\n    text-decoration: none; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"navbar\": \"Header__navbar___YUtxs\",\n\t\"app-navbar\": \"Header__app-navbar___2NzX7\",\n\t\"slack\": \"Header__slack___2RSAt\",\n\t\"account\": \"Header__account___1x6oO\"\n};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".hubStyle__markAsReadButton___10ECK {\\n  top: 22px;\\n  right: 12px; }\\n\\n.hubStyle__item___2bssI {\\n  padding-top: 4px;\\n  width: 400px;\\n  border-left: 4px solid #e2e2e2; }\\n\\n.hubStyle__item-unread___1zM1I.hubStyle__level-info___2c3jB {\\n  background-color: #f6f8ff;\\n  border-left: 4px solid #aeccee; }\\n\\n.hubStyle__item-unread___1zM1I.hubStyle__level-error___1bMIT {\\n  background-color: #fff7f6;\\n  border-left: 4px solid #eeb2ae; }\\n\\n.hubStyle__item-unread___1zM1I.hubStyle__level-success___plc0G {\\n  background-color: #f6fff7;\\n  border-left: 4px solid #aeeeb6; }\\n\\n.hubStyle__topMenu___1Vqke {\\n  padding: 10px 12px;\\n  border-bottom: 1px solid #d1d1d1;\\n  color: #5f5f5f;\\n  font-size: 13px; }\\n\\n.hubStyle__dropdown___1Hf-W {\\n  padding: 0; }\\n  .hubStyle__dropdown___1Hf-W.open > a {\\n    background-color: #f1f1f1 !important; }\\n\\n.hubStyle__message___f7ZP4 {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap; }\\n\\n.hubStyle__empty___pY-3M {\\n  width: 400px;\\n  padding: 20px;\\n  font-size: 15px;\\n  text-align: center; }\\n\\n.hubStyle__invisible___1WEZR {\\n  opacity: 0; }\\n\\n.hubStyle__icon___2W2Ia {\\n  width: 16px;\\n  height: 16px;\\n  font-size: 16px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"markAsReadButton\": \"hubStyle__markAsReadButton___10ECK\",\n\t\"item\": \"hubStyle__item___2bssI\",\n\t\"item-unread\": \"hubStyle__item-unread___1zM1I\",\n\t\"level-info\": \"hubStyle__level-info___2c3jB\",\n\t\"level-error\": \"hubStyle__level-error___1bMIT\",\n\t\"level-success\": \"hubStyle__level-success___plc0G\",\n\t\"topMenu\": \"hubStyle__topMenu___1Vqke\",\n\t\"dropdown\": \"hubStyle__dropdown___1Hf-W\",\n\t\"message\": \"hubStyle__message___f7ZP4\",\n\t\"empty\": \"hubStyle__empty___pY-3M\",\n\t\"invisible\": \"hubStyle__invisible___1WEZR\",\n\t\"icon\": \"hubStyle__icon___2W2Ia\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./hubStyle.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./hubStyle.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./hubStyle.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","var map = {\n\t\"./af\": 510,\n\t\"./af.js\": 510,\n\t\"./ar\": 509,\n\t\"./ar-dz\": 508,\n\t\"./ar-dz.js\": 508,\n\t\"./ar-kw\": 507,\n\t\"./ar-kw.js\": 507,\n\t\"./ar-ly\": 506,\n\t\"./ar-ly.js\": 506,\n\t\"./ar-ma\": 505,\n\t\"./ar-ma.js\": 505,\n\t\"./ar-sa\": 504,\n\t\"./ar-sa.js\": 504,\n\t\"./ar-tn\": 503,\n\t\"./ar-tn.js\": 503,\n\t\"./ar.js\": 509,\n\t\"./az\": 502,\n\t\"./az.js\": 502,\n\t\"./be\": 501,\n\t\"./be.js\": 501,\n\t\"./bg\": 500,\n\t\"./bg.js\": 500,\n\t\"./bm\": 499,\n\t\"./bm.js\": 499,\n\t\"./bn\": 498,\n\t\"./bn.js\": 498,\n\t\"./bo\": 497,\n\t\"./bo.js\": 497,\n\t\"./br\": 496,\n\t\"./br.js\": 496,\n\t\"./bs\": 495,\n\t\"./bs.js\": 495,\n\t\"./ca\": 494,\n\t\"./ca.js\": 494,\n\t\"./cs\": 493,\n\t\"./cs.js\": 493,\n\t\"./cv\": 492,\n\t\"./cv.js\": 492,\n\t\"./cy\": 491,\n\t\"./cy.js\": 491,\n\t\"./da\": 490,\n\t\"./da.js\": 490,\n\t\"./de\": 489,\n\t\"./de-at\": 488,\n\t\"./de-at.js\": 488,\n\t\"./de-ch\": 487,\n\t\"./de-ch.js\": 487,\n\t\"./de.js\": 489,\n\t\"./dv\": 486,\n\t\"./dv.js\": 486,\n\t\"./el\": 485,\n\t\"./el.js\": 485,\n\t\"./en-au\": 484,\n\t\"./en-au.js\": 484,\n\t\"./en-ca\": 483,\n\t\"./en-ca.js\": 483,\n\t\"./en-gb\": 482,\n\t\"./en-gb.js\": 482,\n\t\"./en-ie\": 481,\n\t\"./en-ie.js\": 481,\n\t\"./en-il\": 480,\n\t\"./en-il.js\": 480,\n\t\"./en-nz\": 479,\n\t\"./en-nz.js\": 479,\n\t\"./eo\": 478,\n\t\"./eo.js\": 478,\n\t\"./es\": 477,\n\t\"./es-do\": 476,\n\t\"./es-do.js\": 476,\n\t\"./es-us\": 475,\n\t\"./es-us.js\": 475,\n\t\"./es.js\": 477,\n\t\"./et\": 474,\n\t\"./et.js\": 474,\n\t\"./eu\": 473,\n\t\"./eu.js\": 473,\n\t\"./fa\": 472,\n\t\"./fa.js\": 472,\n\t\"./fi\": 471,\n\t\"./fi.js\": 471,\n\t\"./fo\": 470,\n\t\"./fo.js\": 470,\n\t\"./fr\": 469,\n\t\"./fr-ca\": 468,\n\t\"./fr-ca.js\": 468,\n\t\"./fr-ch\": 467,\n\t\"./fr-ch.js\": 467,\n\t\"./fr.js\": 469,\n\t\"./fy\": 466,\n\t\"./fy.js\": 466,\n\t\"./gd\": 465,\n\t\"./gd.js\": 465,\n\t\"./gl\": 464,\n\t\"./gl.js\": 464,\n\t\"./gom-latn\": 463,\n\t\"./gom-latn.js\": 463,\n\t\"./gu\": 462,\n\t\"./gu.js\": 462,\n\t\"./he\": 461,\n\t\"./he.js\": 461,\n\t\"./hi\": 460,\n\t\"./hi.js\": 460,\n\t\"./hr\": 459,\n\t\"./hr.js\": 459,\n\t\"./hu\": 458,\n\t\"./hu.js\": 458,\n\t\"./hy-am\": 457,\n\t\"./hy-am.js\": 457,\n\t\"./id\": 456,\n\t\"./id.js\": 456,\n\t\"./is\": 455,\n\t\"./is.js\": 455,\n\t\"./it\": 454,\n\t\"./it.js\": 454,\n\t\"./ja\": 453,\n\t\"./ja.js\": 453,\n\t\"./jv\": 452,\n\t\"./jv.js\": 452,\n\t\"./ka\": 451,\n\t\"./ka.js\": 451,\n\t\"./kk\": 450,\n\t\"./kk.js\": 450,\n\t\"./km\": 449,\n\t\"./km.js\": 449,\n\t\"./kn\": 448,\n\t\"./kn.js\": 448,\n\t\"./ko\": 447,\n\t\"./ko.js\": 447,\n\t\"./ky\": 446,\n\t\"./ky.js\": 446,\n\t\"./lb\": 445,\n\t\"./lb.js\": 445,\n\t\"./lo\": 444,\n\t\"./lo.js\": 444,\n\t\"./lt\": 443,\n\t\"./lt.js\": 443,\n\t\"./lv\": 442,\n\t\"./lv.js\": 442,\n\t\"./me\": 441,\n\t\"./me.js\": 441,\n\t\"./mi\": 440,\n\t\"./mi.js\": 440,\n\t\"./mk\": 439,\n\t\"./mk.js\": 439,\n\t\"./ml\": 438,\n\t\"./ml.js\": 438,\n\t\"./mn\": 437,\n\t\"./mn.js\": 437,\n\t\"./mr\": 436,\n\t\"./mr.js\": 436,\n\t\"./ms\": 435,\n\t\"./ms-my\": 434,\n\t\"./ms-my.js\": 434,\n\t\"./ms.js\": 435,\n\t\"./mt\": 433,\n\t\"./mt.js\": 433,\n\t\"./my\": 432,\n\t\"./my.js\": 432,\n\t\"./nb\": 431,\n\t\"./nb.js\": 431,\n\t\"./ne\": 430,\n\t\"./ne.js\": 430,\n\t\"./nl\": 429,\n\t\"./nl-be\": 428,\n\t\"./nl-be.js\": 428,\n\t\"./nl.js\": 429,\n\t\"./nn\": 427,\n\t\"./nn.js\": 427,\n\t\"./pa-in\": 426,\n\t\"./pa-in.js\": 426,\n\t\"./pl\": 425,\n\t\"./pl.js\": 425,\n\t\"./pt\": 424,\n\t\"./pt-br\": 423,\n\t\"./pt-br.js\": 423,\n\t\"./pt.js\": 424,\n\t\"./ro\": 422,\n\t\"./ro.js\": 422,\n\t\"./ru\": 421,\n\t\"./ru.js\": 421,\n\t\"./sd\": 420,\n\t\"./sd.js\": 420,\n\t\"./se\": 419,\n\t\"./se.js\": 419,\n\t\"./si\": 418,\n\t\"./si.js\": 418,\n\t\"./sk\": 417,\n\t\"./sk.js\": 417,\n\t\"./sl\": 416,\n\t\"./sl.js\": 416,\n\t\"./sq\": 415,\n\t\"./sq.js\": 415,\n\t\"./sr\": 414,\n\t\"./sr-cyrl\": 413,\n\t\"./sr-cyrl.js\": 413,\n\t\"./sr.js\": 414,\n\t\"./ss\": 412,\n\t\"./ss.js\": 412,\n\t\"./sv\": 411,\n\t\"./sv.js\": 411,\n\t\"./sw\": 410,\n\t\"./sw.js\": 410,\n\t\"./ta\": 409,\n\t\"./ta.js\": 409,\n\t\"./te\": 408,\n\t\"./te.js\": 408,\n\t\"./tet\": 407,\n\t\"./tet.js\": 407,\n\t\"./tg\": 406,\n\t\"./tg.js\": 406,\n\t\"./th\": 405,\n\t\"./th.js\": 405,\n\t\"./tl-ph\": 404,\n\t\"./tl-ph.js\": 404,\n\t\"./tlh\": 403,\n\t\"./tlh.js\": 403,\n\t\"./tr\": 402,\n\t\"./tr.js\": 402,\n\t\"./tzl\": 401,\n\t\"./tzl.js\": 401,\n\t\"./tzm\": 400,\n\t\"./tzm-latn\": 399,\n\t\"./tzm-latn.js\": 399,\n\t\"./tzm.js\": 400,\n\t\"./ug-cn\": 398,\n\t\"./ug-cn.js\": 398,\n\t\"./uk\": 397,\n\t\"./uk.js\": 397,\n\t\"./ur\": 396,\n\t\"./ur.js\": 396,\n\t\"./uz\": 395,\n\t\"./uz-latn\": 394,\n\t\"./uz-latn.js\": 394,\n\t\"./uz.js\": 395,\n\t\"./vi\": 393,\n\t\"./vi.js\": 393,\n\t\"./x-pseudo\": 392,\n\t\"./x-pseudo.js\": 392,\n\t\"./yo\": 391,\n\t\"./yo.js\": 391,\n\t\"./zh-cn\": 390,\n\t\"./zh-cn.js\": 390,\n\t\"./zh-hk\": 389,\n\t\"./zh-hk.js\": 389,\n\t\"./zh-tw\": 388,\n\t\"./zh-tw.js\": 388\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1011;","import React from 'react'\nimport { connect } from 'react-redux'\nimport { NavDropdown, MenuItem } from 'react-bootstrap'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport NotificationComponent from './index.jsx'\nimport styles from './hubStyle.scss'\n\nconst NB_OF_NOTIFICATIONS_TO_DISPLAY = 6\n\nclass NotificationHub extends NotificationComponent {\n  constructor(props, context) {\n    super(props, context, {\n      itemComponent: MenuItem,\n      renderDivider: true,\n      styles: styles\n    })\n  }\n\n  renderMessage(message) {\n    return <div className={classnames(styles.message, 'bp-hub-message')}>{message}</div>\n  }\n\n  renderEmptyPanel() {\n    return (\n      <MenuItem header className={styles.empty}>\n        <div>You have no notifications !</div>\n      </MenuItem>\n    )\n  }\n\n  render() {\n    const notifications = this.props.notifications || []\n    const isEmpty = notifications.length === 0\n    const displayedNotifications = _.take(notifications, NB_OF_NOTIFICATIONS_TO_DISPLAY)\n    const unread = _.filter(notifications, { read: false })\n    const unreadCount = unread.length\n\n    const hasAnyError = _.some(unread, notif => {\n      return notif.level === 'error'\n    })\n\n    const className = classnames('label', {\n      'label-danger': hasAnyError,\n      'label-default': !hasAnyError,\n      invisible: unreadCount === 0\n    })\n\n    const label = (\n      <span>\n        <em className=\"glyphicon glyphicon-bell\" />\n        <span className={className}>{unreadCount}</span>\n      </span>\n    )\n\n    return (\n      <NavDropdown\n        id=\"notificationsDropdown\"\n        noCaret={!unreadCount}\n        title={label}\n        className={classnames(styles.dropdown, 'bp-notifications-dropdown')}\n      >\n        <MenuItem header className={classnames(styles.topMenu, 'bp-top-menu')}>\n          <span>\n            <strong>Notifications</strong>\n            &nbsp; &middot; &nbsp; total of {notifications.length}\n          </span>\n          <div className=\"pull-right\">\n            <a href=\"#\" onClick={this.markAllAsRead}>\n              Mark all as read\n            </a>\n            &nbsp; &middot; &nbsp;\n            <a href=\"/notifications\">Show all</a>\n          </div>\n        </MenuItem>\n        {isEmpty && this.renderEmptyPanel()}\n        {this.renderMenuItems(displayedNotifications)}\n      </NavDropdown>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ notifications: state.notifications })\n\nexport default connect(mapStateToProps)(NotificationHub)\n","import React from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport { Navbar, Nav, NavItem, Glyphicon, NavDropdown, MenuItem } from 'react-bootstrap'\nimport classnames from 'classnames'\n\nimport NotificationHub from '~/components/Notifications/Hub'\n\nimport { logout } from '~/util/Auth'\nimport style from './Header.scss'\nimport { viewModeChanged } from '~/actions'\nimport PermissionsChecker from './PermissionsChecker'\n\nclass Header extends React.Component {\n  state = {\n    loading: true\n  }\n\n  handleFullscreen = () => {\n    const newViewMode = this.props.viewMode < 1 ? 1 : 0\n    this.props.viewModeChanged(newViewMode)\n  }\n\n  renderLogoutButton() {\n    if (!window.AUTH_ENABLED) {\n      return null\n    }\n\n    const url = this.props.user.avatar_url\n    const label = url ? <img src={url} /> : <i className=\"material-icons\">account_circle</i>\n\n    return (\n      <NavDropdown className={style.account} noCaret title={label} id=\"account-button\">\n        <MenuItem header>Signed in as</MenuItem>\n        <MenuItem disabled>&nbsp;{this.props.user.email}</MenuItem>\n        <MenuItem disabled>&nbsp;{this.props.user.username}</MenuItem>\n        <MenuItem divider />\n        <MenuItem eventKey={1} onClick={logout}>\n          <b>Logout</b>\n        </MenuItem>\n      </NavDropdown>\n    )\n  }\n\n  renderFullScreenButton() {\n    return (\n      <span className={classnames(style.fullScreen, 'bp-full-screen')}>\n        <Glyphicon glyph=\"fullscreen\" />\n      </span>\n    )\n  }\n\n  render() {\n    if (this.props.viewMode >= 3) {\n      return null\n    }\n\n    const classNames = classnames(style.navbar, style['app-navbar'], 'bp-navbar')\n    const customStyle = this.props.customStyle['bp-navbar']\n\n    return (\n      <Navbar className={classNames} style={customStyle}>\n        <Navbar.Collapse>\n          <Nav pullRight>\n            <NavItem onClick={this.handleFullscreen}>{this.renderFullScreenButton()}</NavItem>\n            <PermissionsChecker user={this.props.user} res=\"bot.logs\" op=\"read\">\n              <NavItem href=\"/logs\">\n                <Glyphicon glyph=\"list-alt\" />\n              </NavItem>\n            </PermissionsChecker>\n            <PermissionsChecker user={this.props.user} res=\"bot.notifications\" op=\"read\">\n              <NotificationHub />\n            </PermissionsChecker>\n            {this.renderLogoutButton()}\n          </Nav>\n          <Nav pullRight className=\"bp-navbar-module-buttons\" />\n        </Navbar.Collapse>\n      </Navbar>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  viewMode: state.ui.viewMode,\n  customStyle: state.ui.customStyle\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ viewModeChanged }, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)\n","import React from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport classnames from 'classnames'\nimport { ToastContainer } from 'react-toastify'\nimport { Route, Switch, Redirect } from 'react-router-dom'\n\nimport Header from './Header'\nimport Sidebar from './Sidebar'\nimport SidebarFooter from './SidebarFooter'\nimport HelpButton from './HelpButton'\n\nimport LicenseComponent from '~/components/License'\nimport AboutComponent from '~/components/About'\nimport GuidedTour from '~/components/Tour'\nimport SelectContentManager from '~/components/Content/Select/Manager'\nimport Dashboard from '~/views/Dashboard'\nimport Manage from '~/views/Manage'\nimport Middleware from '~/views/Middleware'\nimport Content from '~/views/Content'\nimport GhostContent from '~/views/GhostContent'\nimport FlowBuilder from '~/views/FlowBuilder'\nimport Module from '~/views/Module'\nimport Notifications from '~/views/Notifications'\nimport Logs from '~/views/Logs'\n\nimport PluginInjectionSite from '~/components/PluginInjectionSite'\n\nimport { toggleLicenseModal, viewModeChanged } from '~/actions'\n\nimport style from './style.scss'\n\nclass Layout extends React.Component {\n  componentDidMount() {\n    const viewMode = this.props.location.query && this.props.location.query.viewMode\n\n    setImmediate(() => {\n      this.props.viewModeChanged(viewMode || 0)\n    })\n  }\n\n  render() {\n    if (this.props.viewMode < 0) {\n      return null\n    }\n\n    const hasHeader = this.props.viewMode <= 2\n    const classNames = classnames({\n      [style.container]: hasHeader,\n      'bp-container': hasHeader\n    })\n\n    return (\n      <div className=\"wrapper bp-wrapper\">\n        <ToastContainer />\n        <Sidebar>\n          <Header />\n          <section className={classNames}>\n            <Switch>\n              <Route exact path=\"/\" render={() => <Redirect to=\"/dashboard\" />} />\n              <Route exact path=\"/dashboard\" component={Dashboard} />\n              <Route exact path=\"/manage\" component={Manage} />\n              <Route exact path=\"/middleware\" component={Middleware} />\n              <Route exact path=\"/content\" component={Content} />\n              <Route exact path=\"/version-control\" component={GhostContent} />\n              <Route exact path=\"/flows/:flow*\" component={FlowBuilder} />\n              <Route exact path=\"/modules/:moduleName/:subView?\" component={Module} />\n              <Route exact path=\"/notifications\" component={Notifications} />\n              <Route exact path=\"/logs\" component={Logs} />\n            </Switch>\n          </section>\n        </Sidebar>\n        <SidebarFooter />\n        <GuidedTour opened={window.SHOW_GUIDED_TOUR} />\n        <LicenseComponent\n          opened={this.props.licenseModalOpened}\n          license={{ text: this.props.license.text, name: this.props.license.name }}\n          toggleLicenseModal={this.props.toggleLicenseModal}\n        />\n        <AboutComponent opened={this.props.aboutModalOpened} />\n        <PluginInjectionSite site=\"overlay\" />\n        <HelpButton />\n        <SelectContentManager />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  license: state.license,\n  licenseModalOpened: state.ui.licenseModalOpened,\n  aboutModalOpened: state.ui.aboutModalOpened,\n  viewMode: state.ui.viewMode\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ toggleLicenseModal, viewModeChanged }, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withRouter } from 'react-router-dom'\nimport qs from 'query-string'\n\nimport axios from 'axios'\nimport _ from 'lodash'\n\nimport { getToken, logout, authEvents, setToken } from '~/util/Auth'\n\nconst CHECK_AUTH_INTERVAL = 60 * 1000\n\nconst validateToken = () => {\n  const token = getToken()\n  const elapsed = new Date() - new Date(token.time)\n  const tokenStillValid = !!token && elapsed < window.AUTH_TOKEN_DURATION\n  if (!tokenStillValid) {\n    logout()\n  }\n  return tokenStillValid\n}\n\nconst ensureAuthenticated = WrappedComponent => {\n  class AuthenticationWrapper extends React.Component {\n    static contextTypes = {\n      router: PropTypes.object\n    }\n\n    state = {\n      authorized: false\n    }\n\n    componentDidMount() {\n      authEvents.on('logout', this.promptLogin)\n      this.setupAuth()\n    }\n\n    componentWillUnmount() {\n      authEvents.off('logout', this.promptLogin)\n      clearInterval(this.checkInterval)\n    }\n\n    promptLogin = () => {\n      const urlToken = _.get(this.props, 'location.query.token')\n\n      if (location.pathname !== '/login' && !urlToken) {\n        this.context.router.history.push('/login?returnTo=' + location.pathname)\n      }\n      window.botpressWebChat && window.botpressWebChat.sendEvent({ type: 'hide' })\n    }\n\n    setupAuth() {\n      if (!window.AUTH_ENABLED && !this.state.authorized) {\n        this.setState({ authorized: true })\n        return\n      }\n\n      const urlToken = _.get(this.props, 'location.query.token')\n      const params = JSON.parse(_.get(this.props, 'location.query.params') || '{}')\n\n      if (urlToken) {\n        setToken(urlToken)\n        const newQuery = _.omit(this.props.location.query, ['token', 'botId', 'env', 'params'])\n        this.context.router.history.replace(\n          Object.assign({}, this.props.location, {\n            search: qs.stringify(newQuery),\n            query: newQuery,\n            pathname: params.returnTo || this.props.location.pathname\n          })\n        )\n      }\n\n      const tokenStillValid = validateToken()\n      this.setState({ authorized: tokenStillValid })\n\n      if (tokenStillValid) {\n        this.checkAuth()\n        this.checkInterval = setInterval(this.checkAuth, CHECK_AUTH_INTERVAL)\n      } else {\n        this.promptLogin()\n      }\n    }\n\n    checkAuth = () => {\n      axios.get('/api/ping').catch(err => {\n        if (err.response.status === 401) {\n          this.promptLogin()\n        }\n      })\n    }\n\n    render() {\n      return this.state.authorized === true ? <WrappedComponent {...this.props} /> : null\n    }\n  }\n\n  return withRouter(AuthenticationWrapper)\n}\n\nexport default ensureAuthenticated\n","import React from 'react'\nimport { Router, Route, Link, Switch } from 'react-router-dom'\nimport createBrowserHistory from 'history/createBrowserHistory'\nimport queryString from 'query-string'\nimport ReactGA from 'react-ga'\n\nimport EnsureAuthenticated from '~/components/Authentication'\nimport Layout from '~/components/Layout'\nimport Login from '~/views/Login'\n\n// react-router doesn't do query parsing anymore since V4\n// https://github.com/ReactTraining/react-router/issues/4410\nconst addLocationQuery = history => {\n  history.location = Object.assign(history.location, {\n    query: queryString.parse(history.location.search)\n  })\n}\n\nconst history = createBrowserHistory()\naddLocationQuery(history)\nhistory.listen(() => addLocationQuery(history))\n\nconst logPageView = () => {\n  ReactGA.set({ page: window.location.pathname })\n  ReactGA.pageview(window.location.pathname)\n}\n\nexport default () => {\n  if (!window.OPT_OUT_STATS) {\n    ReactGA.initialize('UA-90044826-1')\n  }\n  const AuthenticatedLayout = EnsureAuthenticated(Layout)\n\n  return (\n    <Router history={history} onUpdate={logPageView}>\n      <Switch>\n        <Route exact path=\"/login\" key=\"login-route\" component={Login} />\n        <AuthenticatedLayout />\n      </Switch>\n    </Router>\n  )\n}\n","import { Component } from 'react'\n\nimport { connect } from 'react-redux'\n\nimport { authEvents } from '~/util/Auth'\nimport EventBus from '~/util/EventBus'\nimport routes from '../Routes'\n\nimport {\n  fetchLicense,\n  fetchUser,\n  fetchBotInformation,\n  fetchModules,\n  fetchNotifications,\n  replaceNotifications,\n  addNotifications\n} from '~/actions'\n\nclass App extends Component {\n  componentWillMount() {\n    if (window.APP_NAME) {\n      window.document.title = window.APP_NAME\n    }\n\n    EventBus.default.setup()\n  }\n\n  fetchData = () => {\n    this.props.fetchModules()\n    this.props.fetchNotifications()\n    this.props.fetchBotInformation()\n    this.props.fetchLicense()\n\n    this.props.fetchUser(window.AUTH_ENABLED)\n  }\n\n  componentDidMount() {\n    // This acts as the app lifecycle management.\n    // If this grows too much, move to a dedicated lifecycle manager.\n    this.fetchData()\n\n    authEvents.on('login', this.fetchData)\n    authEvents.on('new_token', this.fetchData)\n\n    EventBus.default.on('notifications.all', notifications => {\n      this.props.replaceNotifications(notifications)\n    })\n\n    EventBus.default.on('notifications.new', notification => {\n      this.props.addNotifications([notification])\n    })\n  }\n\n  render() {\n    return routes()\n  }\n}\n\nconst mapDispatchToProps = {\n  fetchLicense,\n  fetchUser,\n  fetchBotInformation,\n  fetchModules,\n  fetchNotifications,\n  replaceNotifications,\n  addNotifications\n}\n\nexport default connect(null, mapDispatchToProps)(App)\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".component-mount .btn {\\n  font-size: 14px;\\n  opacity: 0.75;\\n  text-align: center;\\n  padding-left: 20px;\\n  padding-right: 20px;\\n  transition: opacity 0.15s ease-in-out, background-color 0.15s ease-in-out; }\\n  .component-mount .btn:hover {\\n    opacity: 1; }\\n\\n.component-mount .btn-success {\\n  color: #ffffff;\\n  background-color: #46cba0;\\n  border-color: #46cba0; }\\n  .component-mount .btn-success:hover {\\n    background-color: #40bd94;\\n    border-color: #40bd94;\\n    color: #ffffff; }\\n\\n.component-mount .btn-danger {\\n  background-color: #af4f4b;\\n  border-color: #af4f4b; }\\n  .component-mount .btn-danger:hover {\\n    background-color: #b13434;\\n    border-color: #b13434; }\\n\\n.component-mount .btn-default {\\n  background-color: #b1b1b1;\\n  border-color: #b1b1b1; }\\n  .component-mount .btn-default:hover {\\n    background-color: #a5a5a5;\\n    border-color: #a5a5a5; }\\n\\n.component-mount .control-label {\\n  color: #434343; }\\n\\n.component-mount .react-tagsinput {\\n  background-color: #fff;\\n  border-radius: 5px;\\n  border: 1px solid #efefef;\\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s; }\\n\\n.component-mount .react-tagsinput--focused {\\n  border-color: #56c0b2;\\n  outline: 0;\\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(86, 192, 178, 0.6); }\\n\\n.component-mount .react-tagsinput-tag {\\n  background-color: #efefef;\\n  border-radius: 5px;\\n  border: 1px solid #efefef;\\n  color: #6d6d6d; }\\n\\n.component-mount .react-tagsinput-input {\\n  width: 200px; }\\n\\n.component-mount .form-control {\\n  box-shadow: none;\\n  border-color: #efefef; }\\n  .component-mount .form-control:focus {\\n    border-color: #56c0b2;\\n    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(86, 192, 178, 0.6); }\\n\\n.component-mount .input-group-addon {\\n  border-color: #efefef; }\\n\\n.component-mount .react-toggle--checked .react-toggle-thumb {\\n  border-color: #56c0b2; }\\n\\n.component-mount .react-toggle--checked .react-toggle-track {\\n  background-color: #56c0b2 !important; }\\n\\na {\\n  transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, color 0.15s ease-in-out; }\\n\\nhtml {\\n  height: 100%; }\\n\\nbody {\\n  height: 100%;\\n  font-family: 'Lato', sans-serif !important;\\n  font-weight: 400;\\n  background-color: #eee;\\n  color: #434343; }\\n\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6,\\n.theme__h1___22DqW,\\n.theme__h2___1ik0N,\\n.theme__h3___16bn9,\\n.theme__h4___1iBCF,\\n.theme__h5___1jrRg,\\n.theme__h6___m3vda {\\n  font-weight: 300; }\\n\\nb {\\n  font-weight: 500; }\\n\\n.panel {\\n  border: none;\\n  border-radius: 3px;\\n  box-shadow: none;\\n  background-color: #fff; }\\n  .panel .panel-heading {\\n    padding: 15px 20px;\\n    border-color: #f7f7f7;\\n    background-color: #fff;\\n    text-transform: uppercase;\\n    font-size: 12px;\\n    font-weight: 350; }\\n\\n.form-control:focus {\\n  border-color: #56c0b2;\\n  outline: 0;\\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(86, 192, 178, 0.6); }\\n\\n.bp-primary-color-text {\\n  color: #58d1b0; }\\n\\n.bp-primary-color-bg {\\n  color: #ffffff;\\n  background-color: #58d1b0; }\\n\\n.bp-button {\\n  color: #ffffff;\\n  background-color: #46cba0;\\n  min-width: 80px;\\n  display: inline-block;\\n  font-size: 15px;\\n  font-variant: normal;\\n  line-height: 1.5;\\n  text-align: center;\\n  white-space: nowrap;\\n  margin: 1px 1px;\\n  padding-top: 4px;\\n  padding-bottom: 4px;\\n  padding-left: 20px;\\n  padding-right: 20px;\\n  border: 1px solid transparent;\\n  border-radius: 4px;\\n  outline: 0;\\n  transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, color 0.15s ease-in-out; }\\n  .bp-button:hover, .bp-button:focus, .bp-button:active {\\n    color: #ffffff;\\n    background-color: #40bd94;\\n    outline: 0;\\n    box-shadow: none;\\n    border: 1px solid transparent; }\\n\\n.bp-button-default {\\n  background-color: #b1b1b1; }\\n  .bp-button-default:hover, .bp-button-default:focus {\\n    background-color: #a5a5a5; }\\n\\n.bp-button-danger {\\n  background-color: #af4f4b; }\\n  .bp-button-danger:hover, .bp-button-danger:focus {\\n    background-color: #b13434; }\\n\\n.react-autosuggest__container {\\n  position: relative; }\\n\\n.react-autosuggest__input {\\n  width: 240px;\\n  height: 30px;\\n  padding: 10px 20px;\\n  font-family: Helvetica, sans-serif;\\n  font-weight: 300;\\n  font-size: 16px;\\n  border: 1px solid #aaa;\\n  border-radius: 4px; }\\n\\n.react-autosuggest__input--focused {\\n  outline: none; }\\n\\n.react-autosuggest__input--open {\\n  border-bottom-left-radius: 0;\\n  border-bottom-right-radius: 0; }\\n\\n.react-autosuggest__suggestions-container {\\n  display: none; }\\n\\n.react-autosuggest__suggestions-container--open {\\n  display: block;\\n  position: absolute;\\n  top: 51px;\\n  width: 280px;\\n  border: 1px solid #aaa;\\n  background-color: #fff;\\n  font-family: Helvetica, sans-serif;\\n  font-weight: 300;\\n  font-size: 16px;\\n  border-bottom-left-radius: 4px;\\n  border-bottom-right-radius: 4px;\\n  z-index: 2; }\\n\\n.react-autosuggest__suggestions-list {\\n  margin: 0;\\n  padding: 0;\\n  list-style-type: none; }\\n\\n.react-autosuggest__suggestion {\\n  cursor: pointer;\\n  padding: 10px 20px; }\\n\\n.react-autosuggest__suggestion--highlighted {\\n  background-color: #ddd; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"h1\": \"theme__h1___22DqW\",\n\t\"h2\": \"theme__h2___1ik0N\",\n\t\"h3\": \"theme__h3___16bn9\",\n\t\"h4\": \"theme__h4___1iBCF\",\n\t\"h5\": \"theme__h5___1jrRg\",\n\t\"h6\": \"theme__h6___m3vda\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/lib/index.js!../../node_modules/sass-loader/lib/loader.js!./theme.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/lib/index.js!../../node_modules/sass-loader/lib/loader.js!./theme.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/lib/index.js!../../node_modules/sass-loader/lib/loader.js!./theme.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__createItem___17KQ- {\\n  border-left: 3px solid #58d1b0; }\\n\\n.style__editButton___2eI1Q {\\n  border-radius: 0;\\n  margin-left: -1px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"createItem\": \"style__createItem___17KQ-\",\n\t\"editButton\": \"style__editButton___2eI1Q\"\n};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__modal___2cM9s .btn-info {\\n  background-color: #46cba0;\\n  border-color: #46cba0; }\\n  .style__modal___2cM9s .btn-info:hover {\\n    background-color: #40bd94;\\n    border-color: #40bd94; }\\n\\n.style__cancel___151HQ {\\n  position: absolute;\\n  left: 90px;\\n  bottom: 24px;\\n  height: 34px;\\n  padding-right: 12px;\\n  padding-left: 12px;\\n  min-width: 70px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"modal\": \"style__modal___2cM9s\",\n\t\"cancel\": \"style__cancel___151HQ\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar r = 'r';\nvar w = 'w';\n\nvar _enrichResources = function _enrichResources(resources, parent) {\n  if (!resources) {\n    return resources;\n  }\n\n  return resources.map(function (res) {\n    var fullName = parent != null ? parent + '.' + res.name : res.name;\n    return _extends({}, res, {\n      displayName: res.name,\n      name: fullName,\n      children: _enrichResources(res.children, fullName)\n    });\n  });\n};\n\nvar enrichResources = exports.enrichResources = function enrichResources(resources) {\n  return _enrichResources(resources);\n};\n\nvar _RESOURCES = [{\n  name: '*',\n  description: 'All resources, at once. Use with caution',\n  operations: [r, w]\n}, {\n  name: 'bot',\n  description: 'Bot properties, such as content, flows etc.',\n  children: [{\n    name: '*',\n    description: 'All bot properties',\n    operations: [r, w]\n  }, {\n    name: 'notifications',\n    description: 'Bot notifications, such as runtime errors',\n    operations: [r]\n  }, {\n    name: 'modules.*',\n    description: 'Bot extensions, such as NLU or HITL',\n    operations: [r]\n  }, {\n    name: 'middleware.*',\n    description: 'All middleware operations',\n    operations: [r, w]\n  }, {\n    name: 'middleware.list',\n    description: 'Get the list of the installed middlewares',\n    operations: [r]\n  }, {\n    name: 'middleware.customizations',\n    description: 'Change the order of the middlewares and their enabled/disabled state',\n    operations: [w]\n  }, {\n    name: 'modules.list',\n    description: 'The list of the installed modules',\n    operations: [r]\n  }, {\n    name: 'modules.list.community',\n    description: 'The list of the publicly available modules',\n    operations: [r]\n  }, {\n    name: 'information',\n    description: 'General bot details',\n    operations: [r]\n  }, {\n    name: 'information.license',\n    description: 'Bot license',\n    operations: [w]\n  }, {\n    name: 'logs',\n    description: 'Bot logs',\n    operations: [r]\n  }, {\n    name: 'logs.archive',\n    description: 'Bot archived logs',\n    operations: [r]\n  }, {\n    name: 'content',\n    description: 'Bot content items',\n    operations: [r, w]\n  }, {\n    name: 'ghost_content',\n    description: 'The majority of bot content, such as content and flows, is ghost-managed, i.e. synced from the server to the bot source code',\n    operations: [r, w]\n  }, {\n    name: 'media',\n    description: 'Bot file uploads',\n    operations: [w]\n  }, {\n    name: 'flows',\n    description: 'Bot flows, i.e. its logic described as flow diagram',\n    operations: [r, w]\n  }, {\n    name: 'skills',\n    description: 'Bot flow skill nodes',\n    operations: [w]\n  }]\n}].sort(function (a, b) {\n  return a.name.localeCompare(b.name);\n});\n\nvar RESOURCES = exports.RESOURCES = enrichResources(_RESOURCES);\n//# sourceMappingURL=resources.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _resources = require('./resources');\n\nObject.defineProperty(exports, 'RESOURCES', {\n  enumerable: true,\n  get: function get() {\n    return _resources.RESOURCES;\n  }\n});\nObject.defineProperty(exports, 'enrichResources', {\n  enumerable: true,\n  get: function get() {\n    return _resources.enrichResources;\n  }\n});\nvar ressourceMatches = exports.ressourceMatches = function ressourceMatches(pattern, res) {\n  var separator = /[\\/\\.]/;\n  pattern = pattern || '';\n\n  if (!~pattern.indexOf('*')) {\n    pattern = pattern += '.*';\n  }\n\n  var parts = pattern.split(separator);\n  var testParts = res.split(separator);\n\n  var matches = true;\n  for (var ii = 0; matches && ii < parts.length; ii++) {\n    if (parts[ii] === '*') {\n      continue;\n    } else if (ii < testParts.length) {\n      matches = parts[ii].toLowerCase() === testParts[ii].toLowerCase();\n    } else {\n      matches = false;\n    }\n  }\n\n  return matches;\n};\n\nvar OPERATION_ALIASES = {\n  read: 'r',\n  write: 'w'\n};\n\nvar KNOWN_OPERATIONS = ['r', 'w'];\n\nvar checkRule = exports.checkRule = function checkRule(rules, operation, ressource) {\n  if (!rules) {\n    return false;\n  }\n\n  operation = operation.toLowerCase();\n  operation = OPERATION_ALIASES[operation] || operation;\n\n  if (!KNOWN_OPERATIONS.includes(operation)) {\n    throw new Error('Invalid rule operation: ' + operation);\n  }\n\n  var permission = false; // Everything is restricted by default\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = rules[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var rule = _step.value;\n      var op = rule.op;\n\n      if (!op || op.length < 2 || op.length > 4) {\n        throw new Error('Invalid rule operation: ' + op);\n      }\n\n      if (!ressourceMatches(rule.res, ressource)) {\n        continue;\n      }\n\n      if (op.length === 4) {\n        // `+r-w` form\n        if (op[1] === operation) {\n          permission = op[0] === '+';\n        } else if (op[3] === operation) {\n          permission = op[2] === '+';\n        } else {\n          permission = false;\n        }\n      } else if (op.length === 3) {\n        // `+rw` form\n        permission = op[0] === '+';\n      } else if (op.length === 2) {\n        // `+r` form\n        if (op[1] === operation) {\n          permission = op[0] === '+';\n        }\n      } // else leave the permission untouched\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return permission;\n};\n\nvar checkMultipleRoles = exports.checkMultipleRoles = function checkMultipleRoles(roles, operation, ressource) {\n  if (!roles) {\n    return false;\n  }\n\n  for (var roleName in roles) {\n    if (checkRule(roles[roleName], operation, ressource)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n//# sourceMappingURL=index.js.map","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { Button, FormGroup, InputGroup, FormControl, HelpBlock } from 'react-bootstrap'\nimport PermissionsChecker from '~/components/Layout/PermissionsChecker'\nimport Loading from '~/components/Util/Loading'\nimport axios from 'axios'\n\nclass UploadWidget extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      expanded: !props.value,\n      error: null,\n      uploading: false\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (!newProps.value && !this.state.expanded) {\n      this.setState({ expanded: true })\n    }\n  }\n\n  handleChange = url => {\n    this.props.onChange(url)\n  }\n\n  expand = () => {\n    this.setState({ expanded: true })\n  }\n\n  collapse = () => {\n    this.setState({ expanded: false })\n  }\n\n  startUpload = event => {\n    const data = new FormData()\n    data.append('file', event.target.files[0])\n\n    this.setState({ error: null, uploading: true }, () => {\n      axios\n        .post('/api/media', data, { headers: { 'Content-Type': 'multipart/form-data' } })\n        .then(response => {\n          this.setState({ expanded: false })\n          const { url } = response.data\n          this.handleChange(url)\n        })\n        .catch(e => {\n          this.setState({ error: e.message })\n        })\n        .then(() => {\n          this.setState({ uploading: false })\n        })\n    })\n  }\n\n  render() {\n    const { $filter: filter, $subtype: subtype, type } = this.props.schema\n    if (type !== 'string' || subtype !== 'media') {\n      return null\n    }\n\n    const { expanded, uploading, error } = this.state\n\n    return (\n      <PermissionsChecker\n        user={this.props.user}\n        op=\"write\"\n        res=\"bot.media\"\n        fallback={<em>Youd don&apos;t have permission to upload files for this bot. Talk to your team owner.</em>}\n      >\n        <FormGroup>\n          {!expanded ? (\n            <InputGroup>\n              <FormControl\n                type=\"text\"\n                placeholder=\"No file picked yet\"\n                value={this.props.value || ''}\n                disabled\n                className=\"form-control\"\n                id={this.props.id}\n              />\n\n              <InputGroup.Button>\n                <Button onClick={this.expand}>{this.props.value ? 'Change...' : 'Pick...'}</Button>\n              </InputGroup.Button>\n            </InputGroup>\n          ) : (\n            <HelpBlock>No file picked yet.</HelpBlock>\n          )}\n        </FormGroup>\n        {expanded &&\n          !uploading && (\n            <FormGroup>\n              <InputGroup>\n                <FormControl\n                  type=\"file\"\n                  accept={filter || '*'}\n                  placeholder={this.props.placeholder || 'Pick file to upload'}\n                  onChange={this.startUpload}\n                />\n                <InputGroup.Button>\n                  <Button bsStyle=\"link\" onClick={this.collapse}>\n                    Cancel\n                  </Button>\n                </InputGroup.Button>\n              </InputGroup>\n            </FormGroup>\n          )}\n        {expanded &&\n          error && (\n            <FormGroup validationState=\"error\">\n              <HelpBlock>{error}</HelpBlock>\n            </FormGroup>\n          )}\n        {expanded && uploading && <Loading />}\n      </PermissionsChecker>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n})\n\nexport default connect(mapStateToProps)(UploadWidget)\n","import React, { Component } from 'react'\n\nimport ContentPickerWidget from '~/components/Content/Select/Widget'\n\nconst decorateRef = id => `##ref(${id})`\n\nconst undecorateRef = decoratedId => {\n  if (decoratedId == null) {\n    return decoratedId\n  }\n  const m = decoratedId && decoratedId.match(/^##ref\\((.*)\\)$/)\n  if (!m) {\n    throw new Error(`Expected decorated ref \"##ref(ID)\", got ${decoratedId}`)\n  }\n  return m[1]\n}\n\nexport default class RefWidget extends Component {\n  handleChange = item => this.props.onChange(decorateRef(item.id))\n\n  render() {\n    const { $category: categoryId, $subtype: subtype, type } = this.props.schema\n    if (type !== 'string' || subtype !== 'ref') {\n      return null\n    }\n\n    return (\n      <ContentPickerWidget\n        inputId={this.props.id}\n        itemId={undecorateRef(this.props.value)}\n        categoryId={categoryId}\n        onChange={this.handleChange}\n        placeholder={this.props.placeholder || `Pick ${categoryId}`}\n      />\n    )\n  }\n}\n","import React from 'react'\nimport Form from 'react-jsonschema-form'\nimport BaseInput from 'react-jsonschema-form/lib/components/widgets/BaseInput'\n\nimport RefWidget from './RefWidget'\nimport UploadWidget from './UploadWidget'\n\nconst CustomBaseInput = props => {\n  if (props.schema.type === 'string' && props.schema.$subtype === 'ref') {\n    return <RefWidget {...props} />\n  }\n  if (props.schema.type === 'string' && props.schema.$subtype === 'media') {\n    return <UploadWidget {...props} />\n  }\n  return <BaseInput {...props} />\n}\n\nconst widgets = {\n  BaseInput: CustomBaseInput\n}\n\nconst ContentForm = props => {\n  const defaultFormData = props.schema.type === 'array' ? [] : {}\n\n  return <Form {...props} formData={props.formData || defaultFormData} safeRenderCompletion={true} widgets={widgets} />\n}\n\nexport default ContentForm\n","module.exports = global[\"BotpressContentPicker\"] = require(\"-!/Users/slvn/bots/bp/packages/core/botpress/node_modules/thread-loader/dist/cjs.js!/Users/slvn/bots/bp/packages/core/botpress/node_modules/babel-loader/lib/index.js??ref--4-1!./Widget.js\");","import React from 'react'\nimport axios from 'axios'\n\n/*****\n  DO NOT REQUIRE HEAVY DEPENDENCIES HERE\n  Avoid requiring lodash here\n  We're trying to keep these files as js-vanilla as possible\n  To keep `lite.bundle.js` as small as possible\n*****/\n\nimport InjectedComponent from '~/components/Injected'\nimport EventBus from '~/util/EventBus'\n\nexport default class InjectedModuleView extends React.Component {\n  state = {\n    moduleComponent: null\n  }\n\n  loadModule(modName, viewName, lite) {\n    const moduleName = modName || this.props.moduleName\n    const subView = viewName || this.props.viewName || 'default'\n    const isLite = lite || this.props.lite || false\n\n    if (moduleName === this.state.moduleName && subView == this.state.viewName) {\n      return\n    }\n\n    this.setState({ moduleComponent: null, moduleName: moduleName, viewName: viewName })\n\n    if (!window.botpress || !window.botpress[moduleName]) {\n      const script = document.createElement('script')\n      script.type = 'text/javascript'\n      script.onload = () => {\n        script.onload = null\n        setImmediate(() => {\n          this.setViewInState(moduleName, subView, isLite)\n        })\n      }\n\n      const shortName = moduleName.replace(/^botpress-/i, '').replace(/^@botpress\\//i, '')\n\n      if (isLite) {\n        script.src = `/js/modules/${shortName}/${subView}`\n      } else {\n        script.src = `/js/modules/${shortName}`\n      }\n\n      document.getElementsByTagName('head')[0].appendChild(script)\n    } else {\n      this.setState({ moduleComponent: null })\n      setImmediate(() => {\n        this.setViewInState(moduleName, subView, isLite)\n      })\n    }\n  }\n\n  setViewInState(moduleName, viewName, isLite) {\n    const lookupNames =\n      moduleName.startsWith('@botpress/') || moduleName.startsWith('botpress-')\n        ? [moduleName]\n        : ['@botpress/' + moduleName, 'botpress-' + moduleName]\n\n    const viewResolve = name => {\n      const prop = isLite ? 'default' : viewName\n      return window.botpress && window.botpress[name] && window.botpress[name][prop]\n    }\n\n    const module = viewResolve(lookupNames.find(viewResolve))\n\n    if (!module) {\n      this.setState({\n        error: new Error(`Subview \"${viewName}\" doesn't exist for module \"${moduleName}\"`),\n        moduleComponent: null\n      })\n    } else {\n      this.setState({\n        moduleComponent: module,\n        error: null\n      })\n    }\n  }\n\n  componentDidMount() {\n    this.loadModule()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.loadModule(nextProps.moduleName, nextProps.viewName, nextProps.lite)\n  }\n\n  render() {\n    const { moduleComponent } = this.state\n\n    if (this.state.error) {\n      console.log('Error rendering plugin', this.state.error)\n      return (this.props.onNotFound && this.props.onNotFound(this.state.error)) || null\n    }\n\n    if (!moduleComponent) {\n      return null\n    }\n\n    const bp = {\n      events: EventBus.default,\n      axios: axios\n    }\n\n    const extraProps = this.props.extraProps || {}\n\n    return <InjectedComponent component={moduleComponent} name={this.props.moduleName} bp={bp} {...extraProps} />\n  }\n}\n","/* global io */\n\nimport EventEmitter2 from 'eventemitter2'\nimport io from 'socket.io-client'\n\nimport { getToken, authEvents, getUniqueVisitorId } from '~/util/Auth'\n\nclass EventBus extends EventEmitter2 {\n  constructor() {\n    super({\n      wildcard: true,\n      maxListeners: 100\n    })\n\n    this.onAny(this.dispatchClientEvent)\n\n    authEvents.on('new_token', this.setup)\n  }\n\n  dispatchSocketEvent = event => {\n    this.emit(event.name, event.data, 'server')\n  }\n\n  dispatchClientEvent = (name, data, from) => {\n    if (from === 'server') {\n      // we sent this event ourselves\n      return\n    }\n\n    const socket = name.startsWith('guest.') ? this.guestSocket : this.adminSocket\n    socket && socket.emit('event', { name, data })\n  }\n\n  setup = () => {\n    const query = {\n      visitorId: getUniqueVisitorId()\n    }\n\n    if (window.AUTH_ENABLED) {\n      const token = getToken()\n      if (!!token) {\n        Object.assign(query, { token: token.token })\n      }\n    }\n\n    if (this.adminSocket) {\n      this.adminSocket.off('event', this.dispatchEvent)\n      this.adminSocket.disconnect()\n    }\n\n    if (this.guestSocket) {\n      this.guestSocket.off('event', this.dispatchEvent)\n      this.guestSocket.disconnect()\n    }\n\n    const socketUrl = window.location.origin\n\n    this.adminSocket = io(socketUrl + '/admin', { query })\n    this.adminSocket.on('event', this.dispatchSocketEvent)\n\n    this.guestSocket = io(socketUrl + '/guest', { query })\n    this.guestSocket.on('event', this.dispatchSocketEvent)\n  }\n}\n\nEventBus.default = new EventBus()\n\nexport default EventBus\n","import 'babel-polyfill'\nimport React from 'expose-loader?React!react'\nimport ReactDOM from 'expose-loader?ReactDOM!react-dom'\n\nimport axios from 'axios'\nimport { getToken } from '~/util/Auth'\n\nimport PropTypes from 'expose-loader?PropTypes!prop-types'\nimport ReactBootstrap from 'expose-loader?ReactBootstrap!react-bootstrap'\nimport ContentPickerWidget from 'expose-loader?BotpressContentPicker!~/components/Content/Select/Widget'\nimport { Provider } from 'react-redux'\n\nimport store from './store'\n\nrequire('bootstrap/dist/css/bootstrap.css')\nrequire('storm-react-diagrams/dist/style.min.css')\nrequire('react-select/dist/react-select.css')\nrequire('./theme.scss')\n\nconst token = getToken()\nif (token) {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${token.token}`\n}\n\n// Do not use \"import App from ...\" as hoisting will screw up styling\nconst App = require('./components/App').default\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('app')\n)\n","import _ from 'lodash'\nimport generate from 'nanoid/generate'\n\nexport const hashCode = str => {\n  let hash = 0\n  if (str.length === 0) {\n    return hash\n  }\n\n  for (let i = 0; i < str.length; i++) {\n    const chr = str.charCodeAt(i)\n    hash = (hash << 5) - hash + chr\n    hash |= 0\n  }\n  return hash\n}\n\n// https://davidwalsh.name/caret-end\nexport const moveCursorToEnd = el => {\n  if (!el) {\n    return\n  }\n\n  if (typeof el.selectionStart == 'number') {\n    el.selectionStart = el.selectionEnd = el.value.length\n    el.focus()\n  } else if (typeof el.createTextRange != 'undefined') {\n    el.focus()\n    const range = el.createTextRange()\n    range.collapse(false)\n    range.select()\n  }\n}\n\nexport const prettyId = (length = 10) => generate('1234567890abcdef', length)\n","import { createAction } from 'redux-actions'\nimport axios from 'axios'\nimport _ from 'lodash'\n\nimport BatchRunner from './BatchRunner'\n\n// Flows\nexport const requestFlows = createAction('FLOWS/REQUEST')\nexport const receiveFlows = createAction('FLOWS/RECEIVE', flows => flows, () => ({ receiveAt: new Date() }))\n\nexport const fetchFlows = () => dispatch => {\n  dispatch(requestFlows())\n\n  axios.get('/api/flows/all').then(({ data }) => {\n    const flows = _.keyBy(data, 'name')\n    dispatch(receiveFlows(flows))\n  })\n}\n\nexport const requestSaveFlows = createAction('FLOWS/SAVE')\nexport const receiveSaveFlows = createAction('FLOWS/SAVE/RECEIVE', flows => flows, () => ({ receiveAt: new Date() }))\n\nexport const saveAllFlows = () => (dispatch, getState) => {\n  dispatch(requestSaveFlows())\n\n  const flows = _.values(getState().flows.flowsByName).map(flow => ({\n    flow: flow.name,\n    location: flow.location,\n    startNode: flow.startNode,\n    catchAll: flow.catchAll,\n    links: flow.links,\n    nodes: flow.nodes,\n    skillData: flow.skillData\n  }))\n\n  axios.post('/api/flows/save', flows).then(() => {\n    dispatch(receiveSaveFlows())\n  })\n}\n\nexport const updateFlow = createAction('FLOWS/FLOW/UPDATE')\nexport const renameFlow = createAction('FLOWS/FLOW/RENAME')\nexport const createFlow = createAction('FLOWS/CREATE')\nexport const switchFlow = createAction('FLOWS/SWITCH')\nexport const deleteFlow = createAction('FLOWS/DELETE')\nexport const duplicateFlow = createAction('FLOWS/DUPLICATE')\nexport const handleRefreshFlowLinks = createAction('FLOWS/FLOW/UPDATE_LINKS')\nexport const refreshFlowsLinks = () => dispatch => setTimeout(() => dispatch(handleRefreshFlowLinks()), 10)\n\nexport const updateFlowNode = createAction('FLOWS/FLOW/UPDATE_NODE')\nexport const switchFlowNode = createAction('FLOWS/FLOW/SWITCH_NODE')\nexport const createFlowNode = createAction('FLOWS/FLOW/CREATE')\nexport const removeFlowNode = createAction('FLOWS/FLOW/REMOVE')\nexport const copyFlowNode = createAction('FLOWS/NODE/COPY')\nexport const pasteFlowNode = createAction('FLOWS/NODE/PASTE')\nexport const copyFlowNodeElement = createAction('FLOWS/NODE_ELEMENT/COPY')\nexport const pasteFlowNodeElement = createAction('FLOWS/NODE_ELEMENT/PASTE')\nexport const openFlowNodeProps = createAction('FLOWS/FLOW/OPEN_NODE_PROPS')\nexport const closeFlowNodeProps = createAction('FLOWS/FLOW/CLOSE_NODE_PROPS')\n\nexport const handleFlowEditorUndo = createAction('FLOWS/EDITOR/UNDO')\nexport const handleFlowEditorRedo = createAction('FLOWS/EDITOR/REDO')\n\nexport const flowEditorUndo = () => dispatch => {\n  dispatch(handleFlowEditorUndo())\n  dispatch(refreshFlowsLinks())\n}\n\nexport const flowEditorRedo = () => dispatch => {\n  dispatch(handleFlowEditorRedo())\n  dispatch(refreshFlowsLinks())\n}\n\nexport const setDiagramAction = createAction('FLOWS/FLOW/SET_ACTION')\n\n// Content\nexport const receiveContentCategories = createAction('CONTENT/CATEGORIES/RECEIVE')\nexport const fetchContentCategories = () => dispatch =>\n  axios.get('/api/content/categories').then(({ data }) => {\n    dispatch(receiveContentCategories(data))\n  })\n\nexport const receiveContentItems = createAction('CONTENT/ITEMS/RECEIVE')\nexport const fetchContentItems = ({ id, from, count, searchTerm }) => dispatch =>\n  axios\n    .get(`/api/content/items`, { params: { categoryId: id, from, count, searchTerm } })\n    .then(({ data }) => dispatch(receiveContentItems(data)))\n\nexport const receiveContentItemsRecent = createAction('CONTENT/ITEMS/RECEIVE_RECENT')\nexport const fetchContentItemsRecent = ({ searchTerm, count = 5, categoryId = 'all' }) => dispatch =>\n  axios\n    .get(`/api/content/items`, { params: { categoryId, count, searchTerm, orderBy: ['createdOn', 'desc'] } })\n    .then(({ data }) => dispatch(receiveContentItemsRecent(data)))\n\nconst getBetachedContentItems = ids =>\n  axios.get(`/api/content/items-batched/${ids.join(',')}`).then(({ data }) =>\n    data.reduce((acc, item, i) => {\n      acc[ids[i]] = item\n      return acc\n    }, {})\n  )\n\nconst getBetachedContentRunner = BatchRunner(getBetachedContentItems)\n\nconst getBetachedContentItem = id => getBetachedContentRunner.add(id)\n\nconst getSingleContentItem = id => axios.get(`/api/content/items/${id}`).then(({ data }) => data)\n\nexport const receiveContentItem = createAction('CONTENT/ITEMS/RECEIVE_ONE')\nexport const fetchContentItem = (id, { force = false, batched = false } = {}) => (dispatch, getState) => {\n  if (!id || (!force && getState().content.itemsById[id])) {\n    return Promise.resolve()\n  }\n  return (batched ? getBetachedContentItem(id) : getSingleContentItem(id)).then(data =>\n    dispatch(receiveContentItem(data))\n  )\n}\n\nexport const receiveContentItemsCount = createAction('CONTENT/ITEMS/RECEIVE_COUNT')\nexport const fetchContentItemsCount = (categoryId = 'all') => dispatch =>\n  axios\n    .get(`/api/content/items/count`, { params: { categoryId } })\n    .then(data => dispatch(receiveContentItemsCount(data)))\n\nexport const upsertContentItem = ({ categoryId, formData, modifyId }) => () =>\n  axios.post(`/api/content/categories/${categoryId}/items/${modifyId || ''}`, { formData })\n\nexport const deleteContentItems = data => () => axios.post('/api/content/categories/all/bulk_delete', data)\n\n// License\nexport const licenseChanged = createAction('LICENSE/CHANGED')\nexport const fetchLicense = () => dispatch => {\n  axios.get('/api/license').then(({ data }) => {\n    dispatch(licenseChanged(data))\n  })\n}\n\n// UI\nexport const toggleLicenseModal = createAction('UI/TOGGLE_LICENSE_MODAL')\nexport const toggleAboutModal = createAction('UI/TOGGLE_ABOUT_MODAL')\nexport const viewModeChanged = createAction('UI/VIEW_MODE_CHANGED')\nexport const updateGlobalStyle = createAction('UI/UPDATE_GLOBAL_STYLE')\n\n// User\nexport const userReceived = createAction('USER/RECEIVED')\nexport const fetchUser = authEnabled => dispatch => {\n  if (!authEnabled) {\n    dispatch(\n      userReceived({\n        id: 'anonymous',\n        roles: null\n      })\n    )\n    return\n  }\n  axios.get('/api/my-account').then(res => {\n    dispatch(userReceived(res.data))\n  })\n}\n\n// Bot\nexport const botInfoReceived = createAction('BOT/INFO_RECEIVED')\nexport const fetchBotInformation = () => dispatch => {\n  axios.get('/api/bot/information').then(information => {\n    dispatch(botInfoReceived(information.data))\n  })\n}\n\n// Modules\nexport const modulesReceived = createAction('MODULES/RECEIVED')\nexport const fetchModules = () => dispatch => {\n  axios.get('/api/modules').then(res => {\n    dispatch(modulesReceived(res.data))\n  })\n}\n\n// Notifications\nexport const allNotificationsReceived = createAction('NOTIFICATIONS/ALL_RECEIVED')\nexport const newNotificationsReceived = createAction('NOTIFICATIONS/NEW_RECEIVED')\nexport const fetchNotifications = () => dispatch => {\n  axios.get('/api/notifications/inbox').then(res => {\n    dispatch(allNotificationsReceived(res.data))\n  })\n}\n\nexport const replaceNotifications = allNotifications => dispatch => {\n  dispatch(allNotificationsReceived(allNotifications))\n}\n\nexport const addNotifications = notifications => dispatch => {\n  dispatch(newNotificationsReceived(notifications))\n}\n\n// Skills\nexport const buildNewSkill = createAction('SKILLS/BUILD')\nexport const cancelNewSkill = createAction('SKILLS/BUILD/CANCEL')\nexport const insertNewSkill = createAction('SKILLS/INSERT')\nexport const insertNewSkillNode = createAction('SKILLS/INSERT/NODE')\nexport const updateSkill = createAction('SKILLS/UPDATE')\n\nexport const editSkill = createAction('SKILLS/EDIT')\nexport const requestEditSkill = nodeId => (dispatch, getState) => {\n  const state = getState()\n  const node = _.find(state.flows.flowsByName[state.flows.currentFlow].nodes, { id: nodeId })\n  const flow = node && state.flows.flowsByName[node.flow]\n\n  flow &&\n    dispatch(\n      editSkill({\n        skillId: 'skill-' + node.skill,\n        flowName: node.flow,\n        nodeId: nodeId,\n        data: flow.skillData\n      })\n    )\n}\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport * as actions from '~/actions'\nimport reducers from './reducers'\n\nconst composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ name: 'Botpress', actionCreators: actions })\n    : compose\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk))\n\nexport default createStore(reducers, enhancer)\n","import _ from 'lodash'\n\nexport const moduleViewNames = (modules = [], position = 'overlay') =>\n  _.flatten(\n    (modules || []).filter(Boolean).map(module =>\n      _.filter(module.plugins || [], { position }).map(plugin => ({\n        moduleName: module.name,\n        viewName: plugin.entry\n      }))\n    )\n  )\n","import React, { Component, Fragment } from 'react'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport { Button, Label } from 'react-bootstrap'\n\nimport ConditionItem from '../common/condition'\n\nimport ConditionModalForm from './ConditionModalForm'\n\nconst style = require('./style.scss')\n\nexport default class TransitionSection extends Component {\n  state = {\n    showConditionalModalForm: false\n  }\n\n  onMove(prevIndex, direction) {\n    const clone = [...this.props.items]\n    const a = clone[prevIndex]\n    const b = clone[prevIndex + direction]\n\n    clone[prevIndex + direction] = a\n    clone[prevIndex] = b\n\n    this.props.onItemsUpdated(clone)\n  }\n\n  onSubmit = item => {\n    const editIndex = this.state.itemToEditIndex\n    const { items } = this.props\n    const updateByIndex = (originalItem, i) => (i === editIndex ? item : originalItem)\n    this.setState({ showConditionalModalForm: false, itemToEditIndex: null })\n    this.props.onItemsUpdated(Number.isInteger(editIndex) ? items.map(updateByIndex) : [...items, item])\n  }\n\n  onRemove(index) {\n    const clone = [...this.props.items]\n    _.pullAt(clone, [index])\n    this.props.onItemsUpdated(clone)\n  }\n\n  onCopyAction(index) {\n    this.props.copyItem(this.props.items[index])\n  }\n\n  onEdit(itemToEditIndex) {\n    this.setState({ itemToEditIndex, showConditionalModalForm: true })\n  }\n\n  render() {\n    let { items, readOnly } = this.props\n\n    if (!items) {\n      items = []\n    }\n\n    const renderMoveUp = i => (i > 0 ? <a onClick={() => this.onMove(i, -1)}>Up</a> : null)\n\n    const renderMoveDown = i => (i < items.length - 1 ? <a onClick={() => this.onMove(i, 1)}>Down</a> : null)\n\n    const handleAddAction = () => this.setState({ showConditionalModalForm: true })\n\n    const renderType = i => {\n      if (!i.node || i.node === '') {\n        return <Label bsStyle=\"danger\">Missing Link</Label>\n      }\n\n      if (i.node === 'END') {\n        return <Label bsStyle=\"warning\">End</Label>\n      }\n\n      if (i.node === '#') {\n        return <Label bsStyle=\"warning\">Return</Label>\n      }\n\n      if (i.node.includes('.flow.json')) {\n        return <Label bsStyle=\"primary\">{i.node}</Label>\n      }\n\n      return <Label bsStyle=\"default\">{i.node}</Label>\n    }\n\n    return (\n      <Fragment>\n        <div>\n          {items.map((item, i) => (\n            <ConditionItem className={style.item} condition={item} position={i} key={`${i}.${item.node || '-'}`}>\n              {renderType(item)}\n              {!readOnly && (\n                <div className={style.actions}>\n                  <a onClick={() => this.onEdit(i)}>Edit</a>\n                  <a onClick={() => this.onRemove(i)}>Remove</a>\n                  <a onClick={() => this.onCopyAction(i)}>Copy</a>\n                  {renderMoveUp(i)}\n                  {renderMoveDown(i)}\n                </div>\n              )}\n            </ConditionItem>\n          ))}\n          {!readOnly && (\n            <div className={style.actions}>\n              <Button onClick={handleAddAction} bsSize=\"xsmall\">\n                <i className={classnames('material-icons', style.actionIcons)}>add</i>\n              </Button>\n              <Button onClick={this.props.pasteItem} bsSize=\"xsmall\" disabled={!this.props.canPaste}>\n                <i className={classnames('material-icons', style.actionIcons)}>content_paste</i>\n              </Button>\n            </div>\n          )}\n        </div>\n        {!readOnly && (\n          <ConditionModalForm\n            currentFlow={this.props.currentFlow}\n            subflows={this.props.subflows}\n            show={this.state.showConditionalModalForm}\n            onClose={() => this.setState({ showConditionalModalForm: false, itemToEditIndex: null })}\n            onSubmit={this.onSubmit}\n            item={this.props.items[this.state.itemToEditIndex]}\n          />\n        )}\n      </Fragment>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport nanoid from 'nanoid'\n\nexport default class InjectedComponent extends Component {\n  static propTypes = {\n    component: PropTypes.func.isRequired\n  }\n\n  componentId = `component-${nanoid()}`\n\n  componentDidUpdate() {\n    this.internalRender()\n  }\n\n  componentDidMount() {\n    this.internalRender()\n  }\n\n  componentWillUnmount() {\n    try {\n      ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this))\n    } catch (err) {\n      console.error(err)\n    }\n  }\n\n  render() {\n    return <div className=\"component-mount\" />\n  }\n\n  // TODO: can't we do it in normal render and let the component be trashed normally too?\n  // Maybe React 16 error boundaries are what we actually want\n  internalRender() {\n    const node = ReactDOM.findDOMNode(this)\n\n    try {\n      const props = Object.assign({}, this.props)\n      delete props['component']\n      ReactDOM.render(React.createElement(this.props.component, props), node)\n    } catch (err) {\n      const element = (\n        <div className=\"panel panel-danger\">\n          <div className=\"panel-heading\">Could not display component</div>\n          <div className=\"panel-body\">\n            <h4>An error occurred while loading the component</h4>\n            <p>{err.message}</p>\n          </div>\n          {/* TODO Put documentation / help here */}\n          <div className=\"panel-footer\">\n            Developer? <a href=\"https://github.com/botpress/botpress/tree/master/docs\">click here</a>\n            to see why this might happen\n          </div>\n        </div>\n      )\n\n      ReactDOM.render(element, node)\n      console.error && console.error('Error loading component', err)\n    }\n  }\n}\n","import React, { Component } from 'react'\nimport { Popover, OverlayTrigger, Well } from 'react-bootstrap'\n\nimport classnames from 'classnames'\nimport Mustache from 'mustache'\nimport _ from 'lodash'\n\nconst style = require('./style.scss')\n\nexport default class ConditionItem extends Component {\n  renderNormal(child) {\n    return child\n  }\n\n  renderOverlay = child => {\n    const popoverHoverFocus = (\n      <Popover id=\"popover-action\" title=\" Conditional transition\">\n        <Well>{this.props.condition.condition}</Well>\n      </Popover>\n    )\n\n    return (\n      <OverlayTrigger trigger={['hover', 'focus']} placement=\"top\" delayShow={500} overlay={popoverHoverFocus}>\n        {child}\n      </OverlayTrigger>\n    )\n  }\n\n  render() {\n    const { position } = this.props\n\n    const { condition, caption } = this.props.condition\n\n    let raw = null\n    const renderer = caption ? this.renderOverlay : this.renderNormal\n\n    if (caption) {\n      const vars = {}\n\n      const stripDots = str => str.replace(/\\./g, '--dot--')\n      const restoreDots = str => str.replace(/--dot--/g, '.')\n\n      const htmlTpl = caption.replace(/\\[(.+)]/gi, x => {\n        const name = stripDots(x.replace(/\\[|]/g, ''))\n        vars[name] = '<span class=\"val\">' + _.escape(name) + '</span>'\n        return '{{{' + name + '}}}'\n      })\n\n      const mustached = restoreDots(Mustache.render(htmlTpl, vars))\n      raw = mustached\n    } else {\n      if ((condition && condition.length <= 0) || /^(yes|true)$/i.test(condition.toLowerCase())) {\n        raw = position === 0 ? 'always' : 'otherwise'\n      } else {\n        raw = condition\n      }\n    }\n\n    return renderer(\n      <div className={classnames(this.props.className, style['action-item'], style['condition'])}>\n        <span className={style.icon}></span>\n        <span className={style.name} dangerouslySetInnerHTML={{ __html: raw }} />\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport { connect } from 'react-redux'\nimport { Popover, OverlayTrigger } from 'react-bootstrap'\nimport _ from 'lodash'\nimport Mustache from 'mustache'\n\nimport { fetchContentItem, refreshFlowsLinks } from '~/actions'\n\nconst style = require('./style.scss')\n\nclass ActionItem extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { itemId: this.textToItemId(this.props.text) }\n  }\n\n  componentDidMount() {\n    this.fetchItem(this.textToItemId(this.props.text))\n  }\n\n  textToItemId = text => _.get(text.match(/^say #!(.*)$/), '[1]')\n\n  fetchItem = itemId => {\n    if (itemId) {\n      this.props.fetchContentItem(itemId, { force: true, batched: true }).then(this.props.refreshFlowsLinks)\n    }\n  }\n\n  componentWillReceiveProps({ text }) {\n    if (text !== this.props.text) {\n      this.fetchItem(this.textToItemId(text))\n    }\n  }\n\n  renderAction() {\n    const action = this.props.text.trim()\n\n    let actionName = action\n    let parameters = {}\n\n    if (action.indexOf(' ') >= 0) {\n      const tokens = action.split(' ')\n      actionName = _.head(tokens) + ' (args)'\n      parameters = JSON.parse(_.tail(tokens).join(' '))\n    }\n\n    const callPreview = JSON.stringify(parameters, null, 2)\n\n    const popoverHoverFocus = (\n      <Popover id=\"popover-action\" title={` ${actionName}`}>\n        Called with these arguments:\n        <pre>{callPreview}</pre>\n      </Popover>\n    )\n\n    return (\n      <OverlayTrigger trigger={['hover', 'focus']} placement=\"top\" delayShow={500} overlay={popoverHoverFocus}>\n        <div className={classnames(this.props.className, style['fn'], style['action-item'])}>\n          <span className={style.icon}></span>\n          <span className={style.name}>{actionName}</span>\n          {this.props.children}\n        </div>\n      </OverlayTrigger>\n    )\n  }\n\n  render() {\n    const action = this.props.text\n    const isAction = typeof action !== 'string' || !action.startsWith('say ')\n\n    if (isAction) {\n      return this.renderAction()\n    }\n\n    const item = this.props.items[this.state.itemId]\n    const textContent = (item && `${item.categoryTitle} | ${item.previewText}`) || ''\n    const vars = {}\n\n    const stripDots = str => str.replace(/\\./g, '--dot--')\n    const restoreDots = str => str.replace(/--dot--/g, '.')\n\n    const htmlTpl = textContent.replace(/{{([a-z$@0-9. _-]*?)}}/gi, x => {\n      const name = stripDots(x.replace(/{|}/g, ''))\n      vars[name] = '<span class=\"var\">' + x + '</span>'\n      return '{' + stripDots(x) + '}'\n    })\n\n    const mustached = restoreDots(Mustache.render(htmlTpl, vars))\n\n    const html = { __html: mustached }\n\n    return (\n      <div className={classnames(this.props.className, style['action-item'], style['msg'])}>\n        <span className={style.icon}></span>\n        <span className={style.name} dangerouslySetInnerHTML={html} />\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ items: state.content.itemsById })\nconst mapDispatchToProps = { fetchContentItem, refreshFlowsLinks }\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActionItem)\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import axios from 'axios'\n\nimport groupBy from 'lodash/groupBy'\nimport mapValues from 'lodash/mapValues'\n\nconst transformData = data => mapValues(data, entries => groupBy(entries, 'file'))\n\nexport const fetchStatus = () =>\n  axios.get('/api/ghost_content/status').then(({ data }) => {\n    return transformData(data)\n  })\n\nexport const getHost = () => {\n  const { protocol, host } = document.location\n  return `${protocol}//${host}`\n}\n\nexport const revertPendingFileChanges = (folder, file) =>\n  axios.delete(`/api/ghost_content/${folder}`, { params: { file } }).then()\n","import React from 'react'\nimport { ProgressBar } from 'react-bootstrap'\n\nconst Loading = () => <ProgressBar active color=\"info\" now={100} />\n\nexport default Loading\n","import React from 'react'\nimport { Modal } from 'react-bootstrap'\n\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport ContentForm from '~/components/ContentForm'\n\nimport style from './style.scss'\n\nexport default class CreateOrEditModal extends React.Component {\n  handleEdit = event => {\n    this.props.handleEdit(event.formData)\n  }\n\n  handleSave = event => {\n    this.props.handleCreateOrUpdate(event.formData)\n  }\n\n  render() {\n    return (\n      <Modal\n        container={document.getElementById('app')}\n        className={style.modal}\n        show={this.props.show}\n        onHide={this.props.handleClose}\n        style={{ zIndex: 1051 }}\n      >\n        <Modal.Body>\n          <ContentForm\n            schema={this.props.schema}\n            uiSchema={this.props.uiSchema}\n            formData={this.props.formData}\n            onChange={this.handleEdit}\n            onSubmit={this.handleSave}\n          />\n          <button\n            className={classnames('bp-button', 'bp-button-danger', style.cancel)}\n            onClick={this.props.handleClose}\n          >\n            Cancel\n          </button>\n        </Modal.Body>\n      </Modal>\n    )\n  }\n}\n","import { handleActions } from 'redux-actions'\nimport { Howl } from 'howler'\nimport _ from 'lodash'\n\nimport { allNotificationsReceived, newNotificationsReceived } from '~/actions'\n\nconst defaultState = []\nconst sound = new Howl({ src: ['/audio/notification.mp3'] })\n\nconst reducer = handleActions(\n  {\n    [allNotificationsReceived]: (state, { payload }) => [...payload],\n    [newNotificationsReceived]: (state, { payload }) => {\n      if (_.some(payload, { sound: true })) {\n        sound.play()\n      }\n\n      return [...state.unshift(...payload)]\n    }\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { modulesReceived, buildNewSkill, cancelNewSkill, insertNewSkill, editSkill, updateSkill } from '~/actions'\n\nconst defaultState = {\n  installed: [],\n  builder: {\n    opened: false,\n    data: {},\n    skillId: null,\n    action: null,\n    editFlowName: null,\n    editNodeId: null\n  }\n}\n\nconst reducer = handleActions(\n  {\n    [modulesReceived]: (state, { payload }) => ({\n      ...state,\n      installed: payload.filter(module => module.name.startsWith('skill-')).map(module => ({\n        id: module.name,\n        name: module.menuText,\n        icon: module.menuIcon\n      }))\n    }),\n\n    [buildNewSkill]: (state, { payload }) => ({\n      ...state,\n      builder: {\n        ...state.builder,\n        opened: true,\n        action: 'new',\n        data: {},\n        skillId: payload\n      }\n    }),\n\n    [cancelNewSkill]: state => ({\n      ...state,\n      builder: {\n        ...state.builder,\n        opened: false\n      }\n    }),\n\n    [insertNewSkill]: (state, { payload }) => ({\n      ...state,\n      builder: {\n        ...state.builder,\n        opened: false,\n        data: payload.data,\n        skillId: payload.skillId\n      }\n    }),\n\n    [editSkill]: (state, { payload }) => ({\n      ...state,\n      builder: {\n        ...state.builder,\n        opened: true,\n        action: 'edit',\n        skillId: payload.skillId,\n        data: payload.data,\n        editFlowName: payload.flowName,\n        editNodeId: payload.nodeId\n      }\n    }),\n\n    [updateSkill]: state => ({\n      ...state,\n      builder: {\n        ...state.builder,\n        opened: false\n      }\n    })\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { modulesReceived } from '~/actions'\n\nconst defaultState = []\n\nconst reducer = handleActions(\n  {\n    [modulesReceived]: (state, { payload }) => [...payload]\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { botInfoReceived } from '~/actions'\n\nconst defaultState = {}\n\nconst reducer = handleActions(\n  {\n    [botInfoReceived]: (state, { payload }) => ({ ...payload })\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { userReceived } from '~/actions'\n\nconst defaultState = {}\n\nconst reducer = handleActions(\n  {\n    [userReceived]: (state, { payload }) => ({ ...state, ...payload })\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { toggleLicenseModal, toggleAboutModal, viewModeChanged, updateGlobalStyle } from '~/actions'\n\nconst defaultState = {\n  licenseModalOpened: false,\n  aboutModalOpened: false,\n  viewMode: -1,\n  customStyle: {}\n}\n\nconst reducer = handleActions(\n  {\n    [toggleLicenseModal]: state => ({\n      ...state,\n      licenseModalOpened: !state.licenseModalOpened\n    }),\n    [toggleAboutModal]: state => ({\n      ...state,\n      aboutModalOpened: !state.aboutModalOpened\n    }),\n    [viewModeChanged]: (state, { payload }) => ({\n      ...state,\n      viewMode: payload.toString()\n    }),\n    [updateGlobalStyle]: (state, { payload }) => ({\n      ...state,\n      customStyle: Object.assign({}, state.customStyle, payload)\n    })\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { licenseChanged } from '~/actions'\n\nconst defaultState = {\n  name: null,\n  text: null,\n  licensed: null,\n  status: null\n}\n\nconst reducer = handleActions(\n  {\n    [licenseChanged]: (state, { payload }) => {\n      return { ...state, ...payload }\n    }\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\nimport reduceReducers from 'reduce-reducers'\nimport _ from 'lodash'\n\nimport { hashCode, prettyId } from '~/util'\n\nimport {\n  requestFlows,\n  requestSaveFlows,\n  receiveSaveFlows,\n  receiveFlows,\n  switchFlow,\n  updateFlow,\n  handleRefreshFlowLinks,\n  renameFlow,\n  updateFlowNode,\n  switchFlowNode,\n  openFlowNodeProps,\n  closeFlowNodeProps,\n  setDiagramAction,\n  createFlowNode,\n  copyFlowNode,\n  pasteFlowNode,\n  copyFlowNodeElement,\n  pasteFlowNodeElement,\n  createFlow,\n  deleteFlow,\n  duplicateFlow,\n  removeFlowNode,\n  handleFlowEditorUndo,\n  handleFlowEditorRedo,\n  insertNewSkill,\n  insertNewSkillNode,\n  updateSkill\n} from '~/actions'\n\nconst MAX_UNDO_STACK_SIZE = 25\nconst MIN_HISTORY_RECORD_INTERVAL = 500\n\nconst defaultState = {\n  flowsByName: {},\n  fetchingFlows: false,\n  currentFlow: null,\n  currentFlowNode: null,\n  showFlowNodeProps: false,\n  currentDiagramAction: null,\n  currentSnapshot: null,\n  undoStack: [],\n  redoStack: [],\n  nodeInBuffer: null, // TODO: move it to buffer.node\n  buffer: { action: null, transition: null }\n}\n\nconst findNodesThatReferenceFlow = (state, flowName) =>\n  _.flatten(_.values(state.flowsByName).map(flow => flow.nodes))\n    .filter(node => node.flow === flowName || _.find(node.next, { node: flowName }))\n    .map(node => node.id)\n\nconst computeFlowsHash = state => {\n  const hashAction = (hash, action) => {\n    if (_.isArray(action)) {\n      action.forEach(c => {\n        if (_.isString(c)) {\n          hash += c\n        } else {\n          hash += c.node\n          hash += c.condition\n        }\n      })\n    } else {\n      hash += 'null'\n    }\n\n    return hash\n  }\n\n  return _.values(state.flowsByName).reduce((obj, curr) => {\n    if (!curr) {\n      return obj\n    }\n\n    let buff = ''\n    buff += curr.name\n    buff += curr.startNode\n\n    if (curr.catchAll) {\n      buff = hashAction(buff, curr.catchAll.onReceive)\n      buff = hashAction(buff, curr.catchAll.onEnter)\n      buff = hashAction(buff, curr.catchAll.next)\n    }\n\n    _.orderBy(curr.nodes, 'id').forEach(node => {\n      buff = hashAction(buff, node.onReceive)\n      buff = hashAction(buff, node.onEnter)\n      buff = hashAction(buff, node.next)\n      buff += node.id\n      buff += node.flow\n      buff += node.type\n      buff += node.name\n      buff += node.x\n      buff += node.y\n    })\n\n    _.orderBy(curr.links, l => l.source + l.target).forEach(link => {\n      buff += link.source\n      buff += link.target\n      link.points &&\n        link.points.forEach(p => {\n          buff += p.x\n          buff += p.y\n        })\n    })\n\n    obj[curr.name] = hashCode(buff)\n    return obj\n  }, {})\n}\n\nconst updateCurrentHash = state => ({ ...state, currentHashes: computeFlowsHash(state) })\n\nconst createSnapshot = state => ({\n  ..._.pick(state, ['currentFlow', 'currentFlowNode', 'flowsByName']),\n  createdAt: new Date()\n})\n\nconst recordHistory = state => {\n  if (!state.currentSnapshot || new Date() - state.currentSnapshot.createdAt < MIN_HISTORY_RECORD_INTERVAL) {\n    return { ...state, currentSnapshot: createSnapshot(state) }\n  }\n  return {\n    ...state,\n    undoStack: [state.currentSnapshot, ...state.undoStack.slice(0, MAX_UNDO_STACK_SIZE)],\n    redoStack: [],\n    currentSnapshot: createSnapshot(state)\n  }\n}\n\nconst popHistory = stackName => state => {\n  const oppositeStack = stackName === 'undoStack' ? 'redoStack' : 'undoStack'\n  if (state[stackName].length === 0) {\n    return state\n  }\n  const currentSnapshot = state[stackName][0]\n  return {\n    ...state,\n    currentSnapshot,\n    currentFlow: currentSnapshot.currentFlow,\n    currentFlowNode: currentSnapshot.currentFlowNode,\n    flowsByName: currentSnapshot.flowsByName,\n    [stackName]: state[stackName].slice(1),\n    [oppositeStack]: [state.currentSnapshot, ...state[oppositeStack]]\n  }\n}\n\nconst copyName = (siblingNames, nameToCopy) => {\n  const copies = siblingNames.filter(name => name.startsWith(`${nameToCopy}-copy`))\n\n  if (!copies.length) {\n    return `${nameToCopy}-copy`\n  }\n\n  let i = 1\n  while (true) {\n    if (!copies.find(name => name === `${nameToCopy}-copy-${i}`)) {\n      return `${nameToCopy}-copy-${i}`\n    } else {\n      i += 1\n    }\n  }\n}\n\nconst doRenameFlow = ({ flow, name, flows }) =>\n  flows.reduce((obj, f) => {\n    if (f.name === flow) {\n      f.name = name\n      f.location = name\n    }\n\n    if (f.nodes) {\n      let json = JSON.stringify(f.nodes)\n      json = json.replace(flow, name)\n      f.nodes = JSON.parse(json)\n    }\n\n    obj[f.name] = f\n\n    return obj\n  }, {})\n\nconst doCreateNewFlow = name => ({\n  version: '0.1',\n  name: name,\n  location: name,\n  startNode: 'entry',\n  catchAll: {},\n  links: [],\n  nodes: [\n    {\n      id: prettyId(),\n      name: 'entry',\n      onEnter: [],\n      onReceive: null,\n      next: [],\n      x: 100,\n      y: 100\n    }\n  ]\n})\n\n// *****\n// Reducer that deals with non-recordable (no snapshot taking)\n// *****\n\nlet reducer = handleActions(\n  {\n    [requestFlows]: state => ({\n      ...state,\n      fetchingFlows: true\n    }),\n\n    [receiveFlows]: (state, { payload }) => {\n      const flows = _.keys(payload).filter(key => !payload[key].skillData)\n      const defaultFlow = _.keys(payload).includes('main.flow.json') ? 'main.flow.json' : _.first(flows)\n      const newState = {\n        ...state,\n        fetchingFlows: false,\n        flowsByName: payload,\n        currentFlow: state.currentFlow || defaultFlow\n      }\n      return {\n        ...newState,\n        currentSnapshot: createSnapshot(newState)\n      }\n    },\n\n    [requestSaveFlows]: state => ({\n      ...state,\n      savingFlows: true\n    }),\n\n    [receiveSaveFlows]: state => ({\n      ...state,\n      savingFlows: false\n    }),\n\n    [switchFlowNode]: (state, { payload }) => ({\n      ...state,\n      currentFlowNode: payload\n    }),\n\n    [openFlowNodeProps]: state => ({\n      ...state,\n      showFlowNodeProps: true\n    }),\n\n    [closeFlowNodeProps]: state => ({\n      ...state,\n      showFlowNodeProps: false\n    }),\n\n    [switchFlow]: (state, { payload }) => {\n      if (state.currentFlow === payload) {\n        return state\n      }\n\n      return {\n        ...state,\n        currentFlowNode: null,\n        currentFlow: payload\n      }\n    },\n\n    [setDiagramAction]: (state, { payload }) => ({\n      ...state,\n      currentDiagramAction: payload\n    }),\n\n    [handleRefreshFlowLinks]: state => ({\n      ...state,\n      flowsByName: {\n        ...state.flowsByName,\n        [state.currentFlow]: {\n          ...state.flowsByName[state.currentFlow],\n          nodes: state.flowsByName[state.currentFlow].nodes.map(node => ({ ...node, lastModified: new Date() }))\n        }\n      }\n    })\n  },\n  defaultState\n)\n\nreducer = reduceReducers(\n  reducer,\n  handleActions(\n    {\n      [renameFlow]: (state, { payload }) => ({\n        ...state,\n        flowsByName: doRenameFlow({\n          flow: state.currentFlow,\n          name: payload,\n          flows: _.values(state.flowsByName)\n        }),\n        currentFlow: payload\n      }),\n\n      [updateFlow]: (state, { payload }) => {\n        const currentFlow = state.flowsByName[state.currentFlow]\n        const nodes = !payload.links\n          ? currentFlow.nodes\n          : currentFlow.nodes.map(node => {\n              const nodeLinks = payload.links.filter(link => link.source === node.id)\n              const next = node.next.map((value, index) => {\n                const link = nodeLinks.find(link => Number(link.sourcePort.replace('out', '')) === index)\n                const targetNode = _.find(currentFlow.nodes, { id: (link || {}).target })\n                let remapNode = ''\n\n                if (value.node.includes('.flow.json') || value.node === 'END' || value.node.startsWith('#')) {\n                  remapNode = value.node\n                }\n\n                return { ...value, node: (targetNode && targetNode.name) || remapNode }\n              })\n\n              return { ...node, next, lastModified: new Date() }\n            })\n\n        const links = (payload.links || currentFlow.links).map(link => ({\n          ...link,\n          points: link.points.map(({ x, y }) => ({ x: Math.round(x), y: Math.round(y) }))\n        }))\n\n        return {\n          ...state,\n          flowsByName: {\n            ...state.flowsByName,\n            [state.currentFlow]: { ...currentFlow, nodes, ...payload, links }\n          }\n        }\n      },\n\n      [createFlow]: (state, { payload: name }) => ({\n        ...state,\n        flowsByName: {\n          ...state.flowsByName,\n          [name]: doCreateNewFlow(name)\n        },\n        currentFlow: name,\n        currentFlowNode: null\n      }),\n\n      [deleteFlow]: (state, { payload: name }) => ({\n        ...state,\n        currentFlow: state.currentFlow === name ? null : state.currentFlow,\n        currentFlowNode: state.currentFlow === name ? null : state.currentFlowNode,\n        flowsByName: _.omit(state.flowsByName, name)\n      }),\n\n      // Inserting a new skill essentially:\n      // 1. creates a new flow\n      // 2. creates a new \"skill\" node\n      // 3. puts that new node in the \"insert buffer\", waiting for user to place it on the canvas\n      [insertNewSkill]: (state, { payload }) => {\n        const skillId = payload.skillId\n          .replace(/^botpress-skill-/i, '')\n          .replace(/^@botpress\\/skill-/i, '')\n          .replace(/^skill-/i, '')\n        const flowRandomId = prettyId(6)\n        const flowName = `skills/${skillId}-${flowRandomId}.flow.json`\n\n        const newFlow = Object.assign({}, payload.generatedFlow, {\n          skillData: payload.data,\n          name: flowName,\n          location: flowName\n        })\n\n        const newNode = {\n          id: 'skill-' + flowRandomId,\n          type: 'skill-call',\n          skill: skillId,\n          name: `${skillId}-${flowRandomId}`,\n          flow: flowName,\n          next: payload.transitions || [],\n          onEnter: null,\n          onReceive: null\n        }\n\n        return {\n          ...state,\n          currentDiagramAction: 'insert_skill',\n          nodeInBuffer: newNode,\n          flowsByName: {\n            ...state.flowsByName,\n            [newFlow.name]: newFlow\n          }\n        }\n      },\n\n      [updateSkill]: (state, { payload }) => {\n        const modifiedFlow = Object.assign({}, state.flowsByName[payload.editFlowName], payload.generatedFlow, {\n          skillData: payload.data,\n          name: payload.editFlowName,\n          location: payload.editFlowName\n        })\n\n        const nodes = state.flowsByName[state.currentFlow].nodes.map(node => {\n          if (node.id !== payload.editNodeId) {\n            return node\n          }\n\n          return Object.assign({}, node, {\n            next: payload.transitions\n          })\n        })\n\n        return {\n          ...state,\n          flowsByName: {\n            ...state.flowsByName,\n            [payload.editFlowName]: modifiedFlow,\n            [state.currentFlow]: {\n              ...state.flowsByName[state.currentFlow],\n              nodes: nodes\n            }\n          }\n        }\n      },\n\n      [insertNewSkillNode]: (state, { payload }) => ({\n        ...state,\n        flowsByName: {\n          ...state.flowsByName,\n          [state.currentFlow]: {\n            ...state.flowsByName[state.currentFlow],\n            nodes: [\n              ...state.flowsByName[state.currentFlow].nodes,\n              _.merge(state.nodeInBuffer, _.pick(payload, ['x', 'y']))\n            ]\n          }\n        }\n      }),\n\n      [duplicateFlow]: (state, { payload: { flowNameToDuplicate, name } }) => {\n        return {\n          ...state,\n          flowsByName: {\n            ...state.flowsByName,\n            [name]: {\n              ...state.flowsByName[flowNameToDuplicate],\n              name,\n              location: name,\n              nodes: state.flowsByName[flowNameToDuplicate].nodes.map(node => ({\n                ...node,\n                id: prettyId()\n              }))\n            }\n          },\n          currentFlow: name,\n          currentFlowNode: null\n        }\n      },\n\n      [updateFlowNode]: (state, { payload }) => {\n        const currentFlow = state.flowsByName[state.currentFlow]\n        const currentNode = _.find(state.flowsByName[state.currentFlow].nodes, { id: state.currentFlowNode })\n        const needsUpdate = name => name === (currentNode || {}).name && payload.name\n        return {\n          ...state,\n          flowsByName: {\n            ...state.flowsByName,\n            [state.currentFlow]: {\n              ...currentFlow,\n              startNode: needsUpdate(currentFlow.startNode) ? payload.name : currentFlow.startNode,\n              nodes: currentFlow.nodes.map(node => {\n                if (node.id !== state.currentFlowNode) {\n                  return {\n                    ...node,\n                    next: node.next.map(transition => ({\n                      ...transition,\n                      node: needsUpdate(transition.node) ? payload.name : transition.node\n                    }))\n                  }\n                }\n\n                return { ...node, ...payload, lastModified: new Date() }\n              })\n            }\n          }\n        }\n      },\n\n      [removeFlowNode]: (state, { payload }) => {\n        const flowsToRemove = []\n        const nodeToRemove = _.find(state.flowsByName[state.currentFlow].nodes, { id: payload })\n\n        if (nodeToRemove.type === 'skill-call') {\n          if (findNodesThatReferenceFlow(state, nodeToRemove.flow).length <= 1) {\n            // Remove the skill flow if that was the only node referencing it\n            flowsToRemove.push(nodeToRemove.flow)\n          }\n        }\n\n        return {\n          ...state,\n          flowsByName: {\n            ..._.omit(state.flowsByName, flowsToRemove),\n            [state.currentFlow]: {\n              ...state.flowsByName[state.currentFlow],\n              nodes: state.flowsByName[state.currentFlow].nodes.filter(node => node.id !== payload)\n            }\n          }\n        }\n      },\n\n      [copyFlowNode]: state => {\n        const node = _.find(state.flowsByName[state.currentFlow].nodes, { id: state.currentFlowNode })\n        if (!node) {\n          return state\n        }\n        return {\n          ...state,\n          nodeInBuffer: { ...node, next: node.next.map(item => ({ ...item, node: '' })) }\n        }\n      },\n\n      [pasteFlowNode]: (state, { payload: { x, y } }) => {\n        const currentFlow = state.flowsByName[state.currentFlow]\n        const newNodeId = prettyId()\n        const name = copyName(currentFlow.nodes.map(({ name }) => name), state.nodeInBuffer.name)\n        return {\n          ...state,\n          currentFlowNode: newNodeId,\n          flowsByName: {\n            ...state.flowsByName,\n            [state.currentFlow]: {\n              ...currentFlow,\n              nodes: [\n                ...currentFlow.nodes,\n                { ...state.nodeInBuffer, id: newNodeId, name, lastModified: new Date(), x, y }\n              ]\n            }\n          }\n        }\n      },\n\n      [copyFlowNodeElement]: (state, { payload }) => ({\n        ...state,\n        buffer: {\n          ...state.buffer,\n          ...payload\n        }\n      }),\n\n      [pasteFlowNodeElement]: (state, { payload }) => {\n        const SECTION_TYPES = { onEnter: 'action', onReceive: 'action', next: 'transition' }\n        const element = state.buffer[SECTION_TYPES[payload]]\n        if (!element) {\n          return state\n        }\n\n        const currentFlow = state.flowsByName[state.currentFlow]\n        const currentNode = _.find(currentFlow.nodes, { id: state.currentFlowNode })\n\n        // TODO: use this as a helper function in other reducers\n        const updateCurrentFlow = modifier => ({\n          ...state,\n          flowsByName: { ...state.flowsByName, [state.currentFlow]: { ...currentFlow, ...modifier } }\n        })\n\n        if (currentNode) {\n          return updateCurrentFlow({\n            nodes: [\n              ...currentFlow.nodes.filter(({ id }) => id !== state.currentFlowNode),\n              { ...currentNode, [payload]: [...(currentNode[payload] || []), element] }\n            ]\n          })\n        }\n\n        return updateCurrentFlow({\n          catchAll: {\n            ...currentFlow.catchAll,\n            [payload]: [...currentFlow.catchAll[payload], element]\n          }\n        })\n      },\n\n      [createFlowNode]: (state, { payload }) => ({\n        ...state,\n        flowsByName: {\n          ...state.flowsByName,\n          [state.currentFlow]: {\n            ...state.flowsByName[state.currentFlow],\n            nodes: [\n              ...state.flowsByName[state.currentFlow].nodes,\n              _.merge(\n                {\n                  id: prettyId(),\n                  name: `node-${prettyId(4)}`,\n                  x: 0,\n                  y: 0,\n                  next: [],\n                  onEnter: [],\n                  onReceive: null\n                },\n                payload\n              )\n            ]\n          }\n        }\n      })\n    },\n    defaultState\n  )\n)\n\n// *****\n// Reducer that creates the 'initial hash' of flows (for dirty detection)\n// Resets the 'dirty' state when a flow is saved\n// *****\n\nreducer = reduceReducers(\n  reducer,\n  handleActions(\n    {\n      [receiveFlows]: state => {\n        const hashes = computeFlowsHash(state)\n        return { ...state, currentHashes: hashes, initialHashes: hashes }\n      },\n\n      [receiveSaveFlows]: state => {\n        const hashes = computeFlowsHash(state)\n        return { ...state, currentHashes: hashes, initialHashes: hashes }\n      },\n\n      [updateFlow]: updateCurrentHash,\n      [renameFlow]: updateCurrentHash,\n      [updateFlowNode]: updateCurrentHash,\n\n      [createFlowNode]: updateCurrentHash,\n      [createFlow]: updateCurrentHash,\n      [deleteFlow]: updateCurrentHash,\n      [duplicateFlow]: updateCurrentHash,\n      [removeFlowNode]: updateCurrentHash,\n      [pasteFlowNode]: updateCurrentHash,\n      [insertNewSkillNode]: updateCurrentHash,\n      [updateSkill]: updateCurrentHash,\n      [pasteFlowNodeElement]: updateCurrentHash\n    },\n    defaultState\n  )\n)\n\n// *****\n// Reducer that records state of the flows for undo/redo\n// *****\n\nreducer = reduceReducers(\n  reducer,\n  handleActions(\n    {\n      [updateFlow]: recordHistory,\n      [renameFlow]: recordHistory,\n      [updateFlowNode]: recordHistory,\n      [createFlowNode]: recordHistory,\n      [createFlow]: recordHistory,\n      [deleteFlow]: recordHistory,\n      [duplicateFlow]: recordHistory,\n      [removeFlowNode]: recordHistory,\n      [pasteFlowNode]: recordHistory,\n      [insertNewSkill]: recordHistory,\n      [insertNewSkillNode]: recordHistory,\n      [updateSkill]: recordHistory,\n      [pasteFlowNodeElement]: recordHistory,\n      [handleFlowEditorUndo]: popHistory('undoStack'),\n      [handleFlowEditorRedo]: popHistory('redoStack')\n    },\n    defaultState\n  )\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\nimport _ from 'lodash'\n\nimport {\n  receiveContentCategories,\n  receiveContentItems,\n  receiveContentItemsRecent,\n  receiveContentItem,\n  receiveContentItemsCount,\n  receiveContentSchema\n} from '~/actions'\n\nconst defaultState = {\n  categories: null,\n  currentItems: [],\n  recentItems: [],\n  itemsById: {},\n  itemsCount: 0\n}\n\nexport default handleActions(\n  {\n    [receiveContentCategories]: (state, { payload }) => ({\n      ...state,\n      categories: payload\n    }),\n\n    [receiveContentItems]: (state, { payload }) => ({\n      ...state,\n      currentItems: payload\n    }),\n\n    [receiveContentItemsRecent]: (state, { payload }) => ({\n      ...state,\n      recentItems: payload\n    }),\n\n    [receiveContentItem]: (state, { payload }) => ({\n      ...state,\n      itemsById: {\n        ...state.itemsById,\n        [payload.id]: payload\n      }\n    }),\n\n    [receiveContentItemsCount]: (state, { payload }) => ({\n      ...state,\n      itemsCount: payload.data.count\n    })\n  },\n  defaultState\n)\n","import _ from 'lodash'\n\nexport const getCurrentFlow = state => state.flows.flowsByName[state.flows.currentFlow] || null\n\nexport const getCurrentFlowNode = state => {\n  if (!state.flows || !state.flows.currentFlow || !state.flows.currentFlowNode) {\n    return\n  }\n\n  const currentFlow = getCurrentFlow(state)\n  return currentFlow && _.find(currentFlow.nodes, { id: state.flows.currentFlowNode })\n}\n\nexport const getDirtyFlows = state => {\n  if (!state.flows) {\n    return []\n  }\n\n  const currentKeys = _.keys(state.flows.currentHashes)\n  const initialKeys = _.keys(state.flows.initialHashes)\n  const keys = _.union(currentKeys, initialKeys)\n\n  const dirtyFlows = _.union(_.xor(keys, currentKeys), _.xor(keys, initialKeys))\n\n  _.keys(state.flows.flowsByName).forEach(flow => {\n    if (state.flows.initialHashes[flow] !== state.flows.currentHashes[flow]) {\n      dirtyFlows.push(flow)\n    }\n  })\n\n  return dirtyFlows\n}\n\nexport const canFlowUndo = state => state.flows.undoStack.length > 0\n\nexport const canFlowRedo = state => state.flows.redoStack.length > 0\n","import Promise from 'bluebird'\n\n// `execute` must be a function accepting an array of resource IDs\n// and returning a promise resolving to an object mapping\n// from ID to the data object\nconst BatchRunner = (execute, { maxQueue = 100, maxInterval = 20 } = {}) => {\n  let queue = []\n  const promises = {}\n\n  const run = () => {\n    if (!queue.length) {\n      return\n    }\n    const ids = queue\n    queue = []\n\n    execute(ids)\n      .then(resources => {\n        for (const id of ids) {\n          promises[id].resolve(resources[id])\n          delete promises[id]\n        }\n      })\n      .catch(err => {\n        for (const id of ids) {\n          promises[id].reject(err)\n          delete promises[id]\n        }\n      })\n  }\n\n  const add = resourceId => {\n    // don't fetch the same resource twice\n    if (promises[resourceId]) {\n      return promises[resourceId].promise\n    }\n\n    queue.push(resourceId)\n    const p = new Promise((resolve, reject) => {\n      promises[resourceId] = { resolve, reject }\n    })\n    promises[resourceId].promise = p\n\n    // drain the queue when the max length is reached\n    if (queue.length >= maxQueue) {\n      run()\n    }\n\n    return p\n  }\n\n  // drain the queue on a regular basis\n  const intervalId = setInterval(run, maxInterval)\n\n  const destroy = () => {\n    clearInterval(intervalId)\n  }\n\n  return { add, destroy }\n}\n\nexport default BatchRunner\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { FormGroup, InputGroup, FormControl, Glyphicon } from 'react-bootstrap'\n\nimport store from '~/store'\nimport { upsertContentItem, fetchContentItem } from '~/actions'\n\nimport CreateOrEditModal from '../CreateOrEditModal'\nconst style = require('./style.scss')\n\nclass ContentPickerWidget extends Component {\n  state = {\n    showItemEdit: false,\n    contentToEdit: null\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.contentItem) {\n      return\n    }\n    this.props.fetchContentItem(nextProps.itemId)\n  }\n\n  editItem = () => {\n    const { contentItem } = this.props\n    this.setState({ showItemEdit: true, contentToEdit: (contentItem && contentItem.formData) || null })\n  }\n\n  handleUpdate = () => {\n    const { contentItem, itemId } = this.props\n    const { categoryId } = contentItem\n    this.props\n      .upsertContentItem({ modifyId: itemId, categoryId, formData: this.state.contentToEdit })\n      .then(() => this.setState({ showItemEdit: false, contentToEdit: null }))\n      .then(() => this.props.fetchContentItem(this.props.itemId, { force: true }))\n      .then(this.props.onUpdate || (() => {}))\n  }\n\n  onChange = item => {\n    this.props.fetchContentItem(item && item.id)\n    this.props.onChange(item)\n  }\n\n  render() {\n    const { inputId, contentItem, categoryId, placeholder } = this.props\n\n    const schema = (contentItem && contentItem.categorySchema) || { json: {}, ui: {} }\n    const textContent = (contentItem && `${contentItem.categoryTitle} | ${contentItem.previewText}`) || ''\n\n    return (\n      <FormGroup>\n        <InputGroup>\n          <FormControl placeholder={placeholder} value={textContent} disabled id={inputId || ''} />\n          <InputGroup.Addon>\n            {contentItem && (\n              <a onClick={this.editItem} style={{ marginRight: '8px' }}>\n                <Glyphicon glyph=\"pencil\" />\n              </a>\n            )}\n            <a onClick={() => window.botpress.pickContent({ categoryId }, this.onChange)}>\n              <Glyphicon glyph=\"folder-open\" />\n            </a>\n          </InputGroup.Addon>\n          <CreateOrEditModal\n            show={this.state.showItemEdit}\n            schema={schema.json}\n            uiSchema={schema.ui}\n            handleClose={() => this.setState({ showItemEdit: false, contentToEdit: null })}\n            formData={this.state.contentToEdit}\n            handleEdit={contentToEdit => this.setState({ contentToEdit })}\n            handleCreateOrUpdate={this.handleUpdate}\n          />\n        </InputGroup>\n      </FormGroup>\n    )\n  }\n}\n\nconst mapDispatchToProps = { upsertContentItem, fetchContentItem }\nconst mapStateToProps = ({ content: { itemsById } }, { itemId }) => ({ contentItem: itemsById[itemId] })\nconst ConnectedContentPicker = connect(mapStateToProps, mapDispatchToProps)(ContentPickerWidget)\n\n// Passing store explicitly since this component may be imported from another botpress-module\nexport default props => <ConnectedContentPicker {...props} store={store} />\n","import React, { Component, Fragment } from 'react'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport { Button } from 'react-bootstrap'\n\nimport ActionModalForm from './ActionModalForm'\nimport ActionItem from '../common/action'\n\nconst style = require('./style.scss')\n\nexport default class ActionSection extends Component {\n  state = {\n    showActionModalForm: false\n  }\n\n  onMoveAction(prevIndex, direction) {\n    const clone = [...this.props.items]\n    const a = clone[prevIndex]\n    const b = clone[prevIndex + direction]\n\n    clone[prevIndex + direction] = a\n    clone[prevIndex] = b\n\n    this.props.onItemsUpdated(clone)\n  }\n\n  optionsToItem(options) {\n    if (options.type === 'message') {\n      return options.message\n    }\n    return options.functionName + ' ' + JSON.stringify(options.parameters || {})\n  }\n\n  itemToOptions(item) {\n    if (item && item.startsWith('say ')) {\n      const chunks = item.split(' ')\n      let text = item\n      if (chunks.length > 2) {\n        text = _.slice(chunks, 2).join(' ')\n      }\n\n      return { type: 'message', message: text }\n    } else if (item) {\n      const params = item.includes(' ') ? JSON.parse(item.substring(item.indexOf(' ') + 1)) : {}\n      return {\n        type: 'code',\n        functionName: item.split(' ')[0],\n        parameters: params\n      }\n    }\n  }\n\n  onSubmitAction = options => {\n    const item = this.optionsToItem(options)\n    const editIndex = this.state.itemToEditIndex\n    const { items } = this.props\n    const updateByIndex = (originalItem, i) => (i === editIndex ? item : originalItem)\n\n    this.setState({ showActionModalForm: false, itemToEditIndex: null })\n    this.props.onItemsUpdated(Number.isInteger(editIndex) ? items.map(updateByIndex) : [...(items || []), item])\n  }\n\n  onRemoveAction(index) {\n    const clone = [...this.props.items]\n    _.pullAt(clone, [index])\n    this.props.onItemsUpdated(clone)\n  }\n\n  onCopyAction(index) {\n    this.props.copyItem(this.props.items[index])\n  }\n\n  onEdit(itemToEditIndex) {\n    this.setState({ itemToEditIndex, showActionModalForm: true })\n  }\n\n  renderWait() {\n    const { items, readOnly } = this.props\n\n    if (!this.props.waitable || (items && items.length > 0)) {\n      return null\n    }\n\n    const checked = _.isArray(items)\n\n    const changeChecked = () => this.props.onItemsUpdated && this.props.onItemsUpdated(checked ? null : [])\n\n    return (\n      <label>\n        <input name=\"isGoing\" type=\"checkbox\" checked={checked} disabled={readOnly} onChange={changeChecked} />\n        {'  Wait for user message'}\n      </label>\n    )\n  }\n\n  render() {\n    let { items, readOnly } = this.props\n\n    if (!items) {\n      items = []\n    }\n\n    const renderMoveUp = i => (i > 0 ? <a onClick={() => this.onMoveAction(i, -1)}>Up</a> : null)\n\n    const renderMoveDown = i => (i < items.length - 1 ? <a onClick={() => this.onMoveAction(i, 1)}>Down</a> : null)\n\n    const handleAddAction = () => this.setState({ showActionModalForm: true })\n\n    return (\n      <Fragment>\n        <div>\n          {this.renderWait()}\n          {items.map((item, i) => (\n            <ActionItem className={style.item} text={item} key={`${i}.${item}`}>\n              {!readOnly && (\n                <div className={style.actions}>\n                  <a onClick={() => this.onEdit(i)}>Edit</a>\n                  <a onClick={() => this.onRemoveAction(i)}>Remove</a>\n                  <a onClick={() => this.onCopyAction(i)}>Copy</a>\n                  {renderMoveUp(i)}\n                  {renderMoveDown(i)}\n                </div>\n              )}\n            </ActionItem>\n          ))}\n          {!readOnly && (\n            <div className={style.actions}>\n              <Button onClick={handleAddAction} bsSize=\"xsmall\">\n                <i className={classnames('material-icons', style.actionIcons)}>add</i>\n              </Button>\n              <Button onClick={this.props.pasteItem} bsSize=\"xsmall\" disabled={!this.props.canPaste}>\n                <i className={classnames('material-icons', style.actionIcons)}>content_paste</i>\n              </Button>\n            </div>\n          )}\n        </div>\n        {!readOnly && (\n          <ActionModalForm\n            show={this.state.showActionModalForm}\n            onClose={() => this.setState({ showActionModalForm: false, itemToEditIndex: null })}\n            onSubmit={this.onSubmitAction}\n            item={this.itemToOptions(items && items[this.state.itemToEditIndex])}\n          />\n        )}\n      </Fragment>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport classnames from 'classnames'\n\nconst style = require('./style.scss')\n\nexport default class EditableInput extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.value || props.defaultValue\n    }\n  }\n\n  componentDidMount() {\n    this.props.onMount && this.props.onMount(this.input)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ value: nextProps.value || nextProps.defaultValue })\n  }\n\n  onChanged = event => {\n    let txt = event.target.value\n    if (this.props.transform) {\n      txt = this.props.transform(txt)\n    }\n\n    this.setState({ value: txt })\n  }\n\n  onKeyDown = event => {\n    if (event.keyCode === 13) {\n      // Enter\n      event.target.blur()\n    }\n  }\n\n  onBlur = () => {\n    if (this.props.readOnly) {\n      return\n    }\n\n    if (!this.props.value.length) {\n      this.props.onChanged && this.props.onChanged(this.state.defaultValue)\n    } else {\n      this.props.onChanged && this.props.onChanged(this.state.value)\n    }\n  }\n\n  render() {\n    const inputWidth = Math.max(120, 20 + 8 * this.props.value.length) + 'px'\n    // TODO: should the class check take into account `state.value` intead?\n    const inputClass = classnames(style.editableInput, this.props.className, {\n      [style.defaultValue]: this.props.value === this.props.defaultValue\n    })\n\n    return (\n      <input\n        className={inputClass}\n        type=\"text\"\n        ref={el => (this.input = el)}\n        style={{ width: inputWidth }}\n        autoComplete=\"off\"\n        value={this.state.value}\n        disabled={!!this.props.readOnly}\n        onBlur={this.onBlur}\n        onChange={this.onChanged}\n        onKeyDown={this.onKeyDown}\n      />\n    )\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport { withRouter } from 'react-router-dom'\n\nconst { PortWidget, PortModel } = require('storm-react-diagrams')\n\nconst style = require('./style.scss')\n\nexport class StandardOutgoingPortModel extends PortModel {\n  constructor(name) {\n    super(name)\n  }\n\n  serialize() {\n    return _.merge(super.serialize(), {})\n  }\n\n  deSerialize(data) {\n    super.deSerialize(data)\n  }\n}\n\nexport class StandardPortWidgetDisconnected extends React.Component {\n  renderSubflowNode() {\n    const node = this.props.node\n    const index = Number(this.props.name.replace('out', ''))\n    const subflow = node.next[index].node.replace(/\\.flow\\.json/, '')\n\n    return (\n      <div className={style.label}>\n        <a href=\"javascript:void(0);\" onClick={() => this.props.history.push(`/flows/${subflow}`)}>\n          {subflow}\n        </a>\n      </div>\n    )\n  }\n\n  renderEndNode() {\n    return <div className={style.label}>End of flow</div>\n  }\n\n  renderStartNode() {\n    return <div className={style.label}>Start</div>\n  }\n\n  renderReturnNode() {\n    const node = this.props.node\n    const index = Number(this.props.name.replace('out', ''))\n    let returnTo = node.next[index].node.substr(1)\n\n    if (!returnTo.length) {\n      returnTo = '@calling'\n    }\n\n    return <div className={style.label}>Return ({returnTo})</div>\n  }\n\n  render() {\n    let type = 'normal'\n    let missingConnection = false\n\n    if (this.props.name === 'in' && this.props.node.isStartNode) {\n      type = 'start'\n    } else if (this.props.name !== 'in') {\n      const index = Number(this.props.name.replace(/out/i, ''))\n      const nextNode = _.get(this.props.node, `next.${index}`)\n\n      if (nextNode.node && nextNode.node.toLowerCase() === 'end') {\n        type = 'end'\n      } else if (/\\.flow\\.json/i.test(nextNode.node)) {\n        type = 'subflow'\n      } else if (/^#/i.test(nextNode.node)) {\n        type = 'return'\n      } else if (nextNode.node === '') {\n        missingConnection = true\n      }\n    }\n\n    const className = classnames(this.props.className, style.portContainer, {\n      [style.startPort]: type === 'start',\n      [style.subflowPort]: type === 'subflow',\n      [style.endPort]: type === 'end',\n      [style.returnPort]: type === 'return',\n      [style.portLabel]: /end|subflow|start|return/i.test(type),\n      [style.missingConnection]: missingConnection\n    })\n\n    return (\n      <div className={className}>\n        <PortWidget {...this.props} />\n        {type === 'subflow' && this.renderSubflowNode()}\n        {type === 'end' && this.renderEndNode()}\n        {type === 'start' && this.renderStartNode()}\n        {type === 'return' && this.renderReturnNode()}\n      </div>\n    )\n  }\n}\nexport const StandardPortWidget = withRouter(StandardPortWidgetDisconnected)\n\nexport class StandardIncomingPortModel extends PortModel {\n  constructor(name) {\n    super(name)\n  }\n\n  serialize() {\n    return _.merge(super.serialize(), {})\n  }\n\n  deSerialize(data) {\n    super.deSerialize(data)\n  }\n}\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Panel, Grid, Row, Col } from 'react-bootstrap'\n\nimport Button from 'react-bootstrap-button-loader'\nimport classnames from 'classnames'\n\nimport _ from 'lodash'\n\nconst style = require('./style.scss')\n\nconst numberWithCommas = x => x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n\nclass ModuleComponent extends React.Component {\n  state = {\n    loading: false\n  }\n\n  renderLeftSideModule() {\n    const { docLink, icon, description, author, license, title, name } = this.props.module\n    const isLoaded = this.props.isLoaded\n    const iconPath = `/img/modules/${name}.png`\n\n    const hasCustomIcon = icon === 'custom' && isLoaded\n    const moduleIcon = hasCustomIcon ? (\n      <img className={classnames(style.customIcon, 'bp-custom-icon')} src={iconPath} />\n    ) : (\n      <i className=\"icon material-icons\">{icon === 'custom' ? 'extension' : icon}</i>\n    )\n\n    return (\n      <div>\n        <a href={docLink} target=\"_blank\">\n          <h3 className={classnames(style.moduleTitle, 'bp-module-title')}>\n            {moduleIcon}\n            {title}\n          </h3>\n        </a>\n        <p className={classnames(style.moduleDescription, 'bp-module-description')}>{description}</p>\n        <p className={classnames(style.moduleAuthor, 'bp-module-author')}>{author}</p>\n        <p className={classnames(style.moduleLicense, 'bp-module-license')}>{license}</p>\n      </div>\n    )\n  }\n\n  renderRightSideModule() {\n    const { stars, forks, installed } = this.props.module\n\n    return (\n      <div>\n        <div className={style.moduleIcons}>\n          <i className=\"icon material-icons\">star</i>\n          {numberWithCommas(stars)}\n        </div>\n        <div className={style.moduleIcons}>\n          <i className=\"icon material-icons\">merge_type</i>\n          {numberWithCommas(forks)}\n        </div>\n        <div className={style.moduleButton}>{installed && 'Installed'}</div>\n      </div>\n    )\n  }\n\n  render() {\n    const module = this.props.module\n\n    return (\n      <Panel key={module.name} className={classnames(style.modulePanel, 'bp-module-panel')}>\n        <Panel.Body>\n          <Grid fluid>\n            <Row>\n              <Col sm={8}>{this.renderLeftSideModule()}</Col>\n              <Col sm={4} className={style.moduleRightSide}>\n                {this.renderRightSideModule()}\n              </Col>\n            </Row>\n          </Grid>\n        </Panel.Body>\n      </Panel>\n    )\n  }\n}\n\nclass ModulesComponent extends React.Component {\n  render() {\n    const installedModules = {}\n    this.props.installedModules.map(module => {\n      const name = module.name\n      installedModules[name] = true\n    })\n    return (\n      <div>\n        {_.values(\n          _.map(this.props.modules, module => {\n            return (\n              <ModuleComponent\n                key={module.name}\n                module={module}\n                refresh={this.props.refresh}\n                isLoaded={installedModules[module.name]}\n              />\n            )\n          })\n        )}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ installedModules: state.modules })\n\nexport default connect(mapStateToProps)(ModulesComponent)\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Header.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Header.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Header.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { Row, Col, Tooltip, OverlayTrigger } from 'react-bootstrap'\nimport moment from 'moment'\nimport classnames from 'classnames'\n\nimport EventBus from '~/util/EventBus'\n\nconst getNotificationStyle = (styles, notification) =>\n  classnames({\n    animated: true,\n    fadeIn: true,\n    notif: true,\n    [styles.item]: true,\n    [styles['level-' + notification.level]]: true,\n    [styles['item-unread']]: !notification.read,\n    'bp-item': true,\n    ['bp-level-' + notification.level]: true,\n    'bp-item-unread': !notification.read\n  })\n\nexport default class NotificationComponent extends Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  constructor(props, context, { itemComponent, renderDivider, styles }) {\n    super(props, context)\n\n    this.itemComponent = itemComponent\n    this.renderDivider = renderDivider\n    this.styles = styles\n\n    this.state = { selectedIndex: null }\n  }\n\n  onNotifClicked(notif) {\n    this.markAsRead(notif)\n    this.context.router.history.push(notif.url)\n  }\n\n  markAsRead(notif) {\n    EventBus.default.emit('notifications.read', notif.id)\n  }\n\n  markAllAsRead = () => {\n    EventBus.default.emit('notifications.allRead')\n  }\n\n  trashAll = () => {\n    EventBus.default.emit('notifications.trashAll')\n  }\n\n  renderMarkAsReadButton(notification, index) {\n    if (this.state.selectedIndex !== index || notification.read) {\n      return null\n    }\n\n    const onClickHandler = event => {\n      event.preventDefault()\n      event.stopPropagation()\n      this.markAsRead(notification)\n      return false\n    }\n\n    const tooltip = <Tooltip id=\"ttip\">Mark as read</Tooltip>\n    const checkClassName = classnames('glyphicon glyphicon-ok', this.styles['mark-read-btn'])\n\n    return (\n      <OverlayTrigger placement=\"left\" overlay={tooltip}>\n        <em className={checkClassName} onClick={onClickHandler} />\n      </OverlayTrigger>\n    )\n  }\n\n  renderMenuItem(notification, index) {\n    const ItemComponent = this.itemComponent\n    const styles = this.styles\n    const date = moment(new Date(notification.date)).fromNow()\n    const className = getNotificationStyle(styles, notification)\n    const checkButton = this.renderMarkAsReadButton(notification, index)\n    const iconClass = classnames('icon', 'material-icons', this.styles.icon)\n\n    return (\n      <ItemComponent\n        key={notification.id}\n        className={className}\n        onMouseOver={() => this.setState({ selectedIndex: index })}\n        onMouseLeave={() => this.setState({ selectedIndex: -1 })}\n      >\n        <Row>\n          <Col xs={11} onClick={() => this.onNotifClicked(notification)}>\n            <strong className={styles.header}>\n              <i className={iconClass}>{notification.icon}</i>\n              &nbsp; {notification.name}\n            </strong>\n            {this.renderMessage(notification.message)}\n            <small className=\"text-muted\">{date}</small>\n          </Col>\n          <Col xs={1} className={styles.markAsReadButton}>\n            {checkButton}\n          </Col>\n        </Row>\n      </ItemComponent>\n    )\n  }\n\n  renderMenuItems(displayedNotifications) {\n    const ItemComponent = this.itemComponent\n\n    const renderDivider = index => {\n      if (index + 1 === displayedNotifications.length) {\n        return null\n      } else {\n        return this.renderDivider && <ItemComponent divider style={{ margin: 0 }} />\n      }\n    }\n\n    return displayedNotifications.map((notif, i) => [this.renderMenuItem(notif, i), renderDivider(i)])\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import { checkMultipleRoles } from '@botpress/util-roles'\n\nexport const operationAllowed = ({ user, res, op }) => {\n  if (!user) {\n    return false\n  }\n  if (user.roles && !checkMultipleRoles(user.roles, op, res)) {\n    return false\n  }\n  return true\n}\n\nconst PermissionsChecker = ({ user, res, op, children, fallback = null }) =>\n  operationAllowed({ user, res, op }) ? children : fallback\n\nexport default PermissionsChecker\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__panel-center___3WCxu {\\n  width: 320px;\\n  height: 275px;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  margin: auto; }\\n\\n.style__panel-center___3WCxu.style__panel-center-tall___sjGe3 {\\n  height: 310px; }\\n\\n.style__panel-center___3WCxu .panel-body {\\n  position: relative; }\\n\\n.style__panel-center___3WCxu .style__header___13gpi {\\n  border-bottom: 1px solid #e4eaec; }\\n\\n.style__error___WAnN9 {\\n  text-align: center;\\n  color: #e84a4a;\\n  font-weight: 600; }\\n\\n.style__success___3ypEm {\\n  color: #37e85e; }\\n\\n.style__loading___1DND- {\\n  width: 100%;\\n  height: 100%;\\n  background-color: white;\\n  opacity: 0.8;\\n  position: absolute;\\n  top: 0;\\n  left: 0; }\\n\\n.style__logo___3ZejJ {\\n  text-align: center;\\n  margin-bottom: 30px; }\\n  .style__logo___3ZejJ img {\\n    width: 150px; }\\n\\n.style__body___2NrcJ {\\n  background-color: #e4eaec; }\\n\\n.style__cloudContainer___j-q40 {\\n  text-align: center; }\\n  .style__cloudContainer___j-q40 .btn {\\n    background: black;\\n    color: white;\\n    border: none;\\n    border-radius: 0; }\\n\\n.style__cloudButton___Pq9ru {\\n  background: black;\\n  border: none;\\n  color: white;\\n  border-radius: 0; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"panel-center\": \"style__panel-center___3WCxu\",\n\t\"panel-center-tall\": \"style__panel-center-tall___sjGe3\",\n\t\"header\": \"style__header___13gpi\",\n\t\"error\": \"style__error___WAnN9\",\n\t\"success\": \"style__success___3ypEm\",\n\t\"loading\": \"style__loading___1DND-\",\n\t\"logo\": \"style__logo___3ZejJ\",\n\t\"body\": \"style__body___2NrcJ\",\n\t\"cloudContainer\": \"style__cloudContainer___j-q40\",\n\t\"cloudButton\": \"style__cloudButton___Pq9ru\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport qs from 'query-string'\n\nimport { Button, FormGroup, FormControl, ControlLabel, HelpBlock } from 'react-bootstrap'\nimport classnames from 'classnames'\n\nimport styles from './style.scss'\nimport { login } from '~/util/Auth'\n\nexport default class LoginPage extends Component {\n  static contextTypes = {\n    router: PropTypes.object\n  }\n\n  state = {\n    user: 'admin',\n    password: '',\n    error: null,\n    loading: false\n  }\n\n  componentDidMount() {\n    const app = document.getElementById('app')\n    app.className = classnames(app.className, 'bp-body-login')\n  }\n\n  handlePasswordChange = event => {\n    this.setState({ password: event.target.value })\n  }\n\n  handleUserChange = event => {\n    this.setState({ user: event.target.value })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault()\n    this.setState({ loading: true })\n\n    login(this.state.user, this.state.password)\n      .then(result => {\n        this.setState({ error: null })\n        this.context.router.history.push(this.props.location.query.returnTo || '/')\n      })\n      .catch(err => {\n        this.setState({ error: err.message, loading: false })\n      })\n  }\n\n  renderLoading() {\n    const className = classnames(styles.loading, 'bp-loading')\n    return (\n      this.state.loading && (\n        <div className={className}>\n          <div\n            style={{\n              marginTop: '140px'\n            }}\n            className=\"whirl helicopter\"\n          />\n        </div>\n      )\n    )\n  }\n\n  componentWillUnmount() {\n    const app = document.getElementById('app')\n    app.className = classnames(app.className.replace('bp-body-login', ''))\n  }\n\n  renderLoginCloud() {\n    const { endpoint, botId, env } = window.BOTPRESS_CLOUD_SETTINGS\n\n    const query = qs.stringify({\n      action: 'redirect',\n      direct: 1,\n      botId: botId,\n      env: env,\n      params: JSON.stringify({ returnTo: this.props.location.query.returnTo || '/' })\n    })\n\n    const url = `${endpoint}/login?${query}`\n    return (\n      <div className={styles.cloudContainer}>\n        <Button href={url}>\n          Sign in with <b style={{ fontWeight: 600 }}>Botpress Cloud</b>\n        </Button>\n      </div>\n    )\n  }\n\n  renderLoginRoot() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <FormGroup>\n          <ControlLabel>User</ControlLabel>\n          <FormControl type=\"text\" placeholder=\"\" value={this.state.user} onChange={this.handleUserChange} readOnly />\n        </FormGroup>\n        <FormGroup>\n          <ControlLabel>Password</ControlLabel>\n          <FormControl\n            type=\"password\"\n            placeholder=\"\"\n            value={this.state.password}\n            onChange={this.handlePasswordChange}\n          />\n        </FormGroup>\n        <Button className=\"pull-right\" type=\"submit\">\n          Login\n        </Button>\n      </form>\n    )\n  }\n\n  render() {\n    const hasChangedPassword = !!this.props.location.query.reset\n    const hasAnError = !!this.state.error\n\n    const tallPanelStyle = hasChangedPassword || hasAnError\n\n    const panelStyle = classnames('panel')\n\n    const blockStyle = classnames('bp-login', styles['panel-center'], {\n      [styles['panel-center-tall']]: tallPanelStyle\n    })\n\n    const logoStyle = classnames('bp-logo', styles['logo'])\n\n    const headerStyle = classnames('panel-heading', 'text-center', styles.header, 'bp-header')\n    const errorStyle = classnames(styles.error)\n    const successStyle = classnames(styles.success)\n\n    const loginBody = window.BOTPRESS_CLOUD_ENABLED ? this.renderLoginCloud() : this.renderLoginRoot()\n\n    const error = this.state.error || this.props.location.query.error\n\n    return (\n      <div>\n        <div className=\"block-center mt-xl wd-xl\">\n          <div className={blockStyle}>\n            <div className={logoStyle}>\n              <img src=\"/img/logo_grey.png\" />\n            </div>\n            <div className={panelStyle}>\n              <div className={headerStyle}>\n                <h4 style={{ textTransform: 'none', fontWeight: 600 }}>Login</h4>\n              </div>\n              <div className=\"panel-body\">\n                {this.renderLoading()}\n                {error && <p className={errorStyle}>{error}</p>}\n                {hasChangedPassword && <p className={successStyle}>Password changed successfully</p>}\n                {loginBody}\n              </div>{' '}\n              {/* End Panel Body */}\n            </div>{' '}\n            {/* End Panel */}\n          </div>{' '}\n          {/* End Block */}\n        </div>\n      </div>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__container___1FP9B {\\n  margin-top: 50px;\\n  border-top: 1px solid #ffffff;\\n  background-color: #eee;\\n  color: #2f2f2f; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"container\": \"style__container___1FP9B\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport InjectedModuleView from '~/components/PluginInjectionSite/module'\nimport { moduleViewNames } from '~/util/Modules'\n\nclass InjectionSite extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  renderNotFound = () => {\n    return <div /> // TODO Render something meaningful\n  }\n\n  render() {\n    const { site: injectionSite, modules } = this.props\n    const plugins = moduleViewNames(modules, injectionSite)\n\n    return (\n      <div className=\"bp-plugins bp-injection-site\">\n        {plugins.map(({ moduleName, viewName }, i) => (\n          <InjectedModuleView key={i} moduleName={moduleName} viewName={viewName} onNotFound={this.renderNotFound} />\n        ))}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ modules: state.modules })\n\nexport default connect(mapStateToProps)(InjectionSite)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__logs-panel___RpJrJ {\\n  background-color: #191f28;\\n  color: rgba(255, 255, 255, 0.85);\\n  border: none;\\n  margin-top: -4px;\\n  border-radius: 0px;\\n  border-bottom-right-radius: 3px;\\n  border-bottom-left-radius: 3px;\\n  border-top: #b1b1b1 2px solid;\\n  min-height: 300px;\\n  position: relative;\\n  font-family: Courier;\\n  font-style: normal;\\n  font-variant: normal; }\\n\\n.style__logs-panel___RpJrJ .panel-body {\\n  padding: 15px 15px 30px 15px; }\\n\\n.style__logs-panel-footer___zGeB5 {\\n  position: absolute;\\n  bottom: 0px;\\n  text-align: center;\\n  width: 100%;\\n  background-color: #404040;\\n  border-bottom-right-radius: 3px;\\n  border-bottom-left-radius: 3px;\\n  padding: 2px 0;\\n  cursor: pointer; }\\n\\n.style__logs-panel-footer___zGeB5 a {\\n  color: white; }\\n\\n.style__logs-panel-footer___zGeB5 a:hover {\\n  color: white; }\\n\\n.style__logs-panel-footer___zGeB5:hover {\\n  background-color: #505050; }\\n\\n.style__panel___2yrFM {\\n  margin-bottom: 0px; }\\n\\n.style__panel-checkbox___392gs {\\n  margin: 8px 0; }\\n\\nul.style__events___NOrnz {\\n  word-wrap: break-word;\\n  list-style: none;\\n  padding: 0; }\\n\\n.style__line___1oKUJ span {\\n  margin-left: 7px; }\\n\\n.style__line___1oKUJ .style__time___1s1Iw {\\n  color: #808080; }\\n\\n.style__line___1oKUJ .style__level-silly___2jWbF {\\n  color: #6c6c6c; }\\n\\n.style__line___1oKUJ .style__level-debug___2H58e {\\n  color: #b59fff; }\\n\\n.style__line___1oKUJ .style__level-verbose___2Hyqt {\\n  color: #a4fffc; }\\n\\n.style__line___1oKUJ .style__level-info___aCcmU {\\n  color: #6cbdff; }\\n\\n.style__line___1oKUJ .style__level-warn___3LWOH {\\n  color: #fce465; }\\n\\n.style__line___1oKUJ .style__level-error___YQJqr {\\n  color: #fe5151; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"logs-panel\": \"style__logs-panel___RpJrJ\",\n\t\"logs-panel-footer\": \"style__logs-panel-footer___zGeB5\",\n\t\"panel\": \"style__panel___2yrFM\",\n\t\"panel-checkbox\": \"style__panel-checkbox___392gs\",\n\t\"events\": \"style__events___NOrnz\",\n\t\"line\": \"style__line___1oKUJ\",\n\t\"time\": \"style__time___1s1Iw\",\n\t\"level-silly\": \"style__level-silly___2jWbF\",\n\t\"level-debug\": \"style__level-debug___2H58e\",\n\t\"level-verbose\": \"style__level-verbose___2Hyqt\",\n\t\"level-info\": \"style__level-info___aCcmU\",\n\t\"level-warn\": \"style__level-warn___3LWOH\",\n\t\"level-error\": \"style__level-error___YQJqr\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport { Row, Col, Button, Checkbox, Panel, Glyphicon } from 'react-bootstrap'\nimport axios from 'axios'\nimport _ from 'lodash'\nimport classnames from 'classnames'\nimport moment from 'moment'\n\nimport PageHeader from '~/components/Layout/PageHeader'\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\n\nimport styles from './style.scss'\n\nclass LoggerView extends Component {\n  state = {\n    autoRefresh: true,\n    logs: null,\n    limit: 25,\n    hasMore: false\n  }\n\n  componentDidMount() {\n    if (!this.state.logs) {\n      this.getArchiveKey()\n      this.queryLogs()\n      this.refreshInterval = setInterval(this.queryLogs, 1000)\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.refreshInterval)\n    this.setState({ cancelLoading: true })\n  }\n\n  loadMore = () => {\n    this.setState({ limit: this.state.limit + 50, logs: null })\n  }\n\n  toggleAutoRefresh = () => {\n    if (this.state.autoRefresh) {\n      clearInterval(this.refreshInterval)\n    } else {\n      this.refreshInterval = setInterval(this.queryLogs, 1000)\n    }\n\n    this.setState({ autoRefresh: !this.state.autoRefresh })\n  }\n\n  renderLine(line, index) {\n    const time = moment(new Date(line.timestamp)).format('MMM DD HH:mm:ss')\n    const message = line.message.replace(/\\[\\d\\d?m/gi, '')\n\n    return (\n      <li key={`log_event_${index}`} className={styles.line}>\n        <span className={styles.time}>{time}</span>\n        <span className={styles['level-' + line.level]}>{line.level + ': '}</span>\n        <span className={styles.message}>{message}</span>\n      </li>\n    )\n  }\n\n  renderLoading() {\n    return <div style={{ marginTop: '20px' }} className=\"whirl traditional\" />\n  }\n\n  getArchiveKey() {\n    axios.get('/api/logs/key').then(({ data }) => this.setState({ archiveUrl: 'api/logs/archive/' + data.secret }))\n  }\n\n  queryLogs = () => {\n    axios\n      .get('/api/logs', {\n        params: {\n          limit: this.state.limit\n        }\n      })\n      .then(result => {\n        if (this.state.cancelLoading) {\n          return\n        }\n        this.setState({\n          logs: result.data,\n          hasMore: result.data && result.data.length >= this.state.limit\n        })\n      })\n  }\n\n  renderLines() {\n    if (!_.isArray(this.state.logs)) {\n      return this.renderLoading()\n    }\n\n    return this.state.logs.filter(x => _.isString(x.message)).map(this.renderLine)\n  }\n\n  downloadArchive = () => {\n    axios({\n      url: this.state.archiveUrl,\n      method: 'GET',\n      responseType: 'blob'\n    }).then(response => {\n      const url = window.URL.createObjectURL(new Blob([response.data]))\n      const link = document.createElement('a')\n      link.href = url\n      link.setAttribute('download', 'logs.txt')\n      document.body.appendChild(link)\n      link.click()\n    })\n  }\n\n  render() {\n    const logs = this.renderLines()\n    const logsPanelClassName = classnames('panel', 'panel-default', styles['logs-panel'])\n    const canLoadMore = this.state.limit < 500 && this.state.hasMore\n\n    return (\n      <ContentWrapper>\n        <PageHeader>\n          <span> Logs</span>\n        </PageHeader>\n        <Panel className={styles.panel}>\n          <Panel.Body>\n            <form className=\"pull-left\">\n              <Checkbox\n                className={styles['panel-checkbox']}\n                checked={this.state.autoRefresh}\n                inline\n                onChange={this.toggleAutoRefresh}\n              >\n                Auto refresh\n              </Checkbox>\n            </form>\n            <div className=\"pull-right\">\n              <Button onClick={this.downloadArchive}>Export logs archive</Button>\n            </div>\n          </Panel.Body>\n        </Panel>\n        <div className={logsPanelClassName}>\n          <div className=\"panel-body\">\n            <ul className={styles.events}>{logs}</ul>\n          </div>\n          {canLoadMore && (\n            <div href=\"#\" className={styles['logs-panel-footer']} onClick={this.loadMore}>\n              Load more\n            </div>\n          )}\n        </div>\n      </ContentWrapper>\n    )\n  }\n}\n\nexport default LoggerView\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__markAsReadButton___1Bf6X {\\n  top: 22px;\\n  right: 12px; }\\n\\n.style__item___ScUPF {\\n  padding-top: 4px;\\n  width: 100%;\\n  border-left: 4px solid #e2e2e2; }\\n\\n.style__item-unread___18PE2.style__level-info___2F8NP {\\n  background-color: #f6f8ff;\\n  border-left: 4px solid #aeccee; }\\n\\n.style__item-unread___18PE2.style__level-error___2wEXv {\\n  background-color: #fff7f6;\\n  border-left: 4px solid #eeb2ae; }\\n\\n.style__item-unread___18PE2.style__level-success___3d5sa {\\n  background-color: #f6fff7;\\n  border-left: 4px solid #aeeeb6; }\\n\\n.style__topMenu___2mLNq {\\n  padding: 10px 12px;\\n  border-bottom: 1px solid #d1d1d1;\\n  color: #5f5f5f;\\n  font-size: 13px; }\\n\\n.style__dropdown___3XUgg {\\n  padding: 0; }\\n\\n.style__header___1ileE {\\n  font-size: 16px; }\\n\\n.style__message___3t56Z {\\n  margin-top: 7px;\\n  margin-bottom: 5px; }\\n\\n.style__bar-btn___3u9s7 {\\n  margin-left: 10px; }\\n\\n.style__mark-read-btn___2xGKa:hover {\\n  cursor: pointer; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"markAsReadButton\": \"style__markAsReadButton___1Bf6X\",\n\t\"item\": \"style__item___ScUPF\",\n\t\"item-unread\": \"style__item-unread___18PE2\",\n\t\"level-info\": \"style__level-info___2F8NP\",\n\t\"level-error\": \"style__level-error___2wEXv\",\n\t\"level-success\": \"style__level-success___3d5sa\",\n\t\"topMenu\": \"style__topMenu___2mLNq\",\n\t\"dropdown\": \"style__dropdown___3XUgg\",\n\t\"header\": \"style__header___1ileE\",\n\t\"message\": \"style__message___3t56Z\",\n\t\"bar-btn\": \"style__bar-btn___3u9s7\",\n\t\"mark-read-btn\": \"style__mark-read-btn___2xGKa\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import { connect } from 'react-redux'\nimport { ListGroup, ListGroupItem, Panel, Button, Tooltip, OverlayTrigger } from 'react-bootstrap'\nimport _ from 'lodash'\n\nimport NotificationComponent from '~/components/Notifications'\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\n\nimport styles from './style.scss'\n\n// TODO: extending components is discouraged,\n// should be reworked with composition eventually\nclass NotificationHub extends NotificationComponent {\n  constructor(props, context) {\n    super(props, context, {\n      itemComponent: ListGroupItem,\n      renderDivider: false,\n      styles: styles\n    })\n  }\n\n  renderMessage(message) {\n    return <p className={styles.message}>{message}</p>\n  }\n\n  render() {\n    const notifications = this.props.notifications || []\n    const unreadCount = _.filter(notifications, { read: false }).length\n    const canTrash = notifications.length > 0\n\n    const trashTip = <Tooltip id=\"ttip\">Delete all</Tooltip>\n    const readTip = <Tooltip id=\"ttip\">Mark all as read</Tooltip>\n\n    return (\n      <ContentWrapper>\n        <PageHeader>\n          <span> Notifications</span>\n        </PageHeader>\n        <Panel>\n          <Panel.Body>\n            <div className=\"pull-right\">\n              <OverlayTrigger placement=\"left\" overlay={readTip}>\n                <Button disabled={unreadCount === 0} onClick={this.markAllAsRead}>\n                  <em className=\"glyphicon glyphicon-eye-open\" />\n                </Button>\n              </OverlayTrigger>\n              <OverlayTrigger placement=\"left\" overlay={trashTip}>\n                <Button className={styles['bar-btn']} disabled={!canTrash} onClick={this.trashAll}>\n                  <em className=\"glyphicon glyphicon-trash\" />\n                </Button>\n              </OverlayTrigger>\n            </div>\n          </Panel.Body>\n        </Panel>\n        <ListGroup\n          style={{\n            padding: 0\n          }}\n        >\n          {this.renderMenuItems(notifications)}\n        </ListGroup>\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ notifications: state.notifications })\n\nexport default connect(mapStateToProps)(NotificationHub)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport _ from 'lodash'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\n\nimport InjectedModuleView from '~/components/PluginInjectionSite/module'\n\nclass ModuleView extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return JSON.stringify(nextProps) !== JSON.stringify(this.props)\n  }\n\n  renderLink(module) {\n    if (!module || !module.homepage) {\n      return null\n    }\n    return (\n      <small>\n        {' '}\n        &middot;{' '}\n        <a target=\"_blank\" href={module.homepage}>\n          docs\n        </a>\n      </small>\n    )\n  }\n\n  renderNotFound(err) {\n    return (\n      <div className=\"panel panel-warning\">\n        <div className=\"panel-heading\">Module not found</div>\n        <div className=\"panel-body\">\n          <h4>The module is not properly registered</h4>\n          <p>\n            It seems like you are trying to load a module that has not been registered. Please make sure the module is\n            registered then restart the bot.\n          </p>\n          {err && <p>{err}</p>}\n          <p>\n            {/* TODO update doc & help */}\n            <a role=\"button\" className=\"btn btn-primary btn-lg\">\n              Learn more\n            </a>\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const modules = this.props.modules\n    if (!modules) {\n      return null\n    }\n\n    const { moduleName, subView } = this.props.match.params\n    const module = _.find(modules, { name: moduleName })\n\n    const contents = module ? (\n      <InjectedModuleView moduleName={moduleName} viewName={subView} onNotFound={this.renderNotFound} />\n    ) : (\n      this.renderNotFound()\n    )\n\n    const header = module ? (\n      <span>\n        {module && module.menuText} {this.renderLink(module)}\n      </span>\n    ) : (\n      `Module ${moduleName} Not Found`\n    )\n\n    const stretch = _.get(module, 'moduleView.stretched')\n\n    return (\n      <ContentWrapper stretch={stretch}>\n        <PageHeader>{header}</PageHeader>\n        {contents}\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  modules: state.modules\n})\n\nexport default connect(mapStateToProps)(ModuleView)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__workspace___2YnVU {\\n  width: 100%;\\n  min-height: 500px;\\n  height: calc(100vh - 93px); }\\n\\n.style__workspace___2YnVU .Resizer.vertical {\\n  background: black;\\n  width: 8px;\\n  cursor: col-resize;\\n  border-left: 5px solid rgba(255, 255, 255, 0) !important;\\n  border-right: 5px solid rgba(255, 255, 255, 0) !important;\\n  opacity: 0.1;\\n  z-index: 1000;\\n  margin: 0 -5px; }\\n  .style__workspace___2YnVU .Resizer.vertical:hover {\\n    opacity: 0.2; }\\n\\n.style__workspace___2YnVU #style__diagramContainer___32HA9 {\\n  outline: none !important; }\\n\\n.style__workspace___2YnVU .Resizer.horizontal {\\n  background: black;\\n  height: 8px;\\n  cursor: row-resize;\\n  border-top: 3px solid rgba(255, 255, 255, 0) !important;\\n  border-bottom: 3px solid rgba(255, 255, 255, 0) !important;\\n  opacity: 0.1;\\n  margin-top: -7px;\\n  padding-top: 5px; }\\n  .style__workspace___2YnVU .Resizer.horizontal:hover {\\n    opacity: 0.2; }\\n\\n.style__workspace___2YnVU a[role='tab'] {\\n  padding: 2px 5px;\\n  font-size: 11px;\\n  font-weight: 500;\\n  border-radius: 0; }\\n\\n.style__workspace___2YnVU .horizontal.Pane1 {\\n  border-bottom: 2px #cecece solid; }\\n\\n.style__workspace___2YnVU .SplitPane {\\n  height: calc(100vh - 93px) !important; }\\n\\n.style__diagram___Rvob2 {\\n  width: 100%;\\n  height: 100%; }\\n\\n.style__sidePanel___39BXV {\\n  width: 100%;\\n  height: calc(100vh - 93px);\\n  background: #fafafa;\\n  border-right: 2px solid #cecece;\\n  padding: 0;\\n  overflow-y: auto; }\\n\\n.style__diagram___Rvob2 .storm-diagrams-canvas {\\n  width: 100%;\\n  height: 100%;\\n  background: url(\\\"/img/grid.png\\\") repeat; }\\n\\n.style__wrapper___38OL6 {\\n  background-color: white; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"workspace\": \"style__workspace___2YnVU\",\n\t\"diagramContainer\": \"style__diagramContainer___32HA9\",\n\t\"diagram\": \"style__diagram___Rvob2\",\n\t\"sidePanel\": \"style__sidePanel___39BXV\",\n\t\"wrapper\": \"style__wrapper___38OL6\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component, Fragment } from 'react'\nimport classnames from 'classnames'\n\nimport { Tabs, Tab, Badge } from 'react-bootstrap'\n\nimport ActionSection from './ActionSection'\nimport TransitionSection from './TransitionSection'\n\nconst style = require('./style.scss')\n\nexport default class FlowPropertiesPanel extends Component {\n  render() {\n    const { readOnly } = this.props\n\n    const catchAll = Object.assign(\n      {\n        onReceive: [],\n        next: []\n      },\n      this.props.currentFlow && this.props.currentFlow.catchAll\n    )\n\n    return (\n      <div className={classnames(style.node)}>\n        <Tabs animation={false} id=\"node-props-modal-flow-tabs\">\n          <Tab\n            eventKey=\"on_receive\"\n            title={\n              <Fragment>\n                <Badge>{(catchAll.onReceive && catchAll.onReceive.length) || 0}</Badge> On Receive\n              </Fragment>\n            }\n          >\n            <ActionSection\n              readOnly={readOnly}\n              items={catchAll.onReceive}\n              header=\"On Receive\"\n              onItemsUpdated={items => this.props.updateFlow({ catchAll: { ...catchAll, onReceive: items } })}\n              copyItem={item => this.props.copyFlowNodeElement({ action: item })}\n              pasteItem={() => this.props.pasteFlowNodeElement('onReceive')}\n              canPaste={Boolean(this.props.buffer.action)}\n            />\n          </Tab>\n          <Tab\n            eventKey=\"transitions\"\n            title={\n              <Fragment>\n                <Badge>{(catchAll.next && catchAll.next.length) || 0}</Badge> Transitions\n              </Fragment>\n            }\n          >\n            <TransitionSection\n              readOnly={readOnly}\n              items={catchAll.next}\n              header=\"Transitions\"\n              currentFlow={this.props.currentFlow}\n              subflows={this.props.subflows}\n              onItemsUpdated={items => this.props.updateFlow({ catchAll: { ...catchAll, next: items } })}\n              copyItem={item => this.props.copyFlowNodeElement({ transition: item })}\n              pasteItem={() => this.props.pasteFlowNodeElement('next')}\n              canPaste={Boolean(this.props.buffer.transition)}\n            />\n          </Tab>\n        </Tabs>\n      </div>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\n\nimport { Panel, Tabs, Tab, Badge, Button } from 'react-bootstrap'\n\nimport PermissionsChecker from '~/components/Layout/PermissionsChecker'\nimport EditableInput from '../common/EditableInput'\nimport TransitionSection from './TransitionSection'\n\nconst style = require('./style.scss')\n\nexport default class SkillCallNodePropertiesPanel extends Component {\n  renameNode = text => {\n    if (text && text !== this.props.node.name) {\n      this.props.updateNode({ name: text })\n    }\n  }\n\n  transformText(text) {\n    return text.replace(/[^a-z0-9-_\\.]/gi, '_')\n  }\n\n  render() {\n    const { node, readOnly } = this.props\n\n    const onNameMounted = input => {\n      if (input.value.startsWith('node-')) {\n        input.focus()\n        input.setSelectionRange(0, 1000)\n      }\n    }\n\n    const editSkill = () => this.props.requestEditSkill(node.id)\n    const seeFlow = () => this.props.goToFlow(node.flow)\n\n    return (\n      <div className={style.node}>\n        <Panel>\n          <EditableInput\n            readOnly={readOnly}\n            onMount={onNameMounted}\n            value={node.name}\n            className={style.name}\n            onChanged={this.renameNode}\n            transform={this.transformText}\n          />\n          <div style={{ padding: '5px' }}>\n            <PermissionsChecker user={this.props.user} op=\"write\" res=\"bot.skills\">\n              <Button onClick={editSkill}>Edit skill</Button>\n            </PermissionsChecker>\n            <Button onClick={seeFlow}>See flow</Button>\n          </div>\n        </Panel>\n        <Tabs animation={false} id=\"node-props-modal-skill-node-tabs\">\n          <Tab\n            eventKey=\"transitions\"\n            title={\n              <Fragment>\n                <Badge>{(node.next && node.next.length) || 0}</Badge> Transitions\n              </Fragment>\n            }\n          >\n            <TransitionSection\n              readOnly={readOnly}\n              items={node.next}\n              header=\"Transitions\"\n              subflows={this.props.subflows}\n              onItemsUpdated={items => this.props.updateNode({ next: items })}\n            />\n          </Tab>\n        </Tabs>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Modal, Button, Radio, FormControl, Alert } from 'react-bootstrap'\nimport Select from 'react-select'\nimport _ from 'lodash'\n\nconst style = require('./style.scss')\n\nexport default class ConditionModalForm extends Component {\n  state = {\n    typeOfTransition: 'end',\n    flowToSubflow: null,\n    flowToNode: null,\n    transitionError: null,\n    conditionError: null\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { item } = nextProps\n\n    if (this.props.show || !nextProps.show) {\n      return\n    }\n\n    if (item && item.node) {\n      let typeOfTransition = item.node.indexOf('.') !== -1 ? 'subflow' : 'node'\n      typeOfTransition = item.node === 'END' ? 'end' : typeOfTransition\n      typeOfTransition = /^#/.test(item.node) ? 'return' : typeOfTransition\n\n      this.setState({\n        typeOfTransition,\n        condition: item.condition,\n        flowToSubflow: typeOfTransition === 'subflow' ? item.node : null,\n        flowToNode: typeOfTransition === 'node' ? item.node : null,\n        returnToNode: typeOfTransition === 'return' ? item.node.substr(1) : ''\n      })\n    } else {\n      this.resetForm({ condition: (item && item.condition) || '' })\n    }\n\n    this.setState({ isEdit: Boolean(item) })\n  }\n\n  changeTransitionType(type) {\n    const subflowOptions = this.getSubflowOptions()\n    const nodeOptions = this.getNodeOptions()\n    this.setState({\n      typeOfTransition: type,\n      flowToSubflow: this.state.flowToSubflow || _.get(subflowOptions, '[0].value'),\n      flowToNode: this.state.flowToNode || _.get(nodeOptions, '[0].value')\n    })\n  }\n\n  validation() {\n    if (this.state.typeOfTransition === 'subflow' && !this.state.flowToSubflow) {\n      this.setState({\n        transitionError: 'You must select a subflow to transition to'\n      })\n\n      return false\n    }\n\n    if (this.state.typeOfTransition === 'node' && !this.state.flowToNode && this.getNodeOptions().length > 0) {\n      this.setState({\n        transitionError: 'You must select a subflow to transition to'\n      })\n\n      return false\n    }\n\n    if (_.isEmpty(this.state.condition)) {\n      this.setState({\n        conditionError: 'Specify a condition'\n      })\n\n      return false\n    }\n\n    this.setState({\n      conditionError: null,\n      transitionError: null\n    })\n\n    return true\n  }\n\n  resetForm(props) {\n    this.setState({\n      typeOfTransition: 'node',\n      flowToSubflow: null,\n      flowToNode: null,\n      returnToNode: '',\n      conditionError: null,\n      transitionError: null,\n      condition: '',\n      ...props\n    })\n  }\n\n  onSubmitClick = () => {\n    if (!this.validation()) {\n      return\n    }\n    const payload = { condition: this.state.condition }\n\n    if (this.state.typeOfTransition === 'subflow') {\n      payload.node = _.get(this.state, 'flowToSubflow.value') || _.get(this.state, 'flowToSubflow')\n    } else if (this.state.typeOfTransition === 'end') {\n      payload.node = 'END'\n    } else if (this.state.typeOfTransition === 'node') {\n      let earlierNode = this.state.isEdit && _.get(this.props, 'item.node')\n\n      if (\n        earlierNode &&\n        (/^END$/i.test(earlierNode) || earlierNode.startsWith('#') || /\\.flow\\.json/i.test(earlierNode))\n      ) {\n        earlierNode = null\n      }\n\n      payload.node = _.get(this.state, 'flowToNode.value') || earlierNode || ''\n    } else if (this.state.typeOfTransition === 'return') {\n      payload.node = '#' + this.state.returnToNode\n    } else {\n      payload.node = ''\n    }\n\n    this.props.onSubmit(payload)\n    this.resetForm()\n  }\n\n  getSubflowOptions() {\n    return this.props.subflows.map(flow => ({\n      label: flow,\n      value: flow\n    }))\n  }\n\n  renderSubflowChoice() {\n    return (\n      <Select\n        name=\"flowToSubflow\"\n        value={this.state.flowToSubflow}\n        options={this.getSubflowOptions()}\n        onChange={val => {\n          this.setState({ flowToSubflow: val && val.value })\n        }}\n      />\n    )\n  }\n\n  renderReturnToNode() {\n    const updateNode = value =>\n      this.setState({\n        returnToNode: value\n      })\n\n    return (\n      <div className={style.returnToNodeSection}>\n        <div>Return to node called:</div>\n        <input type=\"text\" value={this.state.returnToNode} onChange={e => updateNode(e.target.value)} />\n        <div>\n          <input\n            type=\"checkbox\"\n            id=\"rPreviousNode\"\n            checked={_.isEmpty(this.state.returnToNode)}\n            onChange={() => updateNode('')}\n          />\n          <label htmlFor=\"rPreviousNode\">Return to calling node</label>\n        </div>\n      </div>\n    )\n  }\n\n  getNodeOptions() {\n    const flow = this.props.currentFlow\n    return (flow && flow.nodes.map(({ name }) => ({ label: name, value: name }))) || []\n  }\n\n  renderNodesChoice() {\n    if (!this.props.currentFlow) {\n      return null\n    }\n\n    const nodeOptions = this.getNodeOptions()\n    return (\n      <Select\n        name=\"flowToNode\"\n        value={this.state.flowToNode}\n        options={nodeOptions}\n        onChange={flowToNode => this.setState({ flowToNode })}\n      />\n    )\n  }\n\n  onConditionChanged = event => {\n    this.setState({ condition: event.target.value })\n  }\n\n  render() {\n    return (\n      <Modal animation={false} show={this.props.show} onHide={this.props.onClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>{this.state.isEdit ? 'Edit' : 'New'} condition to transition</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h5>Condition:</h5>\n          <div className={style.section}>\n            {this.state.conditionError && <Alert bsStyle=\"danger\">{this.state.conditionError}</Alert>}\n            <Radio defaultChecked={true}>Raw Expression</Radio>\n            <FormControl\n              type=\"text\"\n              placeholder=\"Javascript expression\"\n              value={this.state.condition}\n              onChange={this.onConditionChanged}\n            />\n          </div>\n          <h5>When condition is met, do:</h5>\n          <div className={style.section}>\n            <Radio checked={this.state.typeOfTransition === 'end'} onChange={() => this.changeTransitionType('end')}>\n              End flow <span className={style.endBloc} />\n            </Radio>\n            <Radio\n              checked={this.state.typeOfTransition === 'return'}\n              onChange={() => this.changeTransitionType('return')}\n            >\n              Return to previous flow <span className={style.returnBloc} />\n            </Radio>\n            {this.state.typeOfTransition === 'return' && this.renderReturnToNode()}\n            <Radio checked={this.state.typeOfTransition === 'node'} onChange={() => this.changeTransitionType('node')}>\n              Transition to node <span className={style.nodeBloc} />\n            </Radio>\n            {this.state.typeOfTransition === 'node' && this.renderNodesChoice()}\n            <Radio\n              checked={this.state.typeOfTransition === 'subflow'}\n              onChange={() => this.changeTransitionType('subflow')}\n            >\n              Transition to subflow <span className={style.subflowBloc} />\n            </Radio>\n            {this.state.transitionError && <Alert bsStyle=\"danger\">{this.state.transitionError}</Alert>}\n            {this.state.typeOfTransition === 'subflow' && this.renderSubflowChoice()}\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.props.onClose}>Cancel</Button>\n          <Button onClick={this.onSubmitClick} bsStyle=\"primary\">\n            {this.state.isEdit ? 'Update' : 'Create'}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"h5 {\\n  font-weight: 500; }\\n\\n.style__section___3upAJ {\\n  padding: 5px 0 5px 20px;\\n  border-left: 3px solid #ddd; }\\n\\n.style__endBloc___3sG_O,\\n.style__nodeBloc___dQ4tK,\\n.style__subflowBloc___1_Bfl,\\n.style__returnBloc___25Y4o {\\n  display: inline-block;\\n  width: 20px;\\n  height: 15px;\\n  margin-top: 5px; }\\n\\n.style__returnBloc___25Y4o {\\n  background-color: darkcyan; }\\n\\n.style__endBloc___3sG_O {\\n  background-color: #e62eea; }\\n\\n.style__nodeBloc___dQ4tK {\\n  background-color: black; }\\n\\n.style__subflowBloc___1_Bfl {\\n  background-color: blue; }\\n\\n.style__tip___3zVXd {\\n  font-size: 90%;\\n  color: #777; }\\n\\n.style__returnToNodeSection___190hz input {\\n  padding: 5px; }\\n\\n.style__node___nSk8m {\\n  position: relative; }\\n  .style__node___nSk8m .panel-heading {\\n    text-transform: none;\\n    padding: 8px 5px 5px 5px; }\\n    .style__node___nSk8m .panel-heading .panel-title {\\n      font-weight: 600;\\n      font-size: 12px; }\\n  .style__node___nSk8m .tab-content {\\n    padding: 10px 0; }\\n\\n.style__node___nSk8m button + button {\\n  margin-left: 5px; }\\n\\n.style__item___1cABW {\\n  padding: 5px 0; }\\n  .style__item___1cABW .style__actions___gx30q {\\n    display: none; }\\n    .style__item___1cABW .style__actions___gx30q a {\\n      cursor: pointer;\\n      margin-right: 5px; }\\n  .style__item___1cABW:hover {\\n    background: #fefefe;\\n    border-left: 2px solid #999;\\n    padding-left: 10px; }\\n    .style__item___1cABW:hover .style__actions___gx30q {\\n      padding: 10px 0;\\n      display: block; }\\n\\n.style__item___1cABW + .style__item___1cABW {\\n  border-top: 1px solid #f9f9f9; }\\n\\n.style__node___nSk8m .style__name___2TMAK {\\n  color: #333;\\n  font-weight: 500;\\n  border-radius: 0px;\\n  background: none;\\n  width: 100% !important;\\n  border: 1px dashed #d0d0d0;\\n  padding: 5px 8px; }\\n  .style__node___nSk8m .style__name___2TMAK:hover {\\n    background: #f1f1f1; }\\n  .style__node___nSk8m .style__name___2TMAK:focus {\\n    background: #f5f5f5; }\\n\\n.style__actions___gx30q {\\n  margin-top: 10px;\\n  width: 100%; }\\n  .style__actions___gx30q button {\\n    border-radius: 3px; }\\n\\n.style__actionIcons___1iaPf {\\n  margin-top: 5px; }\\n\\n.style__bottomSection___LgoeA {\\n  text-align: center; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"section\": \"style__section___3upAJ\",\n\t\"endBloc\": \"style__endBloc___3sG_O\",\n\t\"nodeBloc\": \"style__nodeBloc___dQ4tK\",\n\t\"subflowBloc\": \"style__subflowBloc___1_Bfl\",\n\t\"returnBloc\": \"style__returnBloc___25Y4o\",\n\t\"tip\": \"style__tip___3zVXd\",\n\t\"returnToNodeSection\": \"style__returnToNodeSection___190hz\",\n\t\"node\": \"style__node___nSk8m\",\n\t\"item\": \"style__item___1cABW\",\n\t\"actions\": \"style__actions___gx30q\",\n\t\"name\": \"style__name___2TMAK\",\n\t\"actionIcons\": \"style__actionIcons___1iaPf\",\n\t\"bottomSection\": \"style__bottomSection___LgoeA\"\n};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".parameters__invalid___1ILIm input {\\n  border: 1px solid red; }\\n\\n.parameters__table___2erEm {\\n  margin-bottom: 0; }\\n  .parameters__table___2erEm td {\\n    padding: 0;\\n    position: relative; }\\n  .parameters__table___2erEm input {\\n    width: 100%; }\\n\\n.parameters__keyTip___FOVaX {\\n  position: absolute;\\n  right: 15px;\\n  font-size: 20px;\\n  top: 11px;\\n  color: green; }\\n\\n.parameters__mandatory___2vsuD input {\\n  font-weight: bold; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"invalid\": \"parameters__invalid___1ILIm\",\n\t\"table\": \"parameters__table___2erEm\",\n\t\"keyTip\": \"parameters__keyTip___FOVaX\",\n\t\"mandatory\": \"parameters__mandatory___2vsuD\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./parameters.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./parameters.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./parameters.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'\n\nimport { Table } from 'react-bootstrap'\nimport classnames from 'classnames'\nimport _ from 'lodash'\n\nconst style = require('./parameters.scss')\n\nexport default class ParametersTable extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { arguments: this.transformArguments(props.value) }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ arguments: this.transformArguments(nextProps.value) })\n  }\n\n  transformArguments(args) {\n    const valuesArray = [..._.map(args, (value, key) => ({ key, value })), { key: '', value: '' }]\n    return _.fromPairs(valuesArray.map((el, i) => [i, el]))\n  }\n\n  getValues() {\n    return this.state.arguments\n  }\n\n  onChanged() {\n    setImmediate(() => {\n      this.props.onChange && this.props.onChange(this.state.arguments)\n    })\n  }\n\n  render() {\n    const renderRow = id => {\n      const args = this.state.arguments\n\n      const regenerateEmptyRowIfNeeded = () => {\n        if (args[id].key === '' && args[id].value === '') {\n          args[new Date().getTime()] = { key: '', value: '' }\n        }\n      }\n\n      const deleteDuplicatedEmptyRows = () => {\n        let count = 0\n        for (const id in this.state.arguments) {\n          const v = this.state.arguments[id]\n          if (v.key === '' && v.value === '') {\n            count++\n          }\n          if (count > 1) {\n            const clone = { ...this.state.arguments }\n            delete clone[id]\n            return this.setState({\n              arguments: clone\n            })\n          }\n        }\n      }\n\n      const editKey = evt => {\n        if (evt.target.value !== '') {\n          regenerateEmptyRowIfNeeded()\n        } else {\n          if (this.state.arguments[id].value === '') {\n            setTimeout(deleteDuplicatedEmptyRows, 100)\n          }\n        }\n\n        this.setState({\n          arguments: { ...args, [id]: { key: evt.target.value, value: args[id].value } }\n        })\n\n        this.onChanged()\n      }\n\n      const editValue = evt => {\n        if (evt.target.value !== '') {\n          regenerateEmptyRowIfNeeded()\n        } else {\n          if (this.state.arguments[id].key === '') {\n            setTimeout(deleteDuplicatedEmptyRows, 100)\n          }\n        }\n\n        this.setState({\n          arguments: { ...args, [id]: { value: evt.target.value, key: args[id].key } }\n        })\n\n        this.onChanged()\n      }\n\n      const isKeyValid = args[id].key.length > 0 || !args[id].value.length\n\n      const paramName = args[id].key\n      const paramValue = args[id].value\n\n      const definition = _.find(this.props.definitions || [], { name: paramName }) || {\n        required: false,\n        description: 'No description',\n        default: '',\n        type: 'Unknown',\n        fake: true\n      }\n\n      const tooltip = (\n        <Tooltip id={`param-${paramName}`}>\n          <strong>({definition.type}) </strong> {definition.description}\n        </Tooltip>\n      )\n\n      const help = definition.fake ? null : (\n        <OverlayTrigger placement=\"bottom\" overlay={tooltip}>\n          <i className={'material-icons ' + style.keyTip}>help_outline</i>\n        </OverlayTrigger>\n      )\n\n      const keyClass = classnames({ [style.invalid]: !isKeyValid, [style.mandatory]: definition.required })\n\n      return (\n        <tr key={id}>\n          <td className={keyClass}>\n            {help}\n            <input type=\"text\" disabled={!!definition.required} value={paramName} onChange={editKey} />\n          </td>\n          <td>\n            <input type=\"text\" placeholder={definition.default} value={paramValue} onChange={editValue} />\n          </td>\n        </tr>\n      )\n    }\n\n    return (\n      <Table className={classnames(style.table, this.props.className)}>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>{_.orderBy(_.keys(this.state.arguments), x => x).map(renderRow)}</tbody>\n      </Table>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".actionDropdown__category___3ud9J {\\n  font-weight: bold;\\n  margin-right: 5px; }\\n\\n.actionDropdown__title___2u7qV {\\n  margin-right: 5px; }\\n\\n.actionDropdown__name___1VlWL {\\n  color: grey;\\n  font-size: 90%; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"category\": \"actionDropdown__category___3ud9J\",\n\t\"title\": \"actionDropdown__title___2u7qV\",\n\t\"name\": \"actionDropdown__name___1VlWL\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./actionDropdown.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./actionDropdown.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./actionDropdown.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport Select from 'react-select'\nimport Highlighter from 'react-highlight-words'\n\nconst style = require('./actionDropdown.scss')\n\nexport default class SelectActionDropdown extends Component {\n  renderOption = option => {\n    const highlight = txt => <Highlighter searchWords={[this._inputValue]} textToHighlight={txt} />\n\n    if (option.metadata) {\n      const category = option.metadata.category ? (\n        <span className={style.category}>{highlight(option.metadata.category)} </span>\n      ) : null\n      const title = option.metadata.title ? (\n        <span className={style.title}>{highlight(option.metadata.title)}</span>\n      ) : null\n\n      return (\n        <div>\n          <span>\n            {category}\n            {title}\n            <span className={style.name}>&gt; {highlight(option.label)}</span>\n          </span>\n        </div>\n      )\n    }\n\n    return highlight(option.label)\n  }\n\n  render() {\n    const options = this.props.options.map(x => ({\n      label: x.name,\n      value: x.name,\n      metadata: x.metadata\n    }))\n\n    return (\n      <Select\n        onInputChange={inputValue => (this._inputValue = inputValue)}\n        onChange={this.props.onChange}\n        options={options}\n        value={this.props.value}\n        optionRenderer={this.renderOption}\n      />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Modal, Button, Radio, OverlayTrigger, Tooltip } from 'react-bootstrap'\nimport Markdown from 'react-markdown'\nimport axios from 'axios'\nimport _ from 'lodash'\n\nimport SelectActionDropdown from './SelectActionDropdown'\nimport ParametersTable from './ParametersTable'\nimport ContentPickerWidget from '~/components/Content/Select/Widget'\n\nconst style = require('./style.scss')\n\nexport default class ActionModalForm extends Component {\n  state = {\n    actionType: 'message',\n    avActions: [],\n    actionMetadata: {},\n    functionInputValue: '',\n    messageValue: '',\n    functionParams: {}\n  }\n\n  textToItemId = text => _.get(text.match(/^say #!(.*)$/), '[1]')\n\n  componentWillReceiveProps(nextProps) {\n    const { item } = nextProps\n\n    if (this.props.show || !nextProps.show) {\n      return\n    }\n\n    if (item) {\n      this.setState({\n        actionType: nextProps.item.type,\n        functionInputValue: nextProps.item.functionName,\n        messageValue: nextProps.item.message,\n        functionParams: nextProps.item.parameters\n      })\n    } else {\n      this.resetForm()\n    }\n    this.setState({ isEdit: Boolean(item) })\n  }\n\n  componentDidMount() {\n    this.fetchAvailableFunctions()\n  }\n\n  fetchAvailableFunctions() {\n    return axios.get('/api/flows/available_actions').then(({ data }) => {\n      this.setState({ avActions: data })\n    })\n  }\n\n  onChangeType = type => () => {\n    this.setState({ actionType: type })\n  }\n\n  resetForm() {\n    this.setState({\n      actionType: 'message',\n      functionInputValue: '',\n      messageValue: ''\n    })\n  }\n\n  renderSectionAction() {\n    const { avActions } = this.state\n\n    const tooltip = (\n      <Tooltip id=\"notSeeingAction\">\n        Actions are registered on the server-side. Read about how to register new actions by searching for\n        `bp.registerActions()`.\n      </Tooltip>\n    )\n\n    const tooltip2 = (\n      <Tooltip id=\"whatIsThis\">\n        You can change how the Action is executed by providing it parameters. Some parameters are required, some are\n        optional.\n      </Tooltip>\n    )\n\n    const help = (\n      <OverlayTrigger placement=\"bottom\" overlay={tooltip}>\n        <span className={style.tip}>Can&apos;t see your action?</span>\n      </OverlayTrigger>\n    )\n\n    const paramsHelp = (\n      <OverlayTrigger placement=\"bottom\" overlay={tooltip2}>\n        <span className={style.tip}>What is this?</span>\n      </OverlayTrigger>\n    )\n\n    const onParamsChange = params => {\n      params = _.values(params).reduce((sum, n) => {\n        if (n.key === '') {\n          return sum\n        }\n        return { ...sum, [n.key]: n.value }\n      }, {})\n      this.setState({ functionParams: params })\n    }\n\n    // const args = JSON.stringify(this.state.functionParams, null, 4)\n\n    return (\n      <div>\n        <h5>Action to run {help}</h5>\n        <div className={style.section}>\n          <SelectActionDropdown\n            value={this.state.functionInputValue}\n            options={avActions}\n            onChange={val => {\n              const fn = avActions.find(fn => fn.name === (val && val.value))\n              const paramsDefinition = _.get(fn, 'metadata.params') || []\n              this.setState({\n                functionInputValue: val && val.value,\n                paramsDef: paramsDefinition,\n                actionMetadata: fn.metadata || {}\n              })\n\n              // TODO Detect if default or custom arguments\n              if (\n                Object.keys(this.state.functionParams).length > 0 &&\n                !confirm('Do you want to overwrite existing parameters?')\n              ) {\n                return\n              }\n\n              this.setState({\n                functionParams: _.fromPairs(paramsDefinition.map(param => [param.name, param.default || '']))\n              })\n            }}\n          />\n          {this.state.actionMetadata.title && <h4>{this.state.actionMetadata.title}</h4>}\n          {this.state.actionMetadata.description && <Markdown source={this.state.actionMetadata.description} />}\n        </div>\n        <h5>Action parameters {paramsHelp}</h5>\n        <div className={style.section}>\n          <ParametersTable\n            ref={el => (this.parametersTable = el)}\n            onChange={onParamsChange}\n            value={this.state.functionParams}\n            definitions={this.state.paramsDef}\n          />\n        </div>\n      </div>\n    )\n  }\n\n  renderSectionMessage() {\n    const handleChange = item => {\n      this.setState({ messageValue: `say #!${item.id}` })\n    }\n\n    const tooltip = (\n      <Tooltip id=\"howMessageWorks\">\n        You can type a regular message here or you can also provide a valid UMM bloc, for example &quot;#help&quot;.\n      </Tooltip>\n    )\n\n    const help = (\n      <OverlayTrigger placement=\"bottom\" overlay={tooltip}>\n        <i className=\"material-icons\">help</i>\n      </OverlayTrigger>\n    )\n\n    const { item } = this.props\n    const itemId = (item && item.message && this.textToItemId(item.message)) || null\n\n    return (\n      <div>\n        <h5>Message {help}:</h5>\n        <div className={style.section}>\n          <ContentPickerWidget itemId={itemId} onChange={handleChange} placeholder=\"Message to send\" />\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const props = this.props\n    const noop = () => {}\n\n    const onClose = props.onClose || noop\n    const onSubmit = () => {\n      const handler = props.onSubmit || noop\n      this.resetForm()\n      handler({\n        type: this.state.actionType,\n        functionName: this.state.functionInputValue,\n        message: this.state.messageValue,\n        parameters: this.state.functionParams\n      })\n    }\n\n    return (\n      <Modal animation={false} show={props.show} onHide={onClose} container={document.getElementById('app')}>\n        <Modal.Header closeButton>\n          <Modal.Title>{this.state.isEdit ? 'Edit' : 'Add new'} action</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h5>The bot will:</h5>\n          <div className={style.section}>\n            <Radio checked={this.state.actionType === 'message'} onChange={this.onChangeType('message')}>\n               Say something\n            </Radio>\n            <Radio checked={this.state.actionType === 'code'} onChange={this.onChangeType('code')}>\n               Execute code\n            </Radio>\n          </div>\n\n          {this.state.actionType === 'message' ? this.renderSectionMessage() : this.renderSectionAction()}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={onClose}>Cancel</Button>\n          <Button onClick={onSubmit} bsStyle=\"primary\">\n            {this.state.isEdit ? 'Update' : 'Add'} Action (Alt+Enter)\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\n\nimport { Tabs, Tab, Badge, Panel } from 'react-bootstrap'\n\nimport EditableInput from '../common/EditableInput'\n\nimport ActionSection from './ActionSection'\nimport TransitionSection from './TransitionSection'\n\nconst style = require('./style.scss')\n\nexport default class StandardNodePropertiesPanel extends Component {\n  renameNode = text => {\n    if (text && text !== this.props.node.name) {\n      this.props.updateNode({ name: text })\n    }\n  }\n\n  transformText(text) {\n    return text.replace(/[^a-z0-9-_\\.]/gi, '_')\n  }\n\n  render() {\n    const { node, readOnly } = this.props\n\n    const onNameMounted = input => {\n      if (input.value.startsWith('node-')) {\n        input.focus()\n        input.setSelectionRange(0, 1000)\n      }\n    }\n\n    return (\n      <div className={style.node}>\n        <Panel>\n          <EditableInput\n            readOnly={readOnly}\n            onMount={onNameMounted}\n            value={node.name}\n            className={style.name}\n            onChanged={this.renameNode}\n            transform={this.transformText}\n          />\n        </Panel>\n        <Tabs animation={false} id=\"node-props-modal-standard-node-tabs\">\n          <Tab\n            eventKey=\"on_enter\"\n            title={\n              <Fragment>\n                <Badge>{(node.onEnter && node.onEnter.length) || 0}</Badge> On Enter\n              </Fragment>\n            }\n          >\n            <ActionSection\n              readOnly={readOnly}\n              items={node.onEnter}\n              header=\"On Enter\"\n              onItemsUpdated={items => this.props.updateNode({ onEnter: items })}\n              copyItem={item => this.props.copyFlowNodeElement({ action: item })}\n              pasteItem={() => this.props.pasteFlowNodeElement('onEnter')}\n              canPaste={Boolean(this.props.buffer.action)}\n            />\n          </Tab>\n          <Tab\n            eventKey=\"on_receive\"\n            title={\n              <Fragment>\n                <Badge>{(node.onReceive && node.onReceive.length) || 0}</Badge> On Receive\n              </Fragment>\n            }\n          >\n            <ActionSection\n              readOnly={readOnly}\n              items={node.onReceive}\n              header=\"On Receive\"\n              waitable={true}\n              onItemsUpdated={items => this.props.updateNode({ onReceive: items })}\n              copyItem={item => this.props.copyFlowNodeElement({ action: item })}\n              pasteItem={() => this.props.pasteFlowNodeElement('onReceive')}\n              canPaste={Boolean(this.props.buffer.action)}\n            />\n          </Tab>\n          <Tab\n            eventKey=\"transitions\"\n            title={\n              <Fragment>\n                <Badge>{(node.next && node.next.length) || 0}</Badge> Transitions\n              </Fragment>\n            }\n          >\n            <TransitionSection\n              readOnly={readOnly}\n              items={node.next}\n              header=\"Transitions\"\n              subflows={this.props.subflows}\n              onItemsUpdated={items => this.props.updateNode({ next: items })}\n              copyItem={item => this.props.copyFlowNodeElement({ transition: item })}\n              pasteItem={() => this.props.pasteFlowNodeElement('next')}\n              canPaste={Boolean(this.props.buffer.transition)}\n            />\n          </Tab>\n        </Tabs>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport _ from 'lodash'\n\nimport { Modal } from 'react-bootstrap'\n\nimport StandardNode from './StandardNode'\nimport SkillCallNode from './SkillCallNode'\nimport FlowInformation from './FlowInformation'\n\nexport default class NodePropsModal extends Component {\n  render() {\n    const node = this.props.currentFlowNode\n    return (\n      <Modal\n        animation={false}\n        show={this.props.show}\n        onHide={this.props.closeFlowNodeProps}\n        container={document.getElementById('app')}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>{node ? 'Node Properties' : 'Flow Properties'}</Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body>{this.renderNodeProperties()}</Modal.Body>\n      </Modal>\n    )\n  }\n\n  goToFlow = flow => this.props.history.push(`/flows/${flow.replace(/\\.flow\\.json/, '')}`)\n\n  renderNodeProperties() {\n    const { readOnly } = this.props\n    const subflows = _.filter(_.map(this.props.flows, f => f.name), f => f !== _.get(this.props, 'currentFlow.name'))\n    const flowType = _.get(this.props, 'currentFlowNode.type') || (this.props.currentFlowNode ? 'standard' : null)\n\n    const updateNodeAndRefresh = (...args) => {\n      this.props.updateFlowNode(...args)\n      this.props.refreshFlowsLinks()\n    }\n\n    if (flowType === 'skill-call') {\n      return (\n        <SkillCallNode\n          readOnly={readOnly}\n          user={this.props.user}\n          flow={this.props.currentFlow}\n          subflows={subflows}\n          node={this.props.currentFlowNode}\n          updateNode={updateNodeAndRefresh}\n          updateFlow={this.props.updateFlow}\n          requestEditSkill={this.props.requestEditSkill}\n          goToFlow={this.goToFlow}\n          copyFlowNodeElement={this.props.copyFlowNodeElement}\n          pasteFlowNodeElement={this.props.pasteFlowNodeElement}\n          buffer={this.props.buffer}\n        />\n      )\n    }\n\n    if (flowType === 'standard') {\n      return (\n        <StandardNode\n          readOnly={readOnly}\n          flow={this.props.currentFlow}\n          subflows={subflows}\n          node={this.props.currentFlowNode}\n          updateNode={updateNodeAndRefresh}\n          updateFlow={this.props.updateFlow}\n          copyFlowNodeElement={this.props.copyFlowNodeElement}\n          pasteFlowNodeElement={this.props.pasteFlowNodeElement}\n          buffer={this.props.buffer}\n        />\n      )\n    }\n\n    return <FlowInformation {...this.props} subflows={subflows} />\n  }\n}\n","import { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\n\nimport values from 'lodash/values'\n\nimport { getCurrentFlow, getCurrentFlowNode } from '~/reducers'\nimport {\n  updateFlow,\n  requestEditSkill,\n  copyFlowNodeElement,\n  pasteFlowNodeElement,\n  closeFlowNodeProps,\n  updateFlowNode,\n  refreshFlowsLinks\n} from '~/actions'\n\nimport NodeProps from '../nodeProps'\n\nconst mapStateToProps = state => ({\n  flows: values(state.flows.flowsByName),\n  currentFlow: getCurrentFlow(state),\n  currentFlowNode: getCurrentFlowNode(state),\n  buffer: state.flows.buffer,\n  user: state.user\n})\n\nconst mapDispatchToProps = {\n  updateFlow,\n  requestEditSkill,\n  copyFlowNodeElement,\n  pasteFlowNodeElement,\n  closeFlowNodeProps,\n  updateFlowNode,\n  refreshFlowsLinks\n}\n\nconst ConnectedNodeProps = connect(mapStateToProps, mapDispatchToProps)(withRouter(NodeProps))\nexport default ConnectedNodeProps\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__loadingContainer___2xNMs {\\n  text-align: center;\\n  vertical-align: middle;\\n  padding: 40px; }\\n  .style__loadingContainer___2xNMs > div {\\n    margin-top: 20px;\\n    display: inline-block; }\\n\\n.style__size-normal___36AEV {\\n  width: 50%; }\\n\\n.style__size-large___2RuvD {\\n  width: 80%; }\\n\\n.style__size-small___3q78L {\\n  width: 30%; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"loadingContainer\": \"style__loadingContainer___2xNMs\",\n\t\"size-normal\": \"style__size-normal___36AEV\",\n\t\"size-large\": \"style__size-large___2RuvD\",\n\t\"size-small\": \"style__size-small___3q78L\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { Modal, Button } from 'react-bootstrap'\nimport axios from 'axios'\nimport find from 'lodash/find'\nimport includes from 'lodash/includes'\nimport Loader from 'react-loaders'\n\nconst style = require('./style.scss')\n\nconst VALID_WINDOW_SIZES = ['normal', 'large', 'small']\n\nimport InjectedModuleView from '~/components/PluginInjectionSite/module'\n\nclass WrappedInjectedModule extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return nextProps.moduleProps !== this.props.moduleProps || nextProps.moduleName !== this.props.moduleName\n  }\n\n  render() {\n    return <InjectedModuleView {...this.props} />\n  }\n}\n\nexport default class SkillsBuilder extends React.Component {\n  resetState = () => ({\n    moduleProps: {},\n    canSubmit: false,\n    loading: false,\n    windowSize: 'normal'\n  })\n\n  state = this.resetState()\n\n  componentDidMount() {\n    this.setState({ initialData: this.props.data })\n  }\n\n  componentDidMount() {\n    this.setState({\n      ...this.resetState(),\n      moduleProps: this.buildModuleProps(this.props.data)\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.skillId !== this.props.skillId || nextProps.opened !== this.props.opened) {\n      this.setState({\n        ...this.resetState(),\n        moduleProps: this.buildModuleProps(nextProps.data)\n      })\n    }\n  }\n\n  renderModuleNotFound = () => {\n    return <div>Could not load skill&apos;s view</div>\n  }\n\n  onDataChanged = data => {\n    this.data = data\n  }\n\n  onSubmit = () => {\n    this.setState({\n      loading: true,\n      canSubmit: false\n    })\n\n    return this.generateFlow().then(generated => {\n      if (this.props.action === 'edit') {\n        this.props.updateSkill({\n          skillId: this.props.skillId,\n          data: this.data,\n          generatedFlow: generated.flow,\n          transitions: generated.transitions,\n          editFlowName: this.props.editFlowName,\n          editNodeId: this.props.editNodeId\n        })\n      } else {\n        this.props.insertNewSkill({\n          skillId: this.props.skillId,\n          data: this.data,\n          generatedFlow: generated.flow,\n          transitions: generated.transitions\n        })\n      }\n    })\n  }\n\n  onCancel = () => {\n    this.props.cancelNewSkill()\n  }\n\n  onValidChanged = valid => {\n    this.setState({ canSubmit: valid })\n  }\n\n  renderLoading = () => {\n    if (!this.state.loading) {\n      return null\n    }\n\n    return (\n      <div className={style.loadingContainer}>\n        <h2>Generating your skill flow...</h2>\n        <Loader type=\"ball-pulse\" color=\"#26A65B\" style={{ margin: '4px' }} />\n      </div>\n    )\n  }\n\n  onWindowResized = size => {\n    if (!includes(VALID_WINDOW_SIZES, size)) {\n      const sizes = VALID_WINDOW_SIZES.join(', ')\n      return console.log(`ERROR  Skill \"${size}\" is an invalid size for Skill window. Valid sizes are ${sizes}.`)\n    }\n\n    this.setState({\n      windowSize: size\n    })\n  }\n\n  buildModuleProps = data => ({\n    initialData: data,\n    onDataChanged: this.onDataChanged,\n    onValidChanged: this.onValidChanged,\n    resizeBuilderWindow: this.onWindowResized\n  })\n\n  generateFlow = () => {\n    return axios.post(`/api/skills/${this.props.skillId}/generate`, this.data).then(({ data }) => data)\n  }\n\n  render() {\n    const skill = find(this.props.installedSkills, { id: this.props.skillId })\n    const modalClassName = style['size-' + this.state.windowSize]\n    const submitName = this.props.action === 'new' ? 'Insert' : 'Save'\n\n    return (\n      <Modal\n        dialogClassName={modalClassName}\n        animation={false}\n        show={this.props.opened}\n        onHide={this.onCancel}\n        backdrop=\"static\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Insert a new skill | {skill && skill.name}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {this.renderLoading()}\n          {!this.state.loading && (\n            <WrappedInjectedModule\n              moduleName={skill && skill.id}\n              onNotFound={this.renderModuleNotFound}\n              extraProps={this.state.moduleProps}\n            />\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.onCancel}>Cancel</Button>\n          <Button onClick={this.onSubmit} disabled={!this.state.canSubmit} bsStyle=\"primary\">\n            {submitName}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n","import { connect } from 'react-redux'\n\nimport { cancelNewSkill, insertNewSkill, updateSkill } from '~/actions'\nimport SkillsBuilder from '../skills'\n\nconst mapStateToProps = state => ({\n  installedSkills: state.skills.installed,\n  ...state.skills.builder\n})\n\nconst mapDispatchToProps = {\n  cancelNewSkill,\n  insertNewSkill,\n  updateSkill\n}\n\nconst ConnectedSkillsBuilder = connect(mapStateToProps, mapDispatchToProps)(SkillsBuilder)\n\nexport default ConnectedSkillsBuilder\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".topbar__rename___30Mxy {\\n  font-size: 90%; }\\n\\n.topbar__title___3HLto {\\n  color: black;\\n  border-left: 3px solid #55c1b2;\\n  padding-left: 10px;\\n  margin-left: -10px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"rename\": \"topbar__rename___30Mxy\",\n\t\"title\": \"topbar__title___3HLto\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./topbar.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./topbar.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./topbar.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport _ from 'lodash'\n\nconst style = require('./topbar.scss')\n\nexport default class Topbar extends React.Component {\n  promptRenameFlow = () => {\n    const name = window.prompt('Please enter the new name for that flow', this.getCurrentFlowName())\n\n    if (!name) {\n      return\n    }\n\n    if (/[^A-Z0-9-_\\/]/i.test(name)) {\n      return alert('ERROR: The flow name can only contain letters, numbers, underscores and hyphens.')\n    }\n\n    const flows = _.map(this.props.flows, f => this.cleanFlowName(f.name).toLowerCase())\n\n    if (name !== this.getCurrentFlowName() && _.includes(flows, name.toLowerCase())) {\n      alert(`ERROR: There's an other flow called \"${name}\". Flow names must be unique.`)\n    } else {\n      this.props.renameFlow(name + '.flow.json')\n    }\n  }\n\n  getCurrentFlowName() {\n    const name = _.get(this.props, 'currentFlow.name') || ''\n    return this.cleanFlowName(name)\n  }\n\n  cleanFlowName(name) {\n    return name.replace(/\\.flow\\.json$/i, '')\n  }\n\n  render() {\n    const name = this.getCurrentFlowName()\n    const { readOnly } = this.props\n    return (\n      <div className={style.title}>\n        <span>Flow Editor </span>\n        <span className={style.name}>&nbsp;{name}</span>\n        {name &&\n          !readOnly && (\n            <span>\n              &nbsp;\n              <a onClick={this.promptRenameFlow} href=\"javascript:void(0);\" className={style.rename}>\n                (rename)\n              </a>\n            </span>\n          )}\n      </div>\n    )\n  }\n}\n","import { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport _ from 'lodash'\n\nimport { renameFlow } from '~/actions'\nimport { getCurrentFlow } from '~/reducers'\n\nimport Topbar from '../topbar.jsx'\n\nconst mapStateToProps = state => ({\n  flows: _.values(state.flows.flowsByName),\n  currentFlow: getCurrentFlow(state)\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ renameFlow }, dispatch)\n\nconst ConnectedTopbar = connect(mapStateToProps, mapDispatchToProps)(Topbar)\n\nexport default ConnectedTopbar\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__panel___UlHjz {\\n  background: #fafafa;\\n  overflow-y: auto;\\n  margin: 0 5px 0 0;\\n  width: 100%;\\n  height: 100%; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"panel\": \"style__panel___UlHjz\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import find from 'lodash/find'\n\nconst addNode = (tree, folders, flowDesc, data) => {\n  for (const folderDesc of folders) {\n    let folder = find(tree.children, folderDesc)\n    if (!folder) {\n      folder = { ...folderDesc, parent: tree, children: [] }\n      tree.children.push(folder)\n    }\n    tree = folder\n  }\n  tree.children.push({ ...flowDesc, parent: tree, ...data })\n}\n\nconst compareNodes = (a, b) => {\n  if (a.type === b.type) {\n    return a.name < b.name ? -1 : 1\n  }\n  if (a.type === 'folder') {\n    return -1\n  } else {\n    return 1\n  }\n}\n\nconst sortChildren = tree => {\n  if (!tree.children) {\n    return\n  }\n  tree.children.sort(compareNodes)\n  tree.children.forEach(sortChildren)\n}\n\nexport const getUniqueId = node => `${node.type}:${node.fullPath}`\n\nexport const splitFlowPath = flow => {\n  const flowPath = flow.replace(/\\.flow\\.json$/, '').split('/')\n  const flowName = flowPath[flowPath.length - 1]\n  const flowFolders = flowPath.slice(0, flowPath.length - 1)\n  const folders = []\n  const currentPath = []\n  for (const folder of flowFolders) {\n    currentPath.push(folder)\n    folders.push({ type: 'folder', name: folder, fullPath: currentPath.join('/') })\n  }\n  currentPath.push(flowName)\n  return {\n    folders,\n    flow: { type: 'file', name: flowName, fullPath: currentPath.join('/') }\n  }\n}\n\nexport const buildFlowsTree = flows => {\n  const tree = { type: 'root', fullPath: '', name: '<root>', children: [] }\n  flows.forEach(flowData => {\n    const { folders, flow } = splitFlowPath(flowData.name)\n    addNode(tree, folders, flow, {\n      data: flowData\n    })\n  })\n\n  sortChildren(tree)\n\n  return tree.children\n}\n","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__menuButton___2ZZ-R {\\n  position: absolute;\\n  right: 10px;\\n  top: 4px; }\\n  .style__menuButton___2ZZ-R .arrow {\\n    display: none; }\\n  .style__menuButton___2ZZ-R button {\\n    border: none; }\\n\\n.style__menu___pb_Bt {\\n  list-style: none;\\n  padding: 0;\\n  margin: 0; }\\n  .style__menu___pb_Bt li {\\n    padding: 5px 10px;\\n    cursor: pointer; }\\n    .style__menu___pb_Bt li:hover {\\n      color: #262626;\\n      background-color: #f5f5f5; }\\n\\n.popover.style__popover___2tkHS .arrow {\\n  display: none; }\\n\\n.popover-content.style__popover___2tkHS {\\n  padding: 10px 0; }\\n\\n.style__toggle___3VpWr {\\n  display: inline-block;\\n  font-size: 20px;\\n  height: 24px;\\n  line-height: 24px;\\n  transition: transform 300ms; }\\n\\n.style__toggleActive___2k43e {\\n  transform: rotateZ(90deg); }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"menuButton\": \"style__menuButton___2ZZ-R\",\n\t\"menu\": \"style__menu___pb_Bt\",\n\t\"popover\": \"style__popover___2tkHS\",\n\t\"toggle\": \"style__toggle___3VpWr\",\n\t\"toggleActive\": \"style__toggleActive___2k43e\"\n};","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport style from './PageHeader.scss'\nimport classnames from 'classnames'\n\nclass PageHeader extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  render() {\n    const hasHeader = this.props.viewMode <= 2\n    const hasSidebar = this.props.viewMode < 1\n\n    if (!hasHeader) {\n      return null\n    }\n\n    const classNames = classnames({\n      [style.header]: true,\n      'bp-page-header': true,\n      [style.noSidebar]: !hasSidebar,\n      'bp-page-header-no-sidebar': !hasSidebar\n    })\n\n    return <div className={classNames}>{this.props.children}</div>\n  }\n}\n\nconst mapStateToProps = state => ({ viewMode: state.ui.viewMode })\n\nexport default connect(mapStateToProps)(PageHeader)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport classnames from 'classnames'\nimport style from './ContentWrapper.scss'\n\nclass ContentWrapper extends React.Component {\n  state = {\n    show: false\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({\n        show: true\n      })\n    }, 50)\n  }\n\n  render() {\n    const { unwrap, viewMode, stretch: _stretch, children } = this.props\n\n    const childElement = unwrap ? <div className=\"unwrap\">{children}</div> : children\n\n    const hasPadding = viewMode < 2\n    const stretch = _stretch === true\n\n    const classNames = classnames({\n      [style.contentWrapper]: true,\n      'bp-content-wrapper': true,\n      [style.contentWrapperPadding]: !stretch && hasPadding,\n      'bp-content-wrapper-padding': !stretch && hasPadding,\n      [style.show]: this.state.show,\n      'bp-content-wrapper-show': this.state.show,\n      [this.props.className]: true\n    })\n\n    return <div className={classNames}>{childElement}</div>\n  }\n}\n\nconst mapStateToProps = state => ({ viewMode: state.ui.viewMode })\n\nexport default connect(mapStateToProps)(ContentWrapper)\n","import { combineReducers } from 'redux'\n\nimport content from './content'\nimport flows from './flows'\nimport license from './license'\nimport ui from './ui'\nimport user from './user'\nimport bot from './bot'\nimport modules from './modules'\nimport skills from './skills'\nimport notifications from './notifications'\nexport * from './selectors'\n\nconst bpApp = combineReducers({ content, flows, license, ui, user, bot, modules, notifications, skills })\nexport default bpApp\n","import EventEmitter2 from 'eventemitter2'\nimport axios from 'axios'\nimport nanoid from 'nanoid'\n\nconst storageKey = 'bp/token'\nexport const authEvents = new EventEmitter2()\n\nexport const getToken = () => {\n  const tokenStr = localStorage.getItem(storageKey)\n\n  if (tokenStr) {\n    return JSON.parse(tokenStr)\n  }\n\n  return false\n}\n\nexport const setToken = token => {\n  localStorage.setItem(\n    storageKey,\n    JSON.stringify({\n      token,\n      time: new Date()\n    })\n  )\n\n  axios.defaults.headers.common['Authorization'] = `Bearer ${token}`\n  authEvents.emit('new_token')\n}\n\nexport const logout = () => {\n  localStorage.removeItem(storageKey)\n  authEvents.emit('logout')\n}\n\nexport const login = (user, password) => {\n  return axios.post('/api/login', { user, password }).then(result => {\n    if (result.data.success) {\n      setToken(result.data.token)\n      authEvents.emit('login')\n    } else {\n      throw new Error(result.data.reason)\n    }\n  })\n}\n\nexport const getUniqueVisitorId = () => {\n  let userId = localStorage.getItem('bp/socket/user')\n\n  if (!userId) {\n    userId = nanoid()\n    localStorage.setItem('bp/socket/user', userId)\n  }\n\n  window.__BP_VISITOR_ID = userId\n  return userId\n}\n","import React, { Fragment } from 'react'\nimport classnames from 'classnames'\nimport { Treebeard, theme as defaultTheme, decorators as defaultDecorators } from 'react-treebeard'\n\nimport merge from 'lodash/merge'\n\nimport style from './style.scss'\n\nconst theme = merge({}, defaultTheme, {\n  tree: {\n    base: {\n      color: 'black',\n      backgroundColor: 'transparent',\n      height: '100%'\n    },\n    node: {\n      activeLink: {\n        background: 'transparent',\n        fontWeight: 'bold'\n      },\n      header: {\n        base: {\n          color: 'black'\n        }\n      }\n    }\n  }\n})\n\nclass MyContainer extends defaultDecorators.Container {\n  renderToggle() {\n    // skip rendering it using react-velocity\n    // instead we render it ourselves with proper use of the\n    // node toggled state\n    return null\n  }\n}\n\nconst getDecorators = ({ dirtyFlows, renderMenu }) => ({\n  ...defaultDecorators,\n  Container: MyContainer,\n  Toggle: () => null,\n  Header(props) {\n    if (props.node.type === 'folder') {\n      return (\n        <Fragment>\n          <i\n            className={classnames('material-icons', style.toggle, {\n              [style.toggleActive]: props.node.toggled\n            })}\n          >\n            chevron_right\n          </i>\n          <i className=\"material-icons\">{props.node.toggled ? 'folder_open' : 'folder'}</i>\n          &nbsp;\n          <defaultDecorators.Header {...props} />\n        </Fragment>\n      )\n    }\n\n    const { name } = props.node.data\n    if (dirtyFlows.includes(name)) {\n      props = {\n        ...props,\n        node: {\n          ...props.node,\n          name: `${props.node.name} *`\n        }\n      }\n    }\n\n    return (\n      <Fragment>\n        <i className=\"material-icons\">description</i>\n        &nbsp;\n        <defaultDecorators.Header {...props} />\n        {renderMenu && renderMenu(props.node)}\n      </Fragment>\n    )\n  }\n})\n\nconst Tree = props => {\n  const { dirtyFlows, renderMenu, ...treeProps } = props\n  const decorators = getDecorators({ dirtyFlows, renderMenu })\n  return <Treebeard style={theme} decorators={decorators} {...treeProps} />\n}\n\nexport default Tree\n","import React, { Component, Fragment } from 'react'\nimport ReactDOM from 'react-dom'\nimport classnames from 'classnames'\n\nimport { Popover, Button, Overlay } from 'react-bootstrap'\n\nimport { get, includes } from 'lodash'\n\nimport Tree from './tree'\nimport { buildFlowsTree, getUniqueId, splitFlowPath } from './util'\n\nconst style = require('./style.scss')\n\nconst setNodeStates = (nodes, toggledNodes, activeNode) => {\n  if (!nodes) {\n    return\n  }\n  nodes.forEach(node => {\n    const id = getUniqueId(node)\n    if (toggledNodes[id]) {\n      node.toggled = true\n    } else if (id === activeNode) {\n      node.active = true\n    }\n    setNodeStates(node.children, toggledNodes, activeNode)\n  })\n}\n\nconst getInitialState = currentFlow => {\n  if (!currentFlow) {\n    return {\n      toggledNodes: {},\n      activeNode: null\n    }\n  }\n\n  const { folders, flow } = splitFlowPath(currentFlow.name)\n  return {\n    toggledNodes: folders.reduce((acc, folder) => {\n      acc[getUniqueId(folder)] = true\n      return acc\n    }, {}),\n    activeNode: getUniqueId(flow)\n  }\n}\n\nexport default class FlowsList extends Component {\n  menuButtons = {}\n\n  renderMenu = node => {\n    if (this.props.readOnly) {\n      return null\n    }\n\n    const flow = node.data\n    const index = node.fullPath.replace(/\\//g, '__')\n\n    const hideOverlay = () => {\n      this.setState({\n        showDropdownIndex: -1\n      })\n    }\n\n    const handleAction = fn => event => {\n      event.stopPropagation()\n      hideOverlay()\n      setTimeout(fn, 250)\n    }\n\n    const handleDelete = handleAction(() => {\n      if (confirm(`Are you sure you want to delete the flow ${flow.name}?`) === true) {\n        this.props.deleteFlow(flow.name)\n      }\n    })\n\n    const handleDuplicate = handleAction(() => {\n      let name = prompt('Enter the name of the new flow')\n\n      if (!name) {\n        return\n      }\n\n      name = name.replace(/\\.flow\\.json$/i, '')\n\n      if (/[^A-Z0-9-_\\/]/i.test(name)) {\n        return alert('ERROR: The flow name can only contain letters, numbers, underscores and hyphens.')\n      }\n\n      if (includes(this.props.flows.map(f => f.name), name + '.flow.json')) {\n        return alert(`ERROR: The flow ${name} already exists`)\n      }\n\n      this.props.duplicateFlow({ flowNameToDuplicate: flow.name, name: `${name}.flow.json` })\n    })\n\n    const dropdown = (\n      <Popover id={`flow-${index}-dropdown`} bsClass={classnames(style.popover, 'popover')}>\n        <ul className={style.menu}>\n          {flow.name !== 'main.flow.json' && <li onClick={handleDelete}>Delete</li>}\n          <li onClick={handleDuplicate}>Duplicate</li>\n        </ul>\n      </Popover>\n    )\n\n    const overlayShown = this.state.showDropdownIndex === index\n\n    const showOverlay = event => {\n      event.stopPropagation()\n      this.setState({\n        showDropdownIndex: index\n      })\n    }\n\n    const refId = 'menu-btn-' + index\n\n    const caret = (\n      <Button bsSize=\"xsmall\" ref={node => (this.menuButtons[refId] = node)} onClick={showOverlay}>\n        <span className=\"caret\" />\n      </Button>\n    )\n\n    const overlay = (\n      <Overlay\n        onHide={hideOverlay}\n        show={overlayShown}\n        animation={false}\n        trigger=\"click\"\n        rootClose\n        placement=\"bottom\"\n        target={() => ReactDOM.findDOMNode(this.menuButtons[refId])}\n      >\n        {dropdown}\n      </Overlay>\n    )\n\n    return (\n      <Fragment>\n        <div className={style.menuButton}>{caret}</div>\n        {overlay}\n      </Fragment>\n    )\n  }\n\n  buildTreeData() {\n    const { flows } = this.props\n    const nodes = buildFlowsTree(flows)\n    if (this.state) {\n      setNodeStates(nodes, this.state.toggledNodes, this.state.activeNode)\n    }\n    return nodes\n  }\n\n  toggleTreeNode = node => {\n    const toggledNodes = { ...this.state.toggledNodes }\n    let activeNode = this.state.activeNode\n\n    if (node.type === 'folder') {\n      const id = getUniqueId(node)\n      toggledNodes[id] = !toggledNodes[id]\n    } else if (node.type === 'file') {\n      // set the node itself as active\n      activeNode = getUniqueId(node)\n      // make all of its parents expanded\n      let parent = node.parent\n      while (parent) {\n        toggledNodes[getUniqueId(parent)] = true\n        parent = parent.parent\n      }\n      // change the route and render the corresponding diagram\n      this.props.goToFlow(node.data.name)\n    }\n\n    this.setState({ toggledNodes, activeNode })\n  }\n\n  render() {\n    const { dirtyFlows, currentFlow } = this.props\n    if (!this.state && currentFlow) {\n      // TODO: find a better place for this initialization\n      // maybe componentDidMount / componentDidUpdate\n      // eslint-disable-next-line react/no-direct-mutation-state\n      this.state = getInitialState(currentFlow)\n    }\n    const treeData = this.buildTreeData()\n    return (\n      <Tree\n        data={treeData}\n        dirtyFlows={dirtyFlows}\n        renderMenu={this.props.readOnly ? null : this.renderMenu}\n        onToggle={this.toggleTreeNode}\n      />\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport reject from 'lodash/reject'\n\nimport FlowsList from './flows'\n\nconst style = require('./style.scss')\n\nexport default class SidePanel extends Component {\n  goToFlow = flow => this.props.history.push(`/flows/${flow.replace(/\\.flow\\.json/, '')}`)\n\n  render() {\n    const normalFlows = reject(this.props.flows, x => x.name.startsWith('skills/'))\n\n    return (\n      <div className={style.panel}>\n        <FlowsList\n          readOnly={this.props.readOnly}\n          flows={normalFlows}\n          dirtyFlows={this.props.dirtyFlows}\n          goToFlow={this.goToFlow}\n          deleteFlow={this.props.deleteFlow}\n          duplicateFlow={this.props.duplicateFlow}\n          currentFlow={this.props.currentFlow}\n        />\n      </div>\n    )\n  }\n}\n","import { connect } from 'react-redux'\nimport values from 'lodash/values'\nimport { withRouter } from 'react-router-dom'\n\nimport { getCurrentFlow, getDirtyFlows } from '~/reducers'\nimport { deleteFlow, duplicateFlow } from '~/actions'\n\nimport SidePanel from '../sidePanel'\n\nconst mapStateToProps = (state, ownProps) => ({\n  currentFlow: getCurrentFlow(state),\n  flows: values(state.flows.flowsByName),\n  dirtyFlows: getDirtyFlows(state)\n})\n\nconst mapDispatchToProps = {\n  deleteFlow,\n  duplicateFlow\n}\n\nconst ConnectedSidePanel = connect(mapStateToProps, mapDispatchToProps)(withRouter(SidePanel))\nexport default ConnectedSidePanel\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__insertNode___3lYv7 {\\n  cursor: crosshair; }\\n  .style__insertNode___3lYv7 .storm-diagrams-canvas {\\n    cursor: inherit; }\\n\\n.style__insertMode___1t5i3 {\\n  position: absolute;\\n  top: 10px;\\n  left: 10px;\\n  opacity: 0.8;\\n  z-index: 100; }\\n  .style__insertMode___1t5i3 button {\\n    margin-top: 10px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"insertNode\": \"style__insertNode___3lYv7\",\n\t\"insertMode\": \"style__insertMode___1t5i3\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport { DefaultLinkWidget, LinkFactory, PointModel } from 'storm-react-diagrams'\n\nclass DeletableLinkWidget extends DefaultLinkWidget {\n  addPointToLink = (event, index) => {\n    if (\n      event.type === 'contextmenu' &&\n      !this.props.diagramEngine.isModelLocked(this.props.link) &&\n      this.props.link.points.length - 1 <= this.props.diagramEngine.getMaxNumberPointsPerLink()\n    ) {\n      event.preventDefault()\n      const point = new PointModel(this.props.link, this.props.diagramEngine.getRelativeMousePoint(event))\n      point.setSelected(true)\n      this.forceUpdate()\n      this.props.link.addPoint(point, index)\n      this.props.pointAdded(point, event)\n    }\n  }\n\n  generateLink(extraProps, id) {\n    const { link, width, color, diagramEngine } = this.props\n    const index = extraProps['data-point'] || 0\n\n    const Bottom = (\n      <path\n        className={this.state.selected || link.isSelected() ? 'selected' : ''}\n        strokeWidth={width}\n        stroke={color}\n        ref={path => path && this.refPaths && this.refPaths.push(path)}\n        {...extraProps}\n      />\n    )\n\n    const Top = (\n      <path\n        strokeLinecap=\"round\"\n        onMouseLeave={() => this.setState({ selected: false })}\n        onMouseEnter={() => this.setState({ selected: true })}\n        data-linkid={link.getID()}\n        stroke={color}\n        strokeOpacity={this.state.selected ? 0.1 : 0}\n        strokeWidth={20}\n        onContextMenu={event => this.addPointToLink(event, index + 1)}\n        {...extraProps}\n      />\n    )\n\n    return (\n      <g key={'link-' + id}>\n        {Bottom}\n        {Top}\n      </g>\n    )\n  }\n}\n\nexport class DeletableLinkFactory extends LinkFactory {\n  constructor() {\n    super('default')\n  }\n\n  generateReactWidget(diagramEngine, link) {\n    return React.createElement(DeletableLinkWidget, { link, diagramEngine })\n  }\n}\n","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport { NodeModel, NodeFactory } from 'storm-react-diagrams'\n\nimport ActionItem from '../../common/action'\nimport ConditionItem from '../../common/condition'\nimport { StandardOutgoingPortModel, StandardPortWidget, StandardIncomingPortModel } from './Ports'\n\nconst style = require('./style.scss')\n\nexport class SkillCallNodeWidget extends React.Component {\n  static defaultProps = {\n    size: 200,\n    node: null\n  }\n\n  state = {}\n\n  render() {\n    const node = this.props.node\n    const isWaiting = node.waitOnReceive\n\n    const className = classnames(style['skill-call-node'], style['node-container'])\n\n    return (\n      <div className={className}>\n        <div className={style.topPort}>\n          <StandardPortWidget name=\"in\" node={node} />\n        </div>\n        <div className={style.header} />\n        <div className={style.content}>\n          <div className={classnames(style['section-title'], style.section, { [style.waiting]: isWaiting })}>\n            <div>{node.skill}</div>\n            <div className={style['subtitle']}>Skill | {node.name}</div>\n          </div>\n          <div className={classnames(style['section-onReceive'], style.section)}>\n            {node.onReceive &&\n              node.onReceive.map((item, i) => {\n                return <ActionItem key={`${i}.${item}`} className={style.item} text={item} />\n              })}\n          </div>\n          <div className={classnames(style['section-next'], style.section)}>\n            {node.next &&\n              node.next.map((item, i) => {\n                const outputPortName = `out${i}`\n                return (\n                  <div key={`${i}.${item}`} className={classnames(style.item)}>\n                    <ConditionItem condition={item} position={i} />\n                    <StandardPortWidget name={outputPortName} node={node} />\n                  </div>\n                )\n              })}\n          </div>\n        </div>\n        <div className={style.footer}>\n          <div />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class SkillCallNodeModel extends NodeModel {\n  constructor({ id, x, y, name, skill, next = [], isStartNode = false }) {\n    super('skill-call', id)\n\n    this.setData({ name, next, isStartNode, skill })\n\n    if (x) {\n      this.x = x\n    }\n    if (y) {\n      this.y = y\n    }\n  }\n\n  serialize() {\n    return _.merge(super.serialize(), {\n      name: this.name,\n      next: this.next,\n      skill: this.skill\n    })\n  }\n\n  deSerialize(data) {\n    super.deSerialize(data)\n\n    this.setData({ name: data.name, skill: data.skill, next: data.next })\n  }\n\n  getOutPorts() {\n    return _.filter(_.values(this.ports), p => p.name.startsWith('out'))\n  }\n\n  setData({ name, next = [], isStartNode, skill }) {\n    this.isStartNode = isStartNode\n    const inNodeType = isStartNode ? 'start' : 'normal'\n\n    if (!this.ports['in']) {\n      this.addPort(new StandardIncomingPortModel('in', inNodeType))\n    }\n\n    // We create as many output port as needed\n    for (let i = 0; i < next.length; i++) {\n      if (!this.ports['out' + i]) {\n        this.addPort(new StandardOutgoingPortModel('out' + i))\n      }\n    }\n\n    if (!_.isArray(next) && _.isObjectLike(next)) {\n      next = [next]\n    }\n\n    this.skill = skill\n    this.next = next\n    this.name = name\n  }\n}\n\nexport const SkillCallNodeWidgetFactory = React.createFactory(SkillCallNodeWidget)\n\nexport class SkillCallWidgetFactory extends NodeFactory {\n  constructor() {\n    super('skill-call')\n  }\n\n  generateReactWidget(diagramEngine, node) {\n    return SkillCallNodeWidgetFactory({ node })\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__action-item___1c4aI.style__fn___1etza {\\n  color: blue; }\\n\\n.style__action-item___1c4aI.style__msg___12LvM {\\n  color: #1cbd57; }\\n\\n.style__action-item___1c4aI.style__condition___ZgOqu {\\n  color: black; }\\n\\n.style__action-item___1c4aI .style__icon___14ZH- {\\n  margin-right: 8px; }\\n\\n.style__action-item___1c4aI .style__name___10ZbV {\\n  line-height: 1.7; }\\n  .style__action-item___1c4aI .style__name___10ZbV span {\\n    padding: 2px 4px;\\n    border-radius: 2px; }\\n  .style__action-item___1c4aI .style__name___10ZbV .var {\\n    background-color: #e7f0ff;\\n    color: blue; }\\n  .style__action-item___1c4aI .style__name___10ZbV .val {\\n    background-color: #fff5ea;\\n    color: #ff7c40; }\\n\\n.style__editableInput___1xpyO {\\n  line-height: 22px;\\n  font-size: 18px;\\n  font-weight: 300;\\n  color: #000;\\n  width: 200px;\\n  border: 1px solid #fff;\\n  padding: 2px 5px;\\n  border-radius: 3px; }\\n  .style__editableInput___1xpyO.style__defaultValue___2bioK {\\n    font-style: italic;\\n    font-weight: 400;\\n    color: #999; }\\n  .style__editableInput___1xpyO:hover {\\n    border: 1px solid #eee; }\\n  .style__editableInput___1xpyO:focus {\\n    outline-color: transparent;\\n    outline-style: none;\\n    font-weight: 300;\\n    font-style: normal;\\n    border: 1px solid #2d74f3; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"action-item\": \"style__action-item___1c4aI\",\n\t\"fn\": \"style__fn___1etza\",\n\t\"msg\": \"style__msg___12LvM\",\n\t\"condition\": \"style__condition___ZgOqu\",\n\t\"icon\": \"style__icon___14ZH-\",\n\t\"name\": \"style__name___10ZbV\",\n\t\"editableInput\": \"style__editableInput___1xpyO\",\n\t\"defaultValue\": \"style__defaultValue___2bioK\"\n};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".storm-diagrams-canvas .node {\\n  opacity: 0.9; }\\n\\n.storm-diagrams-canvas .node.selected > .style__node-container___1G9Y- {\\n  border-color: #028aee !important; }\\n\\n.style__node-container___1G9Y- {\\n  width: 200px;\\n  background: white;\\n  border: 1px solid black; }\\n\\n.style__item___J7KXD {\\n  word-wrap: break-word;\\n  text-overflow: ellipsis;\\n  max-height: 78px;\\n  overflow-y: scroll;\\n  border-bottom: 1px solid black;\\n  font-size: 11px; }\\n\\n.style__section-next___Wd7Qi .style__item___J7KXD {\\n  overflow: unset; }\\n\\n.style__item___J7KXD:last-child {\\n  border-bottom: none; }\\n\\n.style__section-title___EDlLm {\\n  font-size: 12px;\\n  font-weight: 600;\\n  padding: 3px 8px;\\n  color: #fff;\\n  background: #000; }\\n  .style__section-title___EDlLm.style__waiting___mUgPB {\\n    background: #f6bd4f;\\n    color: #000; }\\n  .style__section-title___EDlLm .style__subtitle___zJtee {\\n    font-size: 80%; }\\n\\n.style__skill-call-node___2Wx8B .style__section-title___EDlLm {\\n  background: #5353fb; }\\n\\n.style__section-onEnter___1l-QR .style__item___J7KXD,\\n.style__section-onReceive___2ndmf .style__item___J7KXD,\\n.style__section-next___Wd7Qi .style__item___J7KXD {\\n  padding: 3px 8px; }\\n  .style__section-onEnter___1l-QR .style__item___J7KXD.style__fn___1eRJS,\\n  .style__section-onReceive___2ndmf .style__item___J7KXD.style__fn___1eRJS,\\n  .style__section-next___Wd7Qi .style__item___J7KXD.style__fn___1eRJS {\\n    color: blue;\\n    font-style: italic; }\\n  .style__section-onEnter___1l-QR .style__item___J7KXD.style__msg___29N4k,\\n  .style__section-onReceive___2ndmf .style__item___J7KXD.style__msg___29N4k,\\n  .style__section-next___Wd7Qi .style__item___J7KXD.style__msg___29N4k {\\n    color: #00a653; }\\n\\n.style__section-next___Wd7Qi {\\n  border-top: 1px solid black; }\\n\\n.style__section-next___Wd7Qi .style__item___J7KXD {\\n  position: relative;\\n  background: #ececec; }\\n\\n.style__section-next___Wd7Qi .style__item___J7KXD .port {\\n  background: rgba(0, 0, 0, 0.2); }\\n  .style__section-next___Wd7Qi .style__item___J7KXD .port.selected {\\n    background: rgba(0, 0, 0, 0.5); }\\n\\n.style__topPort___2rXL8 {\\n  width: 100%;\\n  margin-top: -15px; }\\n  .style__topPort___2rXL8 .port {\\n    margin: 0 auto;\\n    border: none;\\n    background: rgba(0, 0, 0, 0.2); }\\n    .style__topPort___2rXL8 .port.selected {\\n      background: rgba(0, 0, 0, 0.5); }\\n\\n.style__startPort___2GM6G .port {\\n  background-color: lime !important;\\n  border-top-left-radius: 20px;\\n  border-top-right-radius: 20px; }\\n\\n.style__endPort___1YTtE .port {\\n  background-color: #e62eea !important;\\n  border-top-right-radius: 20px;\\n  border-bottom-right-radius: 20px; }\\n\\n.style__missingConnection___3OXMS .port {\\n  background-color: red !important; }\\n\\n.style__subflowPort___24I4f .port {\\n  background-color: blue !important;\\n  border-top-right-radius: 20px;\\n  border-bottom-right-radius: 20px; }\\n\\n.style__returnPort___3BKBK .port {\\n  background-color: darkcyan !important;\\n  border-top-right-radius: 20px;\\n  border-bottom-right-radius: 20px; }\\n\\n.style__section-next___Wd7Qi .style__portContainer___2BTnl {\\n  position: absolute;\\n  right: -20px;\\n  top: 3px;\\n  width: 20px; }\\n\\n.style__section-next___Wd7Qi .style__portContainer___2BTnl.style__portLabel___3bzyb {\\n  width: 150px;\\n  right: -150px; }\\n\\n.style__portContainer___2BTnl.style__startPort___2GM6G {\\n  height: 15px; }\\n\\n.style__portLabel___3bzyb .style__label___2KNlR {\\n  position: relative;\\n  padding: 5px;\\n  right: -20px;\\n  display: inline;\\n  border-radius: 3px;\\n  top: -16px;\\n  background: rgba(0, 0, 0, 0.08); }\\n\\n.style__subflowPort___24I4f .style__label___2KNlR {\\n  color: blue; }\\n\\n.style__returnPort___3BKBK .style__label___2KNlR {\\n  color: darkcyan; }\\n\\n.style__endPort___1YTtE .style__label___2KNlR {\\n  color: #e62eea; }\\n\\n.style__startPort___2GM6G .style__label___2KNlR {\\n  color: green;\\n  font-size: 11px;\\n  right: -83px;\\n  top: -40px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"node-container\": \"style__node-container___1G9Y-\",\n\t\"item\": \"style__item___J7KXD\",\n\t\"section-next\": \"style__section-next___Wd7Qi\",\n\t\"section-title\": \"style__section-title___EDlLm\",\n\t\"waiting\": \"style__waiting___mUgPB\",\n\t\"subtitle\": \"style__subtitle___zJtee\",\n\t\"skill-call-node\": \"style__skill-call-node___2Wx8B\",\n\t\"section-onEnter\": \"style__section-onEnter___1l-QR\",\n\t\"section-onReceive\": \"style__section-onReceive___2ndmf\",\n\t\"fn\": \"style__fn___1eRJS\",\n\t\"msg\": \"style__msg___29N4k\",\n\t\"topPort\": \"style__topPort___2rXL8\",\n\t\"startPort\": \"style__startPort___2GM6G\",\n\t\"endPort\": \"style__endPort___1YTtE\",\n\t\"missingConnection\": \"style__missingConnection___3OXMS\",\n\t\"subflowPort\": \"style__subflowPort___24I4f\",\n\t\"returnPort\": \"style__returnPort___3BKBK\",\n\t\"portContainer\": \"style__portContainer___2BTnl\",\n\t\"portLabel\": \"style__portLabel___3bzyb\",\n\t\"label\": \"style__label___2KNlR\"\n};","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport { NodeModel, NodeFactory } from 'storm-react-diagrams'\n\nimport { StandardOutgoingPortModel, StandardPortWidget, StandardIncomingPortModel } from './Ports'\nimport ActionItem from '../../common/action'\nimport ConditionItem from '../../common/condition'\n\nconst style = require('./style.scss')\n\nexport class StandardNodeWidget extends Component {\n  static defaultProps = {\n    size: 200,\n    node: null\n  }\n\n  state = {}\n\n  render() {\n    const node = this.props.node\n    const isWaiting = node.waitOnReceive\n\n    const className = classnames(style['node-container'])\n\n    return (\n      <div className={className}>\n        <div className={style.topPort}>\n          <StandardPortWidget name=\"in\" node={node} />\n        </div>\n        <div className={style.header} />\n        <div className={style.content}>\n          <div className={classnames(style['section-onEnter'], style.section)}>\n            {node.onEnter &&\n              node.onEnter.map((item, i) => {\n                return <ActionItem key={`${i}.${item}`} className={style.item} text={item} />\n              })}\n          </div>\n          <div className={classnames(style['section-title'], style.section, { [style.waiting]: isWaiting })}>\n            {node.name}\n          </div>\n          <div className={classnames(style['section-onReceive'], style.section)}>\n            {node.onReceive &&\n              node.onReceive.map((item, i) => {\n                return <ActionItem key={`${i}.${item}`} className={style.item} text={item} />\n              })}\n          </div>\n          <div className={classnames(style['section-next'], style.section)}>\n            {node.next &&\n              node.next.map((item, i) => {\n                const outputPortName = `out${i}`\n                return (\n                  <div key={`${i}.${item}`} className={classnames(style.item)}>\n                    <ConditionItem condition={item} position={i} />\n                    <StandardPortWidget name={outputPortName} node={node} />\n                  </div>\n                )\n              })}\n          </div>\n        </div>\n        <div className={style.footer}>\n          <div />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class StandardNodeModel extends NodeModel {\n  constructor({ id, x, y, name, onEnter = [], onReceive = [], next = [], isStartNode = false }) {\n    super('standard', id)\n\n    this.setData({ name, onEnter, onReceive, next, isStartNode })\n\n    if (x) {\n      this.x = x\n    }\n    if (y) {\n      this.y = y\n    }\n  }\n\n  serialize() {\n    return _.merge(super.serialize(), {\n      name: this.name,\n      onEnter: this.onEnter,\n      onReceive: this.onReceive,\n      next: this.next\n    })\n  }\n\n  deSerialize(data) {\n    super.deSerialize(data)\n\n    this.setData({ name: data.name, onEnter: data.onEnter, onReceive: data.onReceive, next: data.next })\n  }\n\n  getOutPorts() {\n    return _.filter(_.values(this.ports), p => p.name.startsWith('out'))\n  }\n\n  setData({ name, onEnter = [], onReceive = [], next = [], isStartNode }) {\n    this.isStartNode = isStartNode\n    const inNodeType = isStartNode ? 'start' : 'normal'\n    const waitOnReceive = !_.isNil(onReceive)\n\n    if (!this.ports['in']) {\n      this.addPort(new StandardIncomingPortModel('in', inNodeType))\n    }\n\n    // We create as many output port as needed\n    for (let i = 0; i < next.length; i++) {\n      if (!this.ports['out' + i]) {\n        this.addPort(new StandardOutgoingPortModel('out' + i))\n      }\n    }\n\n    if (_.isString(onEnter)) {\n      onEnter = [onEnter]\n    }\n\n    if (_.isString(onReceive)) {\n      onReceive = [onReceive]\n    } else if (_.isNil(onReceive)) {\n      onReceive = []\n    }\n\n    onReceive = onReceive.map(x => x.function || x)\n\n    if (!_.isArray(next) && _.isObjectLike(next)) {\n      next = [next]\n    }\n\n    this.onEnter = onEnter\n    this.onReceive = onReceive\n    this.waitOnReceive = waitOnReceive\n    this.next = next\n    this.name = name\n  }\n}\n\nexport const StandardNodeWidgetFactory = React.createFactory(StandardNodeWidget)\n\nexport class StandardWidgetFactory extends NodeFactory {\n  constructor() {\n    super('standard')\n  }\n\n  generateReactWidget(diagramEngine, node) {\n    return StandardNodeWidgetFactory({ node })\n  }\n}\n","import React, { Component } from 'react'\nimport { Button, Label } from 'react-bootstrap'\n\nimport ReactDOM from 'react-dom'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport { DiagramWidget, DiagramEngine, DiagramModel, LinkModel, PointModel } from 'storm-react-diagrams'\nimport { toast } from 'react-toastify'\n\nimport { hashCode } from '~/util'\n\nimport { StandardNodeModel, StandardWidgetFactory } from './nodes/StandardNode'\nimport { SkillCallNodeModel, SkillCallWidgetFactory } from './nodes/SkillCallNode'\nimport { DeletableLinkFactory } from './nodes/LinkWidget'\n\nconst style = require('./style.scss')\n\nconst passThroughNodeProps = ['name', 'onEnter', 'onReceive', 'next', 'skill']\nconst PADDING = 100\n\nconst createNodeModel = (node, props) => {\n  if (node.type && node.type === 'skill-call') {\n    return new SkillCallNodeModel({ ...props })\n  } else {\n    return new StandardNodeModel({ ...props })\n  }\n}\n\nexport default class FlowBuilder extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n\n    this.diagramEngine = new DiagramEngine()\n\n    this.diagramEngine.registerNodeFactory(new StandardWidgetFactory())\n    this.diagramEngine.registerNodeFactory(new SkillCallWidgetFactory())\n    this.diagramEngine.registerLinkFactory(new DeletableLinkFactory())\n\n    this.setModel()\n  }\n\n  setTranslation(x = 0, y = 0) {\n    this.activeModel.setOffset(x, y)\n    this.diagramWidget.fireAction()\n    this.diagramWidget.forceUpdate()\n  }\n\n  createFlow(name) {\n    this.props.createFlow(name + '.flow.json')\n  }\n\n  setModel() {\n    this.activeModel = new DiagramModel()\n    this.activeModel.setGridSize(5)\n    this.activeModel.linksHash = null\n    this.activeModel.setLocked(this.props.readOnly)\n\n    const currentFlow = this.props.currentFlow\n    if (!currentFlow) {\n      return\n    }\n\n    const nodes = currentFlow.nodes.map(node => {\n      const model = createNodeModel(node, { ...node, isStartNode: currentFlow.startNode === node.name })\n      model.x = model.oldX = node.x\n      model.y = model.oldY = node.y\n\n      return model\n    })\n\n    nodes.forEach(node => this.activeModel.addNode(node))\n    nodes.forEach(node => this.createNodeLinks(node, nodes, this.props.currentFlow.links))\n\n    this.diagramEngine.setDiagramModel(this.activeModel)\n\n    const diagramContainer = document.getElementById('diagramContainer')\n\n    if (diagramContainer) {\n      const diagramWidth = diagramContainer.offsetWidth\n      const totalFlowWidth = _.max(nodes.map(({ x }) => x)) - _.min(nodes.map(({ x }) => x))\n      this.activeModel.setZoomLevel(Math.min(1, diagramWidth / (totalFlowWidth + 2 * PADDING)) * 100)\n      this.activeModel.setOffsetX(-_.min(nodes.map(({ x }) => x)) + PADDING)\n      this.activeModel.setOffsetY(-_.min(nodes.map(({ y }) => y)) + PADDING)\n\n      this.diagramWidget && this.diagramWidget.forceUpdate()\n    }\n  }\n\n  clearModel() {\n    this.activeModel = new DiagramModel()\n    this.activeModel.setGridSize(5)\n    this.activeModel.linksHash = null\n    this.activeModel.setLocked(this.props.readOnly)\n\n    this.diagramEngine.setDiagramModel(this.activeModel)\n    this.diagramWidget && this.diagramWidget.forceUpdate()\n  }\n\n  createNodeLinks(node, allNodes, existingLinks = []) {\n    if (!_.isArray(node.next)) {\n      return\n    }\n\n    node.next.forEach((next, index) => {\n      const target = next.node\n      if (/^END$/i.test(target)) {\n        // Handle end connection\n      } else if (/\\.flow/i.test(target)) {\n        // Handle subflow connection\n      } else {\n        const sourcePort = node.ports['out' + index]\n        const targetNode = _.find(allNodes, { name: next.node })\n\n        if (!targetNode) {\n          // TODO Show warning that target node doesn't exist\n          return\n        }\n\n        const existingLink = _.find(existingLinks, {\n          source: node.id,\n          target: targetNode.id,\n          sourcePort: sourcePort.name\n        })\n        const targetPort = targetNode.ports['in']\n        const link = new LinkModel()\n        link.setSourcePort(sourcePort)\n        link.setTargetPort(targetPort)\n\n        if (existingLink) {\n          link.setPoints(\n            existingLink.points.map(pt => {\n              return new PointModel(link, { x: pt.x, y: pt.y })\n            })\n          )\n        }\n\n        this.activeModel.addLink(link)\n      }\n    })\n  }\n\n  deleteNode(nodeId) {\n    const ports = this.activeModel.getNode(nodeId).getPorts()\n    this.activeModel.removeNode(nodeId)\n    _.values(ports).forEach(port => {\n      _.values(port.getLinks()).forEach(link => {\n        this.activeModel.removeLink(link)\n      })\n    })\n  }\n\n  syncModel() {\n    // Don't serialize more than once\n    const snapshot = _.once(this.serialize)\n\n    // Remove nodes that have been deleted\n    _.keys(this.activeModel.getNodes()).forEach(nodeId => {\n      if (!_.find(this.props.currentFlow.nodes, { id: nodeId })) {\n        this.deleteNode(nodeId)\n      }\n    })\n\n    this.props.currentFlow &&\n      this.props.currentFlow.nodes.forEach(node => {\n        const model = this.activeModel.getNode(node.id)\n\n        if (!model) {\n          // Node doesn't exist\n          this.addNode(node)\n        } else if (model.lastModified !== node.lastModified) {\n          // Node has been modified\n          this.syncNode(node, model, snapshot())\n        } else {\n          model.setData({\n            ..._.pick(node, passThroughNodeProps),\n            isStartNode: this.props.currentFlow.startNode === node.name\n          })\n        }\n      })\n\n    this.activeModel.setLocked(this.props.readOnly)\n    this.diagramWidget.forceUpdate()\n  }\n\n  addNode(node) {\n    const model = createNodeModel(node, { ...node, isStartNode: this.props.currentFlow.startNode === node.name })\n    model.x = model.oldX = node.x\n    model.y = model.oldY = node.y\n    this.activeModel.addNode(model)\n\n    setTimeout(() => {\n      // Select newly inserted nodes\n      model.setSelected(true)\n      this.props.switchFlowNode(node.id)\n    }, 150)\n\n    model.setData({\n      ..._.pick(node, passThroughNodeProps),\n      isStartNode: this.props.currentFlow.startNode === node.name\n    })\n\n    model.lastModified = node.lastModified\n  }\n\n  syncNode(node, model, snapshot) {\n    model.setData({\n      ..._.pick(node, passThroughNodeProps),\n      isStartNode: this.props.currentFlow.startNode === node.name\n    })\n\n    model.setPosition(node.x, node.y)\n\n    const ports = model.getOutPorts()\n    ports.forEach(port => {\n      _.values(port.links).forEach(link => {\n        this.activeModel.removeLink(link)\n        port.removeLink(link)\n      })\n    })\n\n    // Recreate all the links\n    // If there's an existing link saved for target,port .. reuse the point locations\n\n    const allNodes = _.values(this.activeModel.getNodes())\n    this.createNodeLinks(model, allNodes, snapshot.links)\n\n    model.lastModified = node.lastModified\n  }\n\n  getSelectedNode() {\n    return _.first(this.activeModel.getSelectedItems() || [], { selected: true })\n  }\n\n  componentDidMount() {\n    this.props.fetchFlows()\n    ReactDOM.findDOMNode(this.diagramWidget).addEventListener('click', this.onDiagramClick)\n    ReactDOM.findDOMNode(this.diagramWidget).addEventListener('dblclick', this.onDiagramDoubleClick)\n    document.getElementById('diagramContainer').addEventListener('keydown', this.onKeyDown)\n  }\n\n  componentWillUnmount() {\n    ReactDOM.findDOMNode(this.diagramWidget).removeEventListener('click', this.onDiagramClick)\n    ReactDOM.findDOMNode(this.diagramWidget).removeEventListener('dblclick', this.onDiagramDoubleClick)\n    document.getElementById('diagramContainer').removeEventListener('keydown', this.onKeyDown)\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!this.props.currentFlow) {\n      // Clear the active model\n      this.clearModel()\n    } else if (\n      !prevProps.currentFlow ||\n      _.get(prevProps, 'currentFlow.name') !== _.get(this, 'props.currentFlow.name')\n    ) {\n      // Update the diagram model only if we changed the current flow\n      this.setModel()\n    } else {\n      // Update the current model with the new properties\n      this.syncModel()\n    }\n  }\n\n  onDiagramDoubleClick = () => {\n    this.props.openFlowNodeProps()\n  }\n\n  onDiagramClick = event => {\n    const selectedNode = this.getSelectedNode()\n    const currentNode = this.props.currentFlowNode\n\n    // Sanitizing the links, making sure that:\n    // 1) All links are connected to ONE [out] and [in] port\n    // 2) All ports have only ONE outbound link\n    const links = _.values(this.activeModel.getLinks())\n    links.forEach(link => {\n      // If there's not two ports attached to the link\n      if (!link.sourcePort || !link.targetPort) {\n        link.remove()\n        return this.diagramWidget.forceUpdate()\n      }\n\n      // We need at least one input port\n      if (link.sourcePort.name !== 'in' && link.targetPort.name !== 'in') {\n        link.remove()\n        return this.diagramWidget.forceUpdate()\n      }\n\n      // We need at least one output port\n      if (!link.sourcePort.name.startsWith('out') && !link.targetPort.name.startsWith('out')) {\n        link.remove()\n        return this.diagramWidget.forceUpdate()\n      }\n\n      // If ports have more than one outbout link\n      const ports = [link.sourcePort, link.targetPort]\n      ports.forEach(port => {\n        if (!port) {\n          return\n        }\n        const portLinks = _.values(port.links)\n        if (port.name.startsWith('out') && portLinks.length > 1) {\n          _.last(portLinks).remove()\n          this.diagramWidget.forceUpdate()\n        }\n      })\n\n      // We don't want to link node to itself\n      const outPort = link.sourcePort.name.startsWith('out') ? link.sourcePort : link.targetPort\n      const targetPort = link.sourcePort.name.startsWith('out') ? link.targetPort : link.sourcePort\n      if (outPort.parentNode.id === targetPort.parentNode.id) {\n        link.remove()\n        return this.diagramWidget.forceUpdate()\n      }\n    })\n\n    if (this.props.currentDiagramAction && this.props.currentDiagramAction.startsWith('insert_')) {\n      let { x, y } = this.diagramEngine.getRelativePoint(event.clientX, event.clientY)\n\n      const zoomFactor = this.activeModel.getZoomLevel() / 100\n\n      x /= zoomFactor\n      y /= zoomFactor\n\n      x -= this.activeModel.getOffsetX() / zoomFactor\n      y -= this.activeModel.getOffsetY() / zoomFactor\n\n      if (this.props.currentDiagramAction === 'insert_skill') {\n        this.props.insertNewSkillNode({ x, y })\n      } else {\n        this.props.createFlowNode({ x, y })\n      }\n\n      this.props.setDiagramAction(null)\n    }\n\n    if (!selectedNode && currentNode) {\n      this.props.switchFlowNode(null) // No node selected\n    } else if (selectedNode && (!currentNode || selectedNode.id !== currentNode.id)) {\n      this.props.switchFlowNode(selectedNode.id) // Selected a new node\n    }\n\n    if (selectedNode && (selectedNode.oldX !== selectedNode.x || selectedNode.oldY !== selectedNode.y)) {\n      this.props.updateFlowNode({ x: selectedNode.x, y: selectedNode.y })\n      Object.assign(selectedNode, { oldX: selectedNode.x, oldY: selectedNode.y })\n    }\n\n    this.checkForLinksUpdate()\n  }\n\n  checkForLinksUpdate() {\n    const newLinks = this.serializeLinks()\n    const newLinksHash = hashCode(JSON.stringify(newLinks))\n\n    if (!this.activeModel.linksHash) {\n      this.activeModel.linksHash = newLinksHash\n    }\n\n    if (this.activeModel.linksHash !== newLinksHash) {\n      this.activeModel.linksHash = newLinksHash\n      this.props.updateFlow({ links: newLinks })\n    }\n  }\n\n  serialize = () => {\n    const model = this.activeModel.serializeDiagram()\n\n    const nodes = model.nodes.map(node => {\n      return {\n        ..._.pick(node, 'id', 'name', 'onEnter', 'onReceive'),\n        next: node.next.map((next, index) => {\n          const port = _.find(node.ports, { name: 'out' + index })\n\n          if (!port || !port.links || !port.links.length) {\n            return next\n          }\n\n          const link = _.find(model.links, { id: port.links[0] })\n          const otherNodeId = link && (link.source === node.id ? link.target : link.source)\n          const otherNode = _.find(model.nodes, { id: otherNodeId })\n\n          if (!otherNode) {\n            return next\n          }\n\n          return { condition: next.condition, node: otherNode.name }\n        }),\n        position: _.pick(node, 'x', 'y')\n      }\n    })\n\n    const links = this.serializeLinks()\n\n    return { links, nodes }\n  }\n\n  serializeLinks() {\n    const diagram = this.activeModel.serializeDiagram()\n\n    return diagram.links.map(link => {\n      const instance = this.activeModel.getLink(link.id)\n      const model = {\n        source: link.source,\n        sourcePort: instance.sourcePort.name,\n        target: link.target,\n        points: link.points.map(pt => ({ x: pt.x, y: pt.y }))\n      }\n\n      if (instance.sourcePort.name === 'in') {\n        // We reverse the model so that target is always an input port\n        model.source = link.target\n        model.sourcePort = instance.targetPort.name\n        model.target = link.source\n        model.points = _.reverse(model.points)\n      }\n\n      return model\n    })\n  }\n\n  saveAllFlows() {\n    this.props.saveAllFlows()\n  }\n\n  deleteSelectedElements() {\n    const elements = _.sortBy(this.diagramEngine.getDiagramModel().getSelectedItems(), 'nodeType')\n\n    // Use sorting to make the nodes first in the array, deleting the node before the links\n    for (const element of elements) {\n      if (!this.diagramEngine.isModelLocked(element)) {\n        if (element.isStartNode) {\n          return alert(\"You can't delete the start node.\")\n        } else if (\n          _.includes(['standard', 'skill-call'], element.nodeType) ||\n          _.includes(['standard', 'skill-call'], element.type)\n        ) {\n          this.props.removeFlowNode(element.id)\n        } else if (element.linkType === 'default') {\n          element.remove()\n          this.checkForLinksUpdate()\n        } else {\n          element.remove() // it's a point or something else\n        }\n      }\n    }\n\n    this.diagramWidget.forceUpdate()\n  }\n\n  copySelectedElementToBuffer() {\n    this.props.copyFlowNode()\n    toast('Copied to buffer!', {\n      autoClose: 1000,\n      position: toast.POSITION.TOP_CENTER,\n      hideProgressBar: true,\n      closeButton: false\n    })\n  }\n\n  pasteElementFromBuffer() {\n    this.props.pasteFlowNode({ x: -this.activeModel.offsetX + PADDING, y: -this.activeModel.offsetY + PADDING })\n    this.getSelectedNode().setSelected(false)\n  }\n\n  onKeyDown = event => {\n    if ((event.ctrlKey || event.metaKey) && event.key === 'c') {\n      this.copySelectedElementToBuffer()\n    } else if ((event.ctrlKey || event.metaKey) && event.key === 'v') {\n      this.pasteElementFromBuffer()\n    } else if (event.code === 'Backspace') {\n      this.deleteSelectedElements()\n    }\n  }\n\n  render() {\n    const isInserting = this.props.currentDiagramAction && this.props.currentDiagramAction.startsWith('insert_')\n    const classNames = classnames({ [style.insertNode]: isInserting })\n    const cancelInsert = () => this.props.setDiagramAction(null)\n\n    return (\n      <div\n        id=\"diagramContainer\"\n        tabIndex=\"1\"\n        className={classNames}\n        style={{ outline: 'none', width: '100%', height: '100%' }}\n      >\n        {isInserting && (\n          <div className={style.insertMode}>\n            <div>\n              <Label bsStyle=\"primary\">Insertion Mode</Label>\n            </div>\n            <Button bsStyle=\"danger\" onClick={cancelInsert}>\n              Cancel\n            </Button>\n          </div>\n        )}\n        <DiagramWidget\n          readOnly={this.props.readOnly}\n          ref={w => (this.diagramWidget = w)}\n          deleteKeys={[]}\n          diagramEngine={this.diagramEngine}\n        />\n      </div>\n    )\n  }\n}\n","import { connect } from 'react-redux'\n\nimport { getCurrentFlow, getCurrentFlowNode } from '~/reducers'\nimport {\n  fetchFlows,\n  switchFlowNode,\n  openFlowNodeProps,\n  setDiagramAction,\n  createFlowNode,\n  saveAllFlows,\n  updateFlowNode,\n  removeFlowNode,\n  copyFlowNode,\n  pasteFlowNode,\n  createFlow,\n  updateFlow,\n  insertNewSkillNode\n} from '~/actions'\n\nimport Diagram from '../diagram'\n\nconst mapStateToProps = state => ({\n  flows: state.flows,\n  currentFlow: getCurrentFlow(state),\n  currentFlowNode: getCurrentFlowNode(state),\n  currentDiagramAction: state.flows.currentDiagramAction\n})\n\nconst mapDispatchToProps = {\n  fetchFlows,\n  switchFlowNode,\n  openFlowNodeProps,\n  setDiagramAction,\n  createFlowNode,\n  saveAllFlows,\n  removeFlowNode,\n  createFlow,\n  updateFlowNode,\n  updateFlow,\n  copyFlowNode,\n  pasteFlowNode,\n  insertNewSkillNode\n}\n\nconst ConnectedDiagram = connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(Diagram)\nexport default ConnectedDiagram\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#toolbarInsertSkill {\\n  padding: 3px 12px;\\n  margin: 3px 5px 0;\\n  border-radius: 0; }\\n\\n.toolbar__wrapper___1jiX3 {\\n  width: 100%;\\n  border-top: 1px solid #e0e0e0;\\n  border-bottom: 1px solid #e0e0e0;\\n  background: #fafafa;\\n  padding: 0 40px; }\\n\\n.toolbar__toolbar___3dUHc .toolbar__unsavedText___1M_K- {\\n  color: #888; }\\n\\n.toolbar__separator___G34EP {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  border-left: 1px solid #d9d9d9;\\n  height: 40px;\\n  margin: 0 5px 0 4px;\\n  vertical-align: top;\\n  display: inline-block; }\\n\\n.toolbar__btn___3YXDx {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin: 6px 0 0 2px;\\n  height: 30px;\\n  background: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n  border-width: 1px;\\n  border-radius: 2px;\\n  outline: none;\\n  padding: 0;\\n  line-height: 30px;\\n  list-style: none;\\n  font-size: 11px;\\n  font-weight: bold;\\n  text-decoration: none;\\n  vertical-align: middle;\\n  cursor: pointer; }\\n  .toolbar__btn___3YXDx:focus {\\n    outline: none !important; }\\n  .toolbar__btn___3YXDx i {\\n    padding: 4px 3px;\\n    font-size: 21px;\\n    color: #000;\\n    opacity: 0.54; }\\n  .toolbar__btn___3YXDx:hover {\\n    border-color: transparent !important;\\n    border-color: rgba(0, 0, 0, 0.06); }\\n    .toolbar__btn___3YXDx:hover i {\\n      opacity: 1; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"wrapper\": \"toolbar__wrapper___1jiX3\",\n\t\"toolbar\": \"toolbar__toolbar___3dUHc\",\n\t\"unsavedText\": \"toolbar__unsavedText___1M_K-\",\n\t\"separator\": \"toolbar__separator___G34EP\",\n\t\"btn\": \"toolbar__btn___3YXDx\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./toolbar.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./toolbar.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./toolbar.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport { Button, OverlayTrigger, Tooltip, DropdownButton, MenuItem } from 'react-bootstrap'\n\nimport _ from 'lodash'\n\nimport { updateGlobalStyle } from '~/actions'\nimport PermissionsChecker from '~/components/Layout/PermissionsChecker'\n\nconst style = require('./toolbar.scss')\n\nclass Toolbar extends React.Component {\n  componentDidMount() {\n    this.props.updateGlobalStyle({\n      'bp-navbar': {\n        borderBottom: 'none'\n      }\n    })\n  }\n\n  componentWillUnmount() {\n    this.props.updateGlobalStyle({\n      'bp-navbar': {}\n    })\n  }\n\n  render() {\n    const createTooltip = (name, text) => <Tooltip id={name}>{text}</Tooltip>\n\n    const hasUnsavedChanges = !_.isEmpty(this.props.dirtyFlows)\n\n    const isInsertNodeMode = this.props.currentDiagramAction === 'insert_node'\n\n    const toggleInsertMode = action => () => {\n      this.props.setDiagramAction(this.props.currentDiagramAction === action ? null : action)\n    }\n\n    const canMakeStartNode = () => {\n      const current = this.props.currentFlow && this.props.currentFlow.startNode\n      const potential = this.props.currentFlowNode && this.props.currentFlowNode.name\n      return current && potential && current !== potential\n    }\n\n    const setAsCurrentNode = () => {\n      this.props.updateFlow({\n        startNode: this.props.currentFlowNode.name\n      })\n    }\n\n    const promptNewFlow = () => {\n      let name = prompt('Enter the name of the new flow')\n\n      if (!name) {\n        return\n      }\n\n      name = name.replace(/\\.flow\\.json$/i, '')\n\n      if (/[^A-Z0-9-_\\/]/i.test(name)) {\n        return alert('ERROR: The flow name can only contain letters, numbers, underscores and hyphens.')\n      }\n\n      if (_.includes(this.props.flowsNames, name + '.flow.json')) {\n        return alert('ERROR: This flow already exists')\n      }\n\n      this.props.onCreateFlow(name)\n    }\n\n    const noSkills = (\n      <MenuItem eventKey=\"1\" disabled={true}>\n        No skills installed\n      </MenuItem>\n    )\n\n    const insertSkillsDropdown = (\n      <PermissionsChecker user={this.props.user} op=\"write\" res=\"bot.skills\">\n        <DropdownButton title=\"Insert skill\" id=\"toolbarInsertSkill\">\n          <MenuItem header>Installed skills</MenuItem>\n          {!this.props.skills.length && noSkills}\n          {this.props.skills.map((skill, i) => (\n            <MenuItem key={i} eventKey={i} onClick={() => this.props.buildSkill(skill.id)}>\n              {skill.name}\n            </MenuItem>\n          ))}\n        </DropdownButton>\n      </PermissionsChecker>\n    )\n\n    return (\n      <div className={style.wrapper}>\n        <div className={style.toolbar}>\n          <Button className={style.btn} bsStyle=\"default\" onClick={promptNewFlow}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('addFlow', 'Create new flow')}>\n              <i className=\"material-icons\">create_new_folder</i>\n            </OverlayTrigger>\n          </Button>\n\n          <div className={style.separator} />\n\n          <Button\n            className={style.btn}\n            bsStyle=\"default\"\n            disabled={window.BOTPRESS_FLOW_EDITOR_DISABLED || !hasUnsavedChanges}\n            onClick={() => this.props.onSaveAllFlows && this.props.onSaveAllFlows()}\n          >\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('saveAll', 'Save all')}>\n              <i className=\"material-icons\">save</i>\n            </OverlayTrigger>\n          </Button>\n\n          <div className={style.separator} />\n\n          <Button className={style.btn} bsStyle=\"default\" disabled={!this.props.canUndo} onClick={this.props.undo}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('undo', 'Undo')}>\n              <i className=\"material-icons\">undo</i>\n            </OverlayTrigger>\n          </Button>\n\n          <Button className={style.btn} bsStyle=\"default\" disabled={!this.props.canRedo} onClick={this.props.redo}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('redo', 'Redo')}>\n              <i className=\"material-icons\">redo</i>\n            </OverlayTrigger>\n          </Button>\n\n          <Button className={style.btn} bsStyle=\"default\" onClick={this.props.onCopy}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('copy', 'Copy')}>\n              <i className=\"material-icons\">content_copy</i>\n            </OverlayTrigger>\n          </Button>\n\n          <Button\n            className={style.btn}\n            bsStyle=\"default\"\n            onClick={this.props.onPaste}\n            disabled={!this.props.canPasteNode}\n          >\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('paste', 'Paste')}>\n              <i className=\"material-icons\">content_paste</i>\n            </OverlayTrigger>\n          </Button>\n\n          <div className={style.separator} />\n\n          <Button\n            className={style.btn}\n            bsStyle=\"default\"\n            active={isInsertNodeMode}\n            onClick={toggleInsertMode('insert_node')}\n          >\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('addNode', 'Insert New Node')}>\n              <i className=\"material-icons\">add_box</i>\n            </OverlayTrigger>\n          </Button>\n\n          {insertSkillsDropdown}\n\n          <div className={style.separator} />\n\n          <Button className={style.btn} bsStyle=\"default\" disabled={!canMakeStartNode()} onClick={setAsCurrentNode}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('makeStartNode', 'Set as Start node')}>\n              <i className=\"material-icons\">stars</i>\n            </OverlayTrigger>\n          </Button>\n\n          <Button className={style.btn} bsStyle=\"default\" onClick={this.props.onDelete}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('delete', 'Delete')}>\n              <i className=\"material-icons\">delete</i>\n            </OverlayTrigger>\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ updateGlobalStyle }, dispatch)\n\nexport default connect(null, mapDispatchToProps)(Toolbar)\n","import { connect } from 'react-redux'\nimport _ from 'lodash'\n\nimport { setDiagramAction, updateFlow, flowEditorRedo, flowEditorUndo, buildNewSkill } from '~/actions'\nimport { getCurrentFlow, getCurrentFlowNode, getDirtyFlows, canFlowUndo, canFlowRedo } from '~/reducers'\n\nimport Toolbar from '../toolbar.jsx'\n\nconst mapStateToProps = state => ({\n  flowsNames: _.keys(state.flows.flowsByName),\n  currentFlow: getCurrentFlow(state),\n  currentDiagramAction: state.flows.currentDiagramAction,\n  currentFlowNode: getCurrentFlowNode(state),\n  dirtyFlows: getDirtyFlows(state),\n  canUndo: canFlowUndo(state),\n  canRedo: canFlowRedo(state),\n  canPasteNode: Boolean(state.flows.nodeInBuffer),\n  skills: state.skills.installed,\n  user: state.user\n})\n\nconst mapDispatchToProps = {\n  setDiagramAction: setDiagramAction,\n  updateFlow: updateFlow,\n  undo: flowEditorUndo,\n  redo: flowEditorRedo,\n  buildSkill: buildNewSkill\n}\n\nconst ConnectedToolbar = connect(mapStateToProps, mapDispatchToProps)(Toolbar)\n\nexport default ConnectedToolbar\n","import React, { Component } from 'react'\nimport SplitPane from 'react-split-pane'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport _ from 'lodash'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport { operationAllowed } from '~/components/Layout/PermissionsChecker'\n\nimport Toolbar from './containers/Toolbar'\nimport Diagram from './containers/Diagram'\nimport SidePanel from './containers/SidePanel'\nimport Topbar from './containers/Topbar'\nimport SkillsBuilder from './containers/SkillsBuilder'\nimport NodeProps from './containers/NodeProps'\n\nimport { switchFlow } from '~/actions'\nimport { getDirtyFlows } from '~/reducers'\n\nconst style = require('./style.scss')\n\nclass FlowBuilder extends Component {\n  state = {\n    initialized: false\n  }\n\n  init() {\n    if (this.state.initialized || !this.props.user || this.props.user.id == null) {\n      return\n    }\n    this.setState({\n      initialized: true,\n      readOnly: !operationAllowed({ user: this.props.user, op: 'write', res: 'bot.flows' })\n    })\n  }\n\n  componentDidMount() {\n    this.init()\n  }\n\n  componentDidUpdate() {\n    this.init()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { flow } = nextProps.match.params\n    if (flow) {\n      const nextFlow = `${flow}.flow.json`\n      if (this.props.currentFlow !== nextFlow) {\n        this.props.switchFlow(nextFlow)\n      }\n    } else if (this.props.currentFlow) {\n      this.props.history.push(`/flows/${this.props.currentFlow.replace(/\\.flow\\.json/, '')}`)\n    }\n  }\n\n  componentWillUnmount() {\n    const { pathname } = this.props.history.location\n    const hasDirtyFlows = !_.isEmpty(this.props.dirtyFlows)\n\n    const hasUnsavedChanges = !/^\\/flows\\//g.exec(pathname) && !window.BOTPRESS_FLOW_EDITOR_DISABLED && hasDirtyFlows\n\n    if (hasUnsavedChanges) {\n      const isSave = confirm('Save changes?')\n\n      if (isSave) {\n        this.diagram.saveAllFlows()\n      }\n    }\n  }\n\n  render() {\n    if (!this.state.initialized) {\n      return null\n    }\n\n    const { readOnly } = this.state\n\n    return (\n      <ContentWrapper stretch={true} className={style.wrapper}>\n        <PageHeader className={style.header} width=\"100%\">\n          <Topbar readOnly={readOnly} />\n        </PageHeader>\n        {!readOnly && (\n          <Toolbar\n            onSaveAllFlows={() => {\n              this.diagram.saveAllFlows()\n            }}\n            onCreateFlow={name => {\n              this.diagram.createFlow(name)\n            }}\n            onDelete={() => {\n              this.diagram.deleteSelectedElements()\n            }}\n            onCopy={() => {\n              this.diagram.copySelectedElementToBuffer()\n            }}\n            onPaste={() => {\n              this.diagram.pasteElementFromBuffer()\n            }}\n          />\n        )}\n        <div className={style.workspace}>\n          <SplitPane split=\"vertical\" minSize={200} defaultSize={250}>\n            <div className={style.sidePanel}>\n              <SidePanel readOnly={readOnly} />\n            </div>\n\n            <div className={style.diagram}>\n              <Diagram\n                readOnly={readOnly}\n                ref={el => {\n                  if (!!el) {\n                    this.diagram = el.getWrappedInstance()\n                  }\n                }}\n              />\n            </div>\n          </SplitPane>\n          <SkillsBuilder />\n          <NodeProps readOnly={readOnly} show={this.props.showFlowNodeProps} />\n        </div>\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentFlow: state.flows.currentFlow,\n  showFlowNodeProps: state.flows.showFlowNodeProps,\n  dirtyFlows: getDirtyFlows(state),\n  user: state.user\n})\n\nexport default connect(mapStateToProps, { switchFlow })(withRouter(FlowBuilder))\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__folders___Y0bTe {\\n  list-style: none;\\n  padding: 0; }\\n\\n.style__files___1_M0Y {\\n  list-style: none;\\n  padding: 0; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"folders\": \"style__folders___Y0bTe\",\n\t\"files\": \"style__files___1_M0Y\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { getHost } from './util'\n\nconst AboutGhostContent = () => (\n  <section>\n    <p>Some of the bot's behavior is determined by the content coming from the files (Content / Forms, Flows).</p>\n    <p>For your convenience Botpress provides the GUI tools to edit these files while in development.</p>\n    <p>\n      We also provide the same tools in production, but there's a caveat. If we would write the same change to the\n      server's file system they could easily be lost due to the nature of ephemeral server instances (when the new\n      version of the bot is deployed the old server instance may be simply shut down by the cloud hosting platform).\n    </p>\n    <p>\n      To address this issue we give you the Ghost COntent feature. In production your changes are saved to the database\n      which is persisted between deployments. But how do you get these changes back to your bot's codebase?\n    </p>\n    <p>\n      To do so you run a special command from your bot folder,&nbsp;\n      <code>./node_modules/.bin/botpress ghost-sync {getHost()}</code>. This will fetch the updated content from the\n      server, apply it to the local file system, and also record the revision IDs in a special file.\n    </p>\n    <p>The synchronisation is finalized after these updated files are redeployed.</p>\n  </section>\n)\n\nexport default AboutGhostContent\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport orderBy from 'lodash/orderBy'\nimport moment from 'moment'\n\nimport { Alert, Button, Modal, Panel } from 'react-bootstrap'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport PermissionsChecker from '~/components/Layout/PermissionsChecker'\nimport Loading from '~/components/Util/Loading'\nimport About from './About'\n\nimport { fetchStatus, getHost, revertPendingFileChanges } from './util'\n\nimport style from './style.scss'\n\nclass GhostView extends Component {\n  state = {\n    loading: true,\n    data: null,\n    error: null,\n    showAbout: false,\n    showSyncHelp: false\n  }\n\n  showAbout = () => {\n    this.setState({ showAbout: true })\n  }\n\n  hideAbout = () => {\n    this.setState({ showAbout: false })\n  }\n\n  showSyncHelp = () => {\n    this.setState({ showSyncHelp: true })\n  }\n\n  hideSyncHelp = () => {\n    this.setState({ showSyncHelp: false })\n  }\n\n  fetch() {\n    this.setState({ loading: true })\n\n    fetchStatus()\n      .then(data => {\n        this.setState({ data, loading: false, error: null })\n      })\n      .catch(error => {\n        this.setState({ error: error.message || 'Unknown', loading: false })\n      })\n  }\n\n  componentDidMount() {\n    this.fetch()\n  }\n\n  renderRevision({ folder, file, revision, created_on: createdOn }, index) {\n    const mostRecent = index === 0 ? '(most recent)' : ''\n    const timeAgo = moment.utc(createdOn).fromNow()\n\n    return (\n      <li key={`${folder}/${file}/${revision}`}>\n        Revision <code>{revision}</code>  Edited {timeAgo} {mostRecent}\n      </li>\n    )\n  }\n\n  revertFile(folder, file) {\n    return revertPendingFileChanges(folder, file).then(() => this.fetch())\n  }\n\n  renderFile(folder, file, data) {\n    data = orderBy(data, ['created_on'], ['desc'])\n\n    const undo = () => {\n      if (confirm('Are you sure you want to revert these changes? Changes will be lost and this is not reversible.')) {\n        this.revertFile(folder, file)\n      }\n    }\n\n    return (\n      <li key={`${folder}/${file}`}>\n        <details>\n          <summary>\n            {file}\n            <PermissionsChecker user={this.props.user} op=\"write\" res=\"bot.ghost_content\">\n              {' '}\n              <a href=\"javascript:void(0);\" onClick={undo}>\n                Revert changes\n              </a>\n            </PermissionsChecker>\n          </summary>\n          <ul>{data.map((datum, i) => this.renderRevision(Object.assign({ folder }, datum), i))}</ul>\n        </details>\n      </li>\n    )\n  }\n\n  renderFolder(folder, data) {\n    const files = Object.keys(data).sort()\n\n    return (\n      <Panel collapsible=\"true\" defaultExpanded key={folder}>\n        <Panel.Heading>{folder}</Panel.Heading>\n        <Panel.Body>\n          <ul className={style.files}>{files.map(file => this.renderFile(folder, file, data[file]))}</ul>\n        </Panel.Body>\n      </Panel>\n    )\n  }\n\n  renderContent() {\n    const { data, showSyncHelp } = this.state\n    const folders = Object.keys(data).sort()\n\n    if (!folders.length) {\n      return (\n        <Alert bsStyle=\"success\">\n          <p>You don&apos;t have any ghost content in your DB, DB is in sync with the bot source code.</p>\n          <p>\n            Don&apos;t know what is ghost content?&nbsp;\n            <Button bsSize=\"small\" bsStyle=\"link\" onClick={this.showAbout}>\n              Read about this feature\n            </Button>.\n          </p>\n        </Alert>\n      )\n    }\n\n    return (\n      <div>\n        <Alert bsStyle=\"warning\">\n          <p>\n            Below is the list of ghost content present in the DB. You need to eventually sync it up with the bot source\n            code.&nbsp;\n            <Button bsSize=\"small\" bsStyle=\"info\" onClick={this.showSyncHelp}>\n              Show me how to do it\n            </Button>\n          </p>\n          <p>\n            Don&apos;t know what is ghost content?&nbsp;\n            <Button bsSize=\"small\" bsStyle=\"link\" onClick={this.showAbout}>\n              Read about this feature\n            </Button>\n          </p>\n        </Alert>\n        {showSyncHelp && (\n          <Alert bsStyle=\"info\" onDismiss={this.hideSyncHelp}>\n            <p>\n              <strong>To pull the pending ghost content run in your bot&apos;s project folder:</strong>\n            </p>\n            <p>\n              <code>./node_modules/.bin/botpress ghost-sync {getHost()}</code>\n            </p>\n          </Alert>\n        )}\n        <ul className={style.folders}>{folders.map(folder => this.renderFolder(folder, data[folder]))}</ul>\n      </div>\n    )\n  }\n\n  renderBody() {\n    const { loading, error } = this.state\n\n    if (loading) {\n      return <Loading />\n    }\n\n    if (error) {\n      return (\n        <Alert bsStyle=\"danger\">\n          <p>Error fetching status dta: {error}.</p>\n          <p>\n            <Button bsStyle=\"info\" onClick={() => this.fetch()}>\n              Try again\n            </Button>\n          </p>\n        </Alert>\n      )\n    }\n\n    return this.renderContent()\n  }\n\n  render() {\n    return (\n      <ContentWrapper>\n        <PageHeader>Version Control</PageHeader>\n        {this.renderBody()}\n\n        <Modal show={this.state.showAbout} onHide={this.hideAbout}>\n          <Modal.Header closeButton>\n            <Modal.Title>Version Control</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <About />\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={this.hideAbout}>Close</Button>\n          </Modal.Footer>\n        </Modal>\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n})\n\nexport default connect(mapStateToProps)(GhostView)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__content___1aMIq {\\n  width: 100%;\\n  height: 100%;\\n  padding-left: 0;\\n  padding-right: 0; }\\n\\n.style__modal___sKgpR .style__cancel___37yqf {\\n  position: absolute;\\n  left: 90px;\\n  bottom: 24px;\\n  height: 34px;\\n  padding-right: 12px;\\n  padding-left: 12px;\\n  min-width: 70px; }\\n\\n.style__modal___sKgpR .btn-info {\\n  background-color: #46cba0;\\n  border-color: #46cba0; }\\n  .style__modal___sKgpR .btn-info:hover {\\n    background-color: #40bd94;\\n    border-color: #40bd94; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"content\": \"style__content___1aMIq\",\n\t\"modal\": \"style__modal___sKgpR\",\n\t\"cancel\": \"style__cancel___37yqf\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__list___3EX80 {\\n  min-height: 85vh; }\\n  .style__list___3EX80 .style__header___1xYOt {\\n    padding: 10px 0;\\n    height: 60px;\\n    margin: 5px 0 0 0;\\n    border-bottom: 1px solid #c9c8ca; }\\n    .style__list___3EX80 .style__header___1xYOt .checkbox {\\n      margin-top: 0px;\\n      margin-bottom: 0px;\\n      margin-left: -2px;\\n      height: 18px; }\\n    .style__list___3EX80 .style__header___1xYOt button {\\n      height: 30px;\\n      width: 34px;\\n      position: relative;\\n      margin-right: 8px; }\\n      .style__list___3EX80 .style__header___1xYOt button i {\\n        position: absolute;\\n        left: 6px;\\n        top: 6px;\\n        font-size: 18px;\\n        line-height: 18px;\\n        color: #807f81; }\\n    .style__list___3EX80 .style__header___1xYOt .style__left___3ermR .style__search___Q_Dum {\\n      position: relative;\\n      width: 300px;\\n      display: inline-block;\\n      margin-right: 10px;\\n      margin-left: 10px; }\\n      .style__list___3EX80 .style__header___1xYOt .style__left___3ermR .style__search___Q_Dum .form-control {\\n        position: absolute;\\n        top: -4px;\\n        height: 30px; }\\n    .style__list___3EX80 .style__header___1xYOt .style__right___2KDss {\\n      right: 5px; }\\n      .style__list___3EX80 .style__header___1xYOt .style__right___2KDss .style__paging___2gGsw {\\n        margin-right: 10px; }\\n  .style__list___3EX80 .style__container___1UAPk table {\\n    border: none; }\\n    .style__list___3EX80 .style__container___1UAPk table tr {\\n      font-size: 90%; }\\n    .style__list___3EX80 .style__container___1UAPk table td {\\n      padding: 10px;\\n      border: none;\\n      border-bottom: 1px solid #e0e0e0; }\\n    .style__list___3EX80 .style__container___1UAPk table .checkbox {\\n      margin-top: 0px;\\n      margin-bottom: 0px;\\n      height: 20px; }\\n    .style__list___3EX80 .style__container___1UAPk table .style__selected___2GM9r {\\n      background-color: #7de4c2; }\\n  .style__list___3EX80 .style__empty___1pkCw {\\n    text-align: center;\\n    font-weight: bolder;\\n    margin-top: 35px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"list\": \"style__list___3EX80\",\n\t\"header\": \"style__header___1xYOt\",\n\t\"left\": \"style__left___3ermR\",\n\t\"search\": \"style__search___Q_Dum\",\n\t\"right\": \"style__right___2KDss\",\n\t\"paging\": \"style__paging___2gGsw\",\n\t\"container\": \"style__container___1UAPk\",\n\t\"selected\": \"style__selected___2GM9r\",\n\t\"empty\": \"style__empty___1pkCw\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport moment from 'moment'\n\nimport { Checkbox, Table, Button, FormControl, FormGroup, Tooltip, OverlayTrigger, Glyphicon } from 'react-bootstrap'\n\nconst style = require('./style.scss')\n\nexport default class ListView extends Component {\n  state = {\n    checkedIds: [],\n    allChecked: false,\n    search: ''\n  }\n\n  componentDidMount() {\n    const fn = () => {\n      if (this.props.handleSearch) {\n        this.props.handleSearch(this.state.search)\n      }\n    }\n\n    this.debouncedHandleSearch = _.debounce(fn, 1000)\n  }\n\n  handleCheckboxChanged(id) {\n    const modified = this.state.checkedIds\n\n    if (_.includes(this.state.checkedIds, id)) {\n      _.pull(modified, id)\n    } else {\n      modified.push(id)\n    }\n\n    this.setState({\n      checkedIds: modified\n    })\n  }\n\n  handleAllCheckedChanged = () => {\n    this.setState({\n      allChecked: !this.state.allChecked\n    })\n\n    setImmediate(() => {\n      const ids = []\n\n      if (this.state.allChecked) {\n        _.forEach(this.props.contentItems, ({ id }) => {\n          ids.push(id)\n        })\n      }\n\n      this.setState({\n        checkedIds: ids\n      })\n    })\n  }\n\n  handleDeleteSelected = () => {\n    this.props.handleDeleteSelected(this.state.checkedIds)\n\n    this.setState({\n      checkedIds: [],\n      allChecked: false\n    })\n  }\n\n  handleCloneSelected = () => {\n    this.props.handleClone(this.state.checkedIds)\n\n    this.setState({\n      checkedIds: [],\n      allChecked: false\n    })\n  }\n\n  handleSearchChanged = event => {\n    this.setState({\n      search: event.target.value\n    })\n\n    this.debouncedHandleSearch && this.debouncedHandleSearch()\n  }\n\n  renderTableHeader() {\n    return (\n      <tr>\n        <th />\n        <th>Content Id</th>\n        <th>Category</th>\n        <th>Preview</th>\n        <th>Created on</th>\n      </tr>\n    )\n  }\n\n  renderContentItem = (m, i) => {\n    const handleEdit = () => !this.props.readOnly && this.props.handleEdit(m.id, m.categoryId)\n    const checked = _.includes(this.state.checkedIds, m.id)\n    const className = classnames(style.item, { [style.selected]: checked })\n\n    return (\n      <tr className={className} key={i}>\n        {!this.props.readOnly && (\n          <td style={{ width: '2%', minWidth: '34px' }}>\n            <Checkbox checked={checked} onClick={() => this.handleCheckboxChanged(m.id, m.categoryId)} />\n          </td>\n        )}\n        <td style={{ width: '16%' }}>{'#!' + m.id}</td>\n        <td style={{ width: '8%' }}>{m.categoryId}</td>\n        <td style={{ width: '58%' }}>{m.previewText}</td>\n        <td style={{ width: '18%' }}>{moment(m.createdOn).format('MMMM Do YYYY, h:mm')}</td>\n        {!this.props.readOnly && (\n          <td>\n            <Button bsSize=\"small\" onClick={handleEdit}>\n              <Glyphicon glyph=\"pencil\" />\n            </Button>\n          </td>\n        )}\n      </tr>\n    )\n  }\n\n  renderTable() {\n    if (this.props.contentItems && this.props.contentItems.length === 0) {\n      const message = this.props.readOnly\n        ? \"There's no content here.\"\n        : \"There's no content yet. You can create some using the 'Add' button.\"\n      return <div className={style.empty}>{message}</div>\n    }\n\n    return (\n      <div className={style.container}>\n        <Table striped bordered condensed hover>\n          <tbody>{this.props.contentItems.map(this.renderContentItem)}</tbody>\n        </Table>\n      </div>\n    )\n  }\n\n  renderPaging() {\n    const count = this.props.count\n\n    let from = (this.props.page - 1) * this.props.itemsPerPage + 1\n    let to = this.props.page * this.props.itemsPerPage\n\n    from = count !== 0 ? from : 0\n    to = to <= count ? to : count\n\n    const text = `${from} - ${to} of ${count}`\n\n    return <span className={style.paging}>{text}</span>\n  }\n\n  renderActionButtons() {\n    return (\n      <span>\n        {!this.props.readOnly && (\n          <Button onClick={this.handleAllCheckedChanged}>\n            <Checkbox checked={this.state.allChecked} onClick={this.handleAllCheckedChanged} />\n          </Button>\n        )}\n        <Button onClick={this.props.handleRefresh} title=\"Refresh\">\n          <i className=\"material-icons\">refresh</i>\n        </Button>\n        {!this.props.readOnly && (\n          <Button\n            onClick={this.handleDeleteSelected}\n            disabled={_.isEmpty(this.state.checkedIds)}\n            title=\"Delete selected\"\n          >\n            <i className=\"material-icons\">delete</i>\n          </Button>\n        )}\n        {!this.props.readOnly && (\n          <Button onClick={this.handleCloneSelected} disabled={_.isEmpty(this.state.checkedIds)} title=\"Clone selected\">\n            <i className=\"material-icons\">filter_none</i>\n          </Button>\n        )}\n      </span>\n    )\n  }\n\n  renderPagingButtons() {\n    return (\n      <span className={style.pagingButtons}>\n        <Button onClick={this.props.handlePrevious} disabled={this.props.page === 1}>\n          <i className=\"material-icons\">keyboard_arrow_left</i>\n        </Button>\n        <Button\n          onClick={this.props.handleNext}\n          disabled={this.props.page * this.props.itemsPerPage >= this.props.count}\n        >\n          <i className=\"material-icons\">keyboard_arrow_right</i>\n        </Button>\n      </span>\n    )\n  }\n\n  renderSearchBar() {\n    return (\n      <FormGroup className={style.search}>\n        <FormControl type=\"text\" placeholder=\"Search\" value={this.state.search} onChange={this.handleSearchChanged} />\n      </FormGroup>\n    )\n  }\n\n  renderHeader() {\n    const leftCls = classnames('pull-left', style.left)\n    const rightCls = classnames('pull-right', style.right)\n\n    return (\n      <div className={style.header}>\n        <div className={leftCls}>\n          {this.renderActionButtons()}\n          {this.renderSearchBar()}\n        </div>\n        <div className={rightCls}>\n          {this.renderPaging()}\n          {this.renderPagingButtons()}\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const classNames = classnames('bp-list', style.list)\n\n    return (\n      <div className={classNames}>\n        {this.renderHeader()}\n        {this.renderTable()}\n      </div>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__sidebar___1N6kp {\\n  min-height: 85vh; }\\n  .style__sidebar___1N6kp button {\\n    margin-top: 18px;\\n    width: 100%; }\\n    .style__sidebar___1N6kp button.style__disabled___1T_4x {\\n      background-color: #b5b3b6;\\n      cursor: not-allowed; }\\n      .style__sidebar___1N6kp button.style__disabled___1T_4x:hover {\\n        background-color: #b5b3b6; }\\n  .style__sidebar___1N6kp ul {\\n    list-style: none;\\n    padding: 10px;\\n    margin-top: 20px; }\\n    .style__sidebar___1N6kp ul li {\\n      margin-bottom: 5px;\\n      padding-left: 6px;\\n      line-height: 24px;\\n      border-left: solid 3px #fff; }\\n      .style__sidebar___1N6kp ul li a {\\n        cursor: pointer;\\n        color: #000000;\\n        font-weight: bolder;\\n        text-decoration: none; }\\n        .style__sidebar___1N6kp ul li a:hover {\\n          color: #444444; }\\n      .style__sidebar___1N6kp ul li.style__selected___3uWrd {\\n        border-color: #46cba0; }\\n        .style__sidebar___1N6kp ul li.style__selected___3uWrd a {\\n          font-weight: bold; }\\n      .style__sidebar___1N6kp ul li .style__title___2RKRS {\\n        margin-right: 5px; }\\n      .style__sidebar___1N6kp ul li .style__count___3hBqq {\\n        opacity: 0.7; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"sidebar\": \"style__sidebar___1N6kp\",\n\t\"disabled\": \"style__disabled___1T_4x\",\n\t\"selected\": \"style__selected___3uWrd\",\n\t\"title\": \"style__title___2RKRS\",\n\t\"count\": \"style__count___3hBqq\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport { Button } from 'react-bootstrap'\n\nconst style = require('./style.scss')\n\nconst CATEGORY_ALL = {\n  id: 'all',\n  title: 'All',\n  count: null\n}\n\nexport default class SidebarView extends Component {\n  renderAddButton() {\n    if (this.props.readOnly) {\n      return null\n    }\n\n    const classNames = classnames('bp-button', {\n      [style.disabled]: this.props.selectedId === 'all'\n    })\n\n    return (\n      <Button className={classNames} onClick={() => this.props.handleAdd()} disabled={this.props.selectedId == 'all'}>\n        Add Content\n      </Button>\n    )\n  }\n\n  renderCategory = (c, i) => {\n    const classNames = classnames({\n      [style.selected]: c.id === this.props.selectedId\n    })\n\n    return (\n      <li className={classNames} key={i}>\n        <a onClick={() => this.props.handleCategorySelected(c.id)}>\n          <span className={style.title}>{c.title}</span>\n          {c.count ? <span className={style.count}>{'(' + c.count + ')  '}</span> : null}\n        </a>\n      </li>\n    )\n  }\n\n  renderCategories() {\n    const { categories } = this.props\n\n    if (!categories || !categories.length) {\n      return null\n    }\n\n    return <ul>{[CATEGORY_ALL].concat(categories).map(this.renderCategory)}</ul>\n  }\n\n  render() {\n    const classNames = classnames('bp-sidebar', style.sidebar)\n\n    return (\n      <div className={classNames}>\n        {this.renderAddButton()}\n        {this.renderCategories()}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport classnames from 'classnames'\nimport Promise from 'bluebird'\nimport _ from 'lodash'\n\nimport { Grid, Row, Col, Alert } from 'react-bootstrap'\n\nimport Sidebar from './Sidebar'\nimport { fetchContentCategories, fetchContentItems, upsertContentItem, deleteContentItems } from '~/actions'\n\nimport List from './List'\nimport CreateOrEditModal from '~/components/Content/CreateOrEditModal'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport { operationAllowed } from '~/components/Layout/PermissionsChecker'\n\nconst style = require('./style.scss')\nconst ITEMS_PER_PAGE = 20\n\nclass ContentView extends Component {\n  state = {\n    showModal: false,\n    modifyId: null,\n    selectedId: 'all',\n    page: 1,\n    contentToEdit: null\n  }\n\n  initialized = false\n\n  init() {\n    if (this.initialized || !this.props.user || this.props.user.id == null) {\n      return\n    }\n    this.initialized = true\n    this.canRead = operationAllowed({ user: this.props.user, op: 'read', res: 'bot.content' })\n    this.canEdit = operationAllowed({ user: this.props.user, op: 'write', res: 'bot.content' })\n\n    if (this.canRead) {\n      this.props.fetchContentCategories()\n      this.fetchCategoryItems(this.state.selectedId)\n    }\n  }\n\n  componentDidMount() {\n    this.init()\n  }\n\n  componentDidUpdate() {\n    this.init()\n  }\n\n  fetchCategoryItems(id) {\n    if (!this.canRead) {\n      return Promise.resolve()\n    }\n    return this.props.fetchContentItems({\n      id,\n      count: ITEMS_PER_PAGE,\n      from: (this.state.page - 1) * ITEMS_PER_PAGE,\n      searchTerm: this.state.searchTerm\n    })\n  }\n\n  currentCategoryId() {\n    return this.state.modifyId\n      ? _.find(this.props.contentItems, { id: this.state.modifyId }).categoryId\n      : this.state.selectedId\n  }\n\n  handleCloseModal = () => {\n    this.setState({\n      showModal: false,\n      modifyId: null,\n      contentToEdit: null\n    })\n  }\n\n  handleCreateNew = () => {\n    this.setState({\n      showModal: true,\n      modifyId: null,\n      contentToEdit: null\n    })\n  }\n\n  handleUpsert = () => {\n    const categoryId = this.currentCategoryId()\n    this.props\n      .upsertContentItem({ categoryId, formData: this.state.contentToEdit, modifyId: this.state.modifyId })\n      .then(() => this.fetchCategoryItems(this.state.selectedId))\n      .then(() => this.setState({ showModal: false }))\n  }\n\n  handleClone = ids => {\n    return Promise.all(\n      this.props.contentItems\n        .filter(({ id }) => ids.includes(id))\n        .map(({ categoryId, formData }) => this.props.upsertContentItem({ formData, categoryId }))\n    ).then(() => this.fetchCategoryItems(this.state.selectedId))\n  }\n\n  handleFormEdited = data => {\n    this.setState({ contentToEdit: data })\n  }\n\n  handleCategorySelected = id => {\n    this.fetchCategoryItems(id)\n    this.setState({ selectedId: id })\n  }\n\n  handleDeleteSelected = ids => {\n    this.props.deleteContentItems(ids).then(() => this.fetchCategoryItems(this.state.selectedId))\n  }\n\n  handleModalShowForEdit = id => {\n    const contentToEdit = _.find(this.props.contentItems, { id }).formData\n    this.setState({ modifyId: id, showModal: true, contentToEdit })\n  }\n\n  handleRefresh = () => {\n    this.fetchCategoryItems(this.state.selectedId || 'all')\n  }\n\n  handlePrevious = () => {\n    this.setState({ page: this.state.page - 1 || 1 })\n    setImmediate(() => this.fetchCategoryItems(this.state.selectedId))\n  }\n\n  handleNext = () => {\n    this.setState({ page: this.state.page + 1 })\n    setImmediate(() => this.fetchCategoryItems(this.state.selectedId))\n  }\n\n  handleSearch = input => {\n    this.setState({ searchTerm: input })\n    setImmediate(() => this.fetchCategoryItems(this.state.selectedId))\n  }\n\n  renderBody() {\n    const { selectedId = 'all', contentToEdit } = this.state\n    const categories = this.props.categories || []\n    const selectedCategory = _.find(categories, { id: this.currentCategoryId() })\n\n    const classNames = classnames(style.content, 'bp-content')\n\n    if (!categories.length) {\n      return (\n        <div className={classNames}>\n          <Alert bsStyle=\"warning\">\n            <strong>We think you don&apos;t have any content types defined.</strong> Please&nbsp;\n            <a href=\"https://botpress.io/docs/foundamentals/content/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              <strong>read the docs</strong>\n            </a>\n            &nbsp;to see how you can make use of this feature.\n          </Alert>\n        </div>\n      )\n    }\n\n    return (\n      <div>\n        <Grid className={classNames}>\n          <Row>\n            <Col xs={3}>\n              <Sidebar\n                readOnly={!this.canEdit}\n                categories={categories}\n                selectedId={selectedId}\n                handleAdd={this.handleCreateNew}\n                handleCategorySelected={this.handleCategorySelected}\n              />\n            </Col>\n            <Col xs={9}>\n              <List\n                readOnly={!this.canEdit}\n                page={this.state.page}\n                count={\n                  this.state.selectedId === 'all'\n                    ? _.sumBy(categories, 'count') || 0\n                    : _.find(categories, { id: this.state.selectedId }).count\n                }\n                itemsPerPage={ITEMS_PER_PAGE}\n                contentItems={this.props.contentItems || []}\n                searchTerm={this.state.searchTerm}\n                handlePrevious={this.handlePrevious}\n                handleNext={this.handleNext}\n                handleRefresh={this.handleRefresh}\n                handleEdit={this.handleModalShowForEdit}\n                handleDeleteSelected={this.handleDeleteSelected}\n                handleClone={this.handleClone}\n                handleSearch={this.handleSearch}\n              />\n            </Col>\n          </Row>\n        </Grid>\n        {this.canEdit && (\n          <CreateOrEditModal\n            show={this.state.showModal}\n            schema={(selectedCategory && selectedCategory.schema.json) || {}}\n            uiSchema={(selectedCategory && selectedCategory.schema.ui) || {}}\n            formData={contentToEdit}\n            handleCreateOrUpdate={this.handleUpsert}\n            handleEdit={this.handleFormEdited}\n            handleClose={this.handleCloseModal}\n          />\n        )}\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <ContentWrapper>\n        <PageHeader>Content Manager</PageHeader>\n        {this.renderBody()}\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  categories: state.content.categories,\n  contentItems: state.content.currentItems,\n  user: state.user\n})\n\nconst mapDispatchToProps = {\n  fetchContentCategories,\n  fetchContentItems,\n  upsertContentItem,\n  deleteContentItems\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContentView)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__documentation___3v16S {\\n  margin: 0px 15px 25px 15px;\\n  padding: 10px 25px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"documentation\": \"style__documentation___3v16S\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__dragging___pqyTv {\\n  border: 1px dashed #666; }\\n\\n.style__middlewareList___5aGkH .list-group-item {\\n  padding: 0; }\\n\\n.style__header___3AmeS {\\n  padding: 20px; }\\n  .style__header___3AmeS h4 {\\n    display: inline;\\n    margin: 10px 0; }\\n  .style__header___3AmeS .style__help___1oCIS {\\n    font-size: 12px;\\n    margin-left: 10px;\\n    color: #2e948f; }\\n    .style__header___3AmeS .style__help___1oCIS:hover {\\n      cursor: default;\\n      color: #58d1b0; }\\n\\n.style__footer___1Nes7 {\\n  height: 5px;\\n  background-color: #fbfbfb; }\\n\\n.style__middleware___1KK5z {\\n  padding: 10px 15px;\\n  cursor: pointer;\\n  transition: background-color 0.15s ease-in-out, border-color 0.5s ease-in-out;\\n  border-left: 5px solid #58d1b0; }\\n  .style__middleware___1KK5z:hover {\\n    color: #666;\\n    background-color: #f6f6f6; }\\n  .style__middleware___1KK5z h4 {\\n    color: #2e948f;\\n    transition: color 0.5s ease-in-out; }\\n  .style__middleware___1KK5z .style__circle___26j1N {\\n    background-color: #58d1b0;\\n    transition: background-color 0.5s ease-in-out;\\n    width: 10px;\\n    height: 10px;\\n    border-radius: 50%;\\n    display: inline-block;\\n    float: left;\\n    margin-right: 10px;\\n    margin-top: 3px; }\\n  .style__middleware___1KK5z .style__helpIcon___11711 {\\n    color: #bfbfbf;\\n    position: absolute;\\n    top: 25px;\\n    right: 25px;\\n    width: 18px;\\n    height: 18px; }\\n\\n.style__disabled___3afoG {\\n  transition: border-color 0.5s ease-in-out;\\n  border-left: 5px solid #bfbfbf; }\\n  .style__disabled___3afoG .style__circle___26j1N {\\n    background-color: #bfbfbf; }\\n\\n.style__saveButton___1aZDR {\\n  border: none;\\n  background-color: #58d1b0;\\n  color: white;\\n  font-weight: bolder;\\n  position: absolute;\\n  right: 15px;\\n  top: 16px;\\n  font-size: 14px;\\n  text-align: center;\\n  width: 70px;\\n  height: 30px;\\n  opacity: 0;\\n  transition: opacity 0.5s ease-in-out, background-color 0.15s ease-in-out; }\\n  .style__saveButton___1aZDR.style__dirty___1qDyM {\\n    opacity: 0.5; }\\n  .style__saveButton___1aZDR.style__dirty___1qDyM:hover {\\n    background-color: #58d1b0;\\n    opacity: 1;\\n    color: white; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"dragging\": \"style__dragging___pqyTv\",\n\t\"middlewareList\": \"style__middlewareList___5aGkH\",\n\t\"header\": \"style__header___3AmeS\",\n\t\"help\": \"style__help___1oCIS\",\n\t\"footer\": \"style__footer___1Nes7\",\n\t\"middleware\": \"style__middleware___1KK5z\",\n\t\"circle\": \"style__circle___26j1N\",\n\t\"helpIcon\": \"style__helpIcon___11711\",\n\t\"disabled\": \"style__disabled___3afoG\",\n\t\"saveButton\": \"style__saveButton___1aZDR\",\n\t\"dirty\": \"style__dirty___1qDyM\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { sortable } from 'react-sortable'\n\nimport { ListGroup, ListGroupItem, Tooltip, OverlayTrigger } from 'react-bootstrap'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport axios from 'axios'\n\nimport { operationAllowed } from '~/components/Layout/PermissionsChecker'\n\nimport style from './style.scss'\n\nclass MiddlewareComponent extends Component {\n  static propTypes = {\n    middleware: PropTypes.object.isRequired,\n    toggleEnabled: PropTypes.func,\n    readOnly: PropTypes.bool\n  }\n\n  render() {\n    const { name, enabled, module, description } = this.props.middleware\n    const { readOnly } = this.props\n    const className = classnames(this.props.className, style.middleware, 'bp-middleware', {\n      [style.disabled]: !enabled,\n      ['bp-disabled']: !enabled\n    })\n    const tooltip = description ? <Tooltip id={`module-${name}-description`}>{description}</Tooltip> : null\n\n    return (\n      <div>\n        <div className={className} onClick={readOnly ? null : this.props.toggleEnabled}>\n          <div className={classnames(style.helpIcon, 'bp-help-icon')}>\n            <OverlayTrigger placement=\"left\" overlay={tooltip}>\n              <i className=\"material-icons\">help</i>\n            </OverlayTrigger>\n          </div>\n          <div>\n            <span className={classnames(style.circle, 'bp-circle')} />\n            <h4>{module}</h4>\n          </div>\n          <div>\n            Handler: <b>{name || 'N/A'}</b>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst ListItem = ({ children, ...props }) => (\n  <ListGroupItem {...props} className=\"list-item\">\n    {children}\n  </ListGroupItem>\n)\n\nconst SortableListItem = sortable(ListItem)\n\nclass Middlewares extends Component {\n  static propTypes = {\n    type: PropTypes.string.isRequired\n  }\n\n  state = {\n    loading: true,\n    incoming: [],\n    outgoing: [],\n    incomingDragIndex: null,\n    incomingItems: [],\n    outgoingDragIndex: null,\n    outgoingItems: [],\n    initialStateHash: null\n  }\n\n  initialized = false\n\n  init() {\n    if (this.initialized || !this.props.user || this.props.user.id == null) {\n      return\n    }\n    this.initialized = true\n    this.canRead = operationAllowed({ user: this.props.user, op: 'read', res: 'bot.middleware.list' })\n    this.canEdit = operationAllowed({ user: this.props.user, op: 'write', res: 'bot.middleware.customizations' })\n\n    if (this.canRead) {\n      axios.get('/api/middlewares').then(({ data }) => this.setMiddlewares(data))\n    }\n  }\n\n  componentDidMount() {\n    this.init()\n  }\n\n  componentDidUpdate() {\n    this.init()\n  }\n\n  getStateHash() {\n    let hash = ''\n    this.state.incomingItems.forEach(m => {\n      const middleware = _.find(this.state.incoming, { name: m })\n      hash += m + ':' + middleware.enabled + ' '\n    })\n    this.state.outgoingItems.forEach(m => {\n      const middleware = _.find(this.state.outgoing, { name: m })\n      hash += m + ':' + middleware.enabled + ' '\n    })\n    return hash\n  }\n\n  setMiddlewares(middlewares) {\n    const incoming = _.filter(middlewares, { type: 'incoming' })\n    const outgoing = _.filter(middlewares, { type: 'outgoing' })\n    const incomingItems = _.map(incoming, i => i.name)\n    const outgoingItems = _.map(outgoing, i => i.name)\n\n    this.setState({\n      loading: false,\n      incoming,\n      outgoing,\n      incomingItems,\n      outgoingItems,\n      initialIncomingOrder: incomingItems.join(' '),\n      initialOutgoingOrder: outgoingItems.join(' ')\n    })\n\n    setImmediate(() => this.setState({ initialStateHash: this.getStateHash() }))\n  }\n\n  handleSort = type => data => {\n    if (data.items) {\n      this.setState({ [type + 'Items']: data.items })\n    }\n\n    if (typeof data.draggingIndex !== 'undefined') {\n      this.setState({ [type + 'DragIndex']: data.draggingIndex })\n    }\n  }\n\n  renderSortable(type) {\n    const itemsKey = type + 'Items'\n    const items = this.state[itemsKey]\n    const dragIndexKey = type + 'DragIndex'\n\n    if (!items) {\n      return null\n    }\n\n    return items.map((item, i) => {\n      const middleware = _.find(this.state[type], { name: item })\n      const currentlyDragging = this.state[dragIndexKey] === i\n      const className = classnames({\n        [style.dragging]: currentlyDragging\n      })\n      const readOnly = !this.canEdit\n\n      const innerComponent = (\n        <MiddlewareComponent\n          readOnly={readOnly}\n          toggleEnabled={readOnly ? null : this.toggleEnabled(item, type)}\n          middleware={middleware}\n          className={className}\n        />\n      )\n\n      if (readOnly) {\n        return (\n          <ListItem key={i} outline=\"list\">\n            {innerComponent}\n          </ListItem>\n        )\n      } else {\n        return (\n          <SortableListItem\n            key={i}\n            updateState={this.handleSort(type)}\n            items={items}\n            draggingIndex={this.state[dragIndexKey]}\n            sortId={i}\n            outline=\"list\"\n          >\n            {innerComponent}\n          </SortableListItem>\n        )\n      }\n    })\n  }\n\n  isDirty() {\n    return this.state.initialStateHash !== null && this.state.initialStateHash !== this.getStateHash()\n  }\n\n  renderIsDirty() {\n    const classNames = classnames('bp-button', style.saveButton, this.isDirty() ? style.dirty : null)\n\n    return (\n      <button className={classNames} onClick={this.saveChanges}>\n        Save\n      </button>\n    )\n  }\n\n  saveChanges = () => {\n    this.setState({ loading: true })\n\n    const middlewares = []\n\n    if (this.props.type === 'incoming') {\n      this.state.incomingItems.forEach((item, i) => {\n        const middleware = _.find(this.state.incoming, { name: item })\n        middlewares.push({ name: item, order: i, enabled: middleware.enabled })\n      })\n    } else {\n      this.state.outgoingItems.forEach((item, i) => {\n        const middleware = _.find(this.state.outgoing, { name: item })\n        middlewares.push({ name: item, order: i, enabled: middleware.enabled })\n      })\n    }\n\n    axios.post('/api/middlewares/customizations', { middlewares }).then(({ data }) => this.setMiddlewares(data))\n  }\n\n  toggleEnabled(middleware, type) {\n    return () => {\n      const newProp = _.map(this.state[type], m => {\n        if (m.name === middleware) {\n          return Object.assign({}, m, { enabled: !m.enabled })\n        }\n\n        return m\n      })\n\n      this.setState({ [type]: newProp })\n    }\n  }\n\n  renderIncoming() {\n    const tooltip = (\n      <Tooltip id=\"header-incoming-tooltip\">\n        An incoming middleware is a message processor&nbsp; that has the potential to track, alter or swallow\n        messages.&nbsp; Usually, messages are put (sent) into the incoming middleware queue&nbsp; by{' '}\n        <strong>connector modules</strong> such as Facebook Messenger, Slack...\n      </Tooltip>\n    )\n\n    const title = 'Incoming middleware'\n\n    return this.renderList('incoming', title, tooltip)\n  }\n\n  renderOutgoing() {\n    const tooltip = (\n      <Tooltip id=\"header-outgoing-tooltip\">\n        An outgoing middleware is a message processor&nbsp; that has the potential to track, alter or swallow messages\n        to be sent.&nbsp; Usually, messages are put (sent) into the outgoing middleware queue by user code or incoming\n        modules.&nbsp;\n        <strong>Connector modules</strong> are in charge of sending the messages to the users, thus they should&nbsp;\n        usually be placed at the end of the chain.\n      </Tooltip>\n    )\n\n    const title = 'Outgoing middleware'\n\n    return this.renderList('outgoing', title, tooltip)\n  }\n\n  renderList(type, title, tooltip) {\n    return (\n      <ListGroup className={classnames(style.middlewareList, 'bp-middleware-list')}>\n        <ListGroupItem>\n          <div className={classnames(style.header, 'bp-header')}>\n            {this.renderIsDirty()}\n            <h4>{title}</h4>\n            <OverlayTrigger placement=\"right\" overlay={tooltip}>\n              <a className={classnames(style.help, 'bp-help')}>what&apos;s this?</a>\n            </OverlayTrigger>\n          </div>\n        </ListGroupItem>\n        {this.renderSortable(type)}\n        <ListGroupItem>\n          <div className={style.footer} />\n        </ListGroupItem>\n      </ListGroup>\n    )\n  }\n\n  render() {\n    if (this.state.loading || !this.initialized) {\n      return null\n    }\n\n    return this.props.type === 'incoming' ? this.renderIncoming() : this.renderOutgoing()\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n})\n\nexport default connect(mapStateToProps)(Middlewares)\n","import React from 'react'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport MiddlewaresComponent from '~/components/Middlewares'\n\nimport Markdown from 'react-markdown'\n\nimport { Grid, Row, Col, Panel } from 'react-bootstrap'\n\nconst style = require('./style.scss')\n\nconst documentation = `\n  #### **Documentation**\n\n  A middleware chain is simply a collection of middleware functions that are called in a predertermined order.\n\n  Every middleware has to be registered to appear and you will be able to  do so with\n  the \\`bp.middlewares.register()\\` method.\n\n  For more details about middleware, look at the [documentation](https://botpress.io/docs/advanced/middleware.html).\n\n  ##### **Ordering middleware**\n\n  All middleware functions that are registered (usually every modules are registered in their initialization).\n  You must load them using \\`bp.middlewares.load()\\` in your \\`index.js\\`, which will create the incoming\n  and outgoing chains automatically.\n\n  By default, middleware functions are ordered by ascending order according to their \\`order\\` property\n  set on registration. The order can then be manually overwritten here by using **drag-n-drop**.\n\n  You can also re-order them programmatically using middleware function customizations.\n  `\n\nexport default class ManageView extends React.Component {\n  state = {\n    collapse: true\n  }\n\n  getDocumentation() {\n    if (this.state.collapse) {\n      return documentation.substring(0, 194) + '...'\n    }\n    return documentation\n  }\n\n  getReadMore() {\n    return this.state.collapse ? 'Read more' : 'Hide'\n  }\n\n  handleReadMore = event => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    this.setState({\n      collapse: !this.state.collapse\n    })\n  }\n\n  render() {\n    return (\n      <ContentWrapper>\n        <PageHeader>\n          <span> Middleware</span>\n        </PageHeader>\n        <Grid fluid>\n          <Row>\n            <Panel className={style.documentation}>\n              <Panel.Body>\n                <Row className={style.explication}>\n                  <Col sm={12}>\n                    <Markdown source={this.getDocumentation()} />\n                    <div>\n                      <a href=\"#\" onClick={this.handleReadMore}>\n                        {this.getReadMore()}\n                      </a>\n                    </div>\n                  </Col>\n                </Row>\n              </Panel.Body>\n            </Panel>\n          </Row>\n          <Row>\n            <Col sm={12} md={6} mdOffset={0}>\n              <MiddlewaresComponent type=\"incoming\" />\n            </Col>\n            <Col sm={12} md={6} mdOffset={0}>\n              <MiddlewaresComponent type=\"outgoing\" />\n            </Col>\n          </Row>\n        </Grid>\n      </ContentWrapper>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__modules___2eHHc {\\n  margin-left: 12%;\\n  margin-right: 12%; }\\n\\n.style__tags___22VIO {\\n  text-align: center;\\n  margin-top: 10px;\\n  margin-bottom: 25px; }\\n\\n.style__tag___30vZT {\\n  margin: 5px;\\n  border-radius: 20px; }\\n\\n.style__search___Yrj2R {\\n  max-width: 400px;\\n  margin: auto; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"modules\": \"style__modules___2eHHc\",\n\t\"tags\": \"style__tags___22VIO\",\n\t\"tag\": \"style__tag___30vZT\",\n\t\"search\": \"style__search___Yrj2R\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Grid, Row, Col, FormGroup, FormControl, Button } from 'react-bootstrap'\n\nimport _ from 'lodash'\nimport axios from 'axios'\nimport classnames from 'classnames'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport ModulesComponent from '~/components/Modules'\nimport { fetchModules } from '~/actions'\n\nconst style = require('./style.scss')\n\nconst DEFAULT_TAG = 'All'\n\nclass ManageView extends React.Component {\n  state = {\n    modules: [],\n    tags: [DEFAULT_TAG, 'Connector', 'Analytics', 'Marketing', 'NLP', 'Others'],\n    tag: DEFAULT_TAG,\n    search: '',\n    loading: true\n  }\n\n  componentDidMount() {\n    this.queryModules()\n  }\n\n  queryModules() {\n    this.setState({ loading: true })\n\n    return axios\n      .get('/api/module/all')\n      .then(result => this.setState({ modules: result.data }))\n      .finally(() => this.setState({ loading: false }))\n  }\n\n  refresh = () => {\n    this.queryModules()\n    this.props.fetchModules()\n  }\n\n  getResultFromSearch(modules) {\n    const result = []\n\n    modules.forEach(m => {\n      const search = [m.name, m.description, m.author].join(' ').toLowerCase()\n\n      if (_.includes(search, this.state.search)) {\n        result.push(m)\n      }\n    })\n\n    return result\n  }\n\n  getResultFromCategory(modules) {\n    if (this.state.tag === DEFAULT_TAG) {\n      return modules\n    }\n\n    return _.filter(modules, m => m.category === _.lowerCase(this.state.tag))\n  }\n\n  handleSearchChange = event => {\n    this.setState({\n      tag: DEFAULT_TAG,\n      search: _.lowerCase(event.target.value)\n    })\n  }\n\n  handleChangeCategory(event, label) {\n    this.setState({\n      tag: label\n    })\n  }\n\n  renderSearch() {\n    const classNames = classnames(style.search, 'bp-search')\n\n    return (\n      <Row>\n        <Col sm={12}>\n          <FormGroup>\n            <FormControl\n              id=\"search\"\n              type=\"text\"\n              placeholder=\"Search\"\n              className={classNames}\n              onChange={this.handleSearchChange}\n            />\n          </FormGroup>\n        </Col>\n      </Row>\n    )\n  }\n\n  renderTag = label => {\n    const handleChange = event => {\n      this.handleChangeCategory(event, label)\n    }\n\n    const classNames = classnames({\n      ['bp-button']: true,\n      [style.tag]: true,\n      ['bp-button-tag']: true,\n      ['bp-button-default']: label !== this.state.tag\n    })\n\n    return (\n      <Button key={label} className={classNames} onClick={handleChange}>\n        {label}\n      </Button>\n    )\n  }\n\n  renderTags() {\n    return (\n      <Row>\n        <Col sm={12} className={style.tags}>\n          {this.state.tags.map(this.renderTag)}\n        </Col>\n      </Row>\n    )\n  }\n\n  renderModules() {\n    let modules = this.state.modules\n\n    if (this.state.search) {\n      modules = this.getResultFromSearch(modules)\n    }\n\n    modules = this.getResultFromCategory(modules)\n\n    const splitOn = _.floor((_.size(modules) + 1) / 2)\n    const [first, second] = _.chunk(modules, splitOn)\n\n    return (\n      <Row>\n        <Col sm={6}>\n          <ModulesComponent modules={first} refresh={this.refresh} />\n        </Col>\n        <Col sm={6}>\n          <ModulesComponent modules={second} refresh={this.refresh} />\n        </Col>\n      </Row>\n    )\n  }\n\n  render() {\n    if (this.state.loading) {\n      return null\n    }\n\n    return (\n      <ContentWrapper>\n        <PageHeader>\n          <span> Modules</span>\n        </PageHeader>\n        <Grid fluid>\n          <Row>\n            <Col sm={12} md={10} mdOffset={1}>\n              {this.renderSearch()}\n              {this.renderTags()}\n              {this.renderModules()}\n            </Col>\n          </Row>\n        </Grid>\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapDispatchToProps = { fetchModules }\n\nexport default connect(null, mapDispatchToProps)(ManageView)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@keyframes style__rays___1yjcf {\\n  from {\\n    transform: rotate(0deg); }\\n  to {\\n    transform: rotate(360deg); } }\\n\\n.style__root___1ghQ1 h4 {\\n  font-size: 20px; }\\n\\n.style__username___32Nxc {\\n  color: #58d1b0;\\n  font-weight: 500; }\\n\\n.style__heroContainer___brEq2 {\\n  position: relative; }\\n\\n.style__heroInfo___3gOBf {\\n  position: absolute;\\n  display: inline;\\n  top: 10px;\\n  right: 10px;\\n  z-index: 5;\\n  color: #bee6db;\\n  font-size: 12px; }\\n\\n.style__contribution___3Pruh {\\n  position: relative;\\n  height: 255px;\\n  text-align: center;\\n  overflow: hidden; }\\n  .style__contribution___3Pruh .panel-body {\\n    padding: 0;\\n    height: 100%; }\\n  .style__contribution___3Pruh .style__raysAnim___3Rwa- {\\n    height: 400%;\\n    width: 250%;\\n    margin-top: -25%;\\n    margin-left: -75%;\\n    transform-origin: center center;\\n    animation: style__rays___1yjcf 60s infinite linear; }\\n    .style__contribution___3Pruh .style__raysAnim___3Rwa- .style__rays___1yjcf {\\n      height: 100%;\\n      background: url(/img/rays.png) no-repeat;\\n      background-size: cover;\\n      opacity: 0.05; }\\n  .style__contribution___3Pruh .style__contributionContent___3WEds {\\n    width: 100%;\\n    text-align: center;\\n    line-height: 25px;\\n    position: absolute;\\n    padding: 15px;\\n    top: 50%;\\n    transform: translateY(-50%); }\\n    .style__contribution___3Pruh .style__contributionContent___3WEds img {\\n      background-color: lightgrey;\\n      height: 70px;\\n      width: 70px;\\n      margin-bottom: 30px;\\n      border-radius: 5px; }\\n    .style__contribution___3Pruh .style__contributionContent___3WEds strong {\\n      font-weight: bolder; }\\n    .style__contribution___3Pruh .style__contributionContent___3WEds p {\\n      margin: 0; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"root\": \"style__root___1ghQ1\",\n\t\"username\": \"style__username___32Nxc\",\n\t\"heroContainer\": \"style__heroContainer___brEq2\",\n\t\"heroInfo\": \"style__heroInfo___3gOBf\",\n\t\"contribution\": \"style__contribution___3Pruh\",\n\t\"raysAnim\": \"style__raysAnim___3Rwa-\",\n\t\"rays\": \"style__rays___1yjcf\",\n\t\"contributionContent\": \"style__contributionContent___3WEds\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport { OverlayTrigger, Tooltip, Panel } from 'react-bootstrap'\n\nimport _ from 'lodash'\nimport classnames from 'classnames'\nimport axios from 'axios'\n\nimport style from './style.scss'\n\nexport default class HeroComponent extends React.Component {\n  state = {\n    loading: true\n  }\n\n  componentDidMount() {\n    this.queryHero().then(() => {\n      this.setState({ loading: false })\n    })\n  }\n\n  queryHero() {\n    return axios.get('/api/module/hero').then(result => {\n      this.setState({\n        ...result.data\n      })\n    })\n  }\n\n  renderUsername() {\n    return (\n      <a className={(style.username, 'bp-username')} href={this.state.github} target=\"_blank\">\n        {this.state.username}\n      </a>\n    )\n  }\n\n  renderPhrase() {\n    const { module: m, contributions: c } = this.state\n\n    const utterances = [\n      <h4>\n        Shout out to {this.renderUsername()} for being awesome and contributing {c} commits to <b>{m}</b>\n      </h4>,\n      <h4>\n        Did you know that without {this.renderUsername()}, <b>{m}</b> wouldn't be the same ?\n      </h4>,\n      <h4>\n        {this.renderUsername()} is one of the heroes behind <b>{m}</b>.\n      </h4>,\n      <h4>The world needs more people like {this.renderUsername()}. You're awesome for contributing to botpress!</h4>\n    ]\n\n    return _.sample(utterances)\n  }\n\n  render() {\n    if (this.state.loading) {\n      return null\n    }\n\n    const heroTooltip = (\n      <Tooltip id=\"heroTooltip\">\n        These are people randomly selected from the list of contributors&nbsp; to various open-source components of the\n        botpress ecosystem.&nbsp; We feel they deserve to be publicly recognized for their contributions.\n      </Tooltip>\n    )\n\n    return (\n      <div className={classnames(style.heroContainer, 'bp-hero')}>\n        <div className={classnames(style.heroInfo, 'bp-info')}>\n          <OverlayTrigger placement=\"left\" overlay={heroTooltip}>\n            <i className=\"material-icons\">info</i>\n          </OverlayTrigger>\n        </div>\n        <Panel className={classnames(style.contribution, 'bp-contribution')}>\n          <Panel.Body>\n            <div className={classnames(style.raysAnim, 'bp-rays-anim')}>\n              <div className={classnames(style.rays, 'bp-rays')} />\n            </div>\n            <div className={classnames(style.root, 'bp-root')}>\n              <div className={classnames(style.contributionContent, 'bp-content')}>\n                <img src={this.state.avatar} />\n                {this.renderPhrase()}\n              </div>\n            </div>\n          </Panel.Body>\n        </Panel>\n      </div>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__information___19xGY {\\n  height: 255px;\\n  padding: 15px 25px 15px 25px;\\n  position: relative; }\\n\\n.style__informationName___2lyFe {\\n  font-size: 28px;\\n  margin-top: 5px;\\n  margin-bottom: 20px;\\n  color: #434343; }\\n\\n.style__informationDescription___ZfSu- {\\n  color: #999;\\n  font-weight: lighter; }\\n\\n.style__informationAuthor___KRA0K strong {\\n  font-weight: bolder; }\\n\\n.style__informationVersion___34VMS {\\n  color: #999;\\n  margin-bottom: 5px; }\\n\\n.style__informationLicense___g4yLA a:hover {\\n  color: #58d1b0; }\\n\\n.style__whereFrom___1KSPf {\\n  position: absolute;\\n  bottom: 5px;\\n  right: 15px;\\n  font-size: 12px;\\n  color: #bfbfbf; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"information\": \"style__information___19xGY\",\n\t\"informationName\": \"style__informationName___2lyFe\",\n\t\"informationDescription\": \"style__informationDescription___ZfSu-\",\n\t\"informationAuthor\": \"style__informationAuthor___KRA0K\",\n\t\"informationVersion\": \"style__informationVersion___34VMS\",\n\t\"informationLicense\": \"style__informationLicense___g4yLA\",\n\t\"whereFrom\": \"style__whereFrom___1KSPf\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { Panel } from 'react-bootstrap'\nimport classnames from 'classnames'\nimport { toggleLicenseModal } from '~/actions'\n\nconst style = require('./style.scss')\n\nclass InformationComponent extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  state = {\n    loading: true\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: false\n    })\n  }\n\n  openLicenseComponent = () => {\n    this.props.toggleLicenseModal()\n  }\n\n  render() {\n    if (this.state.loading) {\n      return null\n    }\n\n    return (\n      <Panel className={classnames(style.information, 'bp-info')}>\n        <Panel.Body>\n          <h3 className={classnames(style.informationName, 'bp-name')}>{this.props.botInformation.name}</h3>\n          <p className={classnames(style.informationDescription, 'bp-description')}>\n            {this.props.botInformation.description}\n          </p>\n          <p className={classnames(style.informationAuthor, 'bp-author')}>\n            Created by <strong>{this.props.botInformation.author}</strong>\n          </p>\n          <p className={classnames(style.informationVersion, 'bp-version')}>\n            Version {this.props.botInformation.version}\n          </p>\n          <p className={classnames(style.informationLicense, 'bp-license')}>\n            Licensed under{' '}\n            <a href=\"#\" onClick={this.openLicenseComponent}>\n              {this.props.botInformation.license}\n            </a>\n          </p>\n          <div className={classnames(style.whereFrom, 'bp-where-from')}>Info extracted from package.json</div>\n        </Panel.Body>\n      </Panel>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ botInformation: state.bot })\nconst mapDispatchToProps = dispatch => bindActionCreators({ toggleLicenseModal }, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InformationComponent)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__modulePanel___1LqhE {\\n  border-style: solid;\\n  border-width: 1px;\\n  border-radius: 5px;\\n  border-color: #efefef;\\n  position: relative; }\\n  .style__modulePanel___1LqhE > div {\\n    padding: 15px 10px; }\\n\\na {\\n  color: #999; }\\n\\n.style__moduleTitle___5Zes8 {\\n  color: #2e948f;\\n  margin-top: 0px;\\n  margin-bottom: 15px;\\n  font-size: 20px; }\\n  .style__moduleTitle___5Zes8 i {\\n    vertical-align: bottom;\\n    padding-right: 10px; }\\n\\n.style__moduleDescription___psceJ {\\n  color: gray;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap; }\\n\\n.style__moduleAuthor___o-dV0 {\\n  margin-bottom: 2px; }\\n\\n.style__moduleLicense___1IVXo {\\n  color: lightgray;\\n  font-size: small;\\n  margin-bottom: 0px; }\\n\\n.style__moduleRightSide___2Le6T {\\n  position: inherit; }\\n\\n.style__moduleIcons___3KEIE {\\n  text-align: right;\\n  font-size: 16px; }\\n  .style__moduleIcons___3KEIE i {\\n    color: gray;\\n    vertical-align: top;\\n    font-size: 20px;\\n    padding-right: 5px; }\\n\\n.style__moduleButton___2Udqs {\\n  position: absolute;\\n  bottom: 0px;\\n  right: 0px;\\n  margin-bottom: 15px;\\n  margin-right: 15px; }\\n  .style__moduleButton___2Udqs button.style__uninstall___8fjdp {\\n    background-color: #b1b1b1; }\\n    .style__moduleButton___2Udqs button.style__uninstall___8fjdp:hover {\\n      background-color: #a5a5a5; }\\n\\n.style__customIcon___2RKwJ {\\n  width: 28px;\\n  height: 18px;\\n  padding-right: 10px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"modulePanel\": \"style__modulePanel___1LqhE\",\n\t\"moduleTitle\": \"style__moduleTitle___5Zes8\",\n\t\"moduleDescription\": \"style__moduleDescription___psceJ\",\n\t\"moduleAuthor\": \"style__moduleAuthor___o-dV0\",\n\t\"moduleLicense\": \"style__moduleLicense___1IVXo\",\n\t\"moduleRightSide\": \"style__moduleRightSide___2Le6T\",\n\t\"moduleIcons\": \"style__moduleIcons___3KEIE\",\n\t\"moduleButton\": \"style__moduleButton___2Udqs\",\n\t\"uninstall\": \"style__uninstall___8fjdp\",\n\t\"customIcon\": \"style__customIcon___2RKwJ\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".PageHeader__header___2Gzr5 {\\n  position: fixed;\\n  top: 0;\\n  left: 220px;\\n  height: 50px;\\n  padding: 10px;\\n  z-index: 20;\\n  line-height: 30px;\\n  color: #999;\\n  font-size: 18px; }\\n  .PageHeader__header___2Gzr5 .PageHeader__icon___2_tXO {\\n    font-size: 14px;\\n    margin: 0 5px;\\n    color: #434343; }\\n  .PageHeader__header___2Gzr5 a {\\n    color: #bfbfbf; }\\n\\n.PageHeader__header___2Gzr5 .glyphicon {\\n  margin: 0 5px;\\n  font-size: 14px;\\n  line-height: 30px; }\\n\\n.PageHeader__noSidebar___2udZq {\\n  left: 10px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"header\": \"PageHeader__header___2Gzr5\",\n\t\"icon\": \"PageHeader__icon___2_tXO\",\n\t\"noSidebar\": \"PageHeader__noSidebar___2udZq\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./PageHeader.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./PageHeader.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./PageHeader.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ContentWrapper__contentWrapper___16hI9 {\\n  padding: 0;\\n  margin: 0;\\n  opacity: 0;\\n  visibility: hidden; }\\n\\n.ContentWrapper__contentWrapperPadding___3SipB {\\n  padding: 20px 40px; }\\n\\n.ContentWrapper__contentWrapper___16hI9.ContentWrapper__show___7b3e3 {\\n  opacity: 1;\\n  visibility: visible; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"contentWrapper\": \"ContentWrapper__contentWrapper___16hI9\",\n\t\"contentWrapperPadding\": \"ContentWrapper__contentWrapperPadding___3SipB\",\n\t\"show\": \"ContentWrapper__show___7b3e3\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./ContentWrapper.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./ContentWrapper.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./ContentWrapper.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { Panel, Grid, Row, Col } from 'react-bootstrap'\n\nimport axios from 'axios'\nimport _ from 'lodash'\nimport Promise from 'bluebird'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PermissionsChecker, { operationAllowed } from '~/components/Layout/PermissionsChecker'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport ModulesComponent from '~/components/Modules'\nimport InformationComponent from '~/components/Information'\nimport HeroComponent from '~/components/Hero'\n\nclass Dashboard extends React.Component {\n  state = {\n    loading: true,\n    popularModules: [],\n    featuredModules: [],\n    hiddenHeroSection: true\n  }\n\n  initialized = false\n\n  init() {\n    if (this.initialized || !this.props.user || this.props.user.id == null) {\n      return\n    }\n\n    this.initialized = true\n    this.queryAllModules().finally(() => this.setState({ loading: false }))\n  }\n\n  componentDidMount() {\n    this.init()\n    this.fetchHeroConfig()\n  }\n\n  componentDidUpdate() {\n    this.init()\n  }\n\n  queryAllModules() {\n    if (!operationAllowed({ user: this.props.user, op: 'read', res: 'bot.modules.list.community' })) {\n      return Promise.resolve()\n    }\n    return axios.get('/api/module/all').then(result =>\n      this.setState({\n        popularModules: _.filter(result.data, m => m.popular),\n        featuredModules: _.filter(result.data, m => m.featured)\n      })\n    )\n  }\n\n  fetchHeroConfig() {\n    axios\n      .get('/api/community/hero')\n      .then(({ data: { hidden: hiddenHeroSection } }) => this.setState({ hiddenHeroSection }))\n  }\n\n  renderPopularModules() {\n    return (\n      <PermissionsChecker user={this.props.user} op=\"read\" res=\"bot.modules.list.community\">\n        <Panel>\n          <Panel.Heading>Popular modules</Panel.Heading>\n          <Panel.Body>\n            <ModulesComponent modules={this.state.popularModules} refresh={this.refresh} />\n          </Panel.Body>\n        </Panel>\n      </PermissionsChecker>\n    )\n  }\n\n  renderFeaturedModules() {\n    return (\n      <PermissionsChecker user={this.props.user} op=\"read\" res=\"bot.modules.list.community\">\n        <Panel>\n          <Panel.Heading>Featured modules</Panel.Heading>\n          <Panel.Body>\n            <ModulesComponent modules={this.state.featuredModules} refresh={this.refresh} />\n          </Panel.Body>\n        </Panel>\n      </PermissionsChecker>\n    )\n  }\n\n  hero() {\n    const { hiddenHeroSection } = this.state\n\n    return !hiddenHeroSection ? (\n      <Col xs={12} sm={8} md={4} smOffset={2} mdOffset={0}>\n        <HeroComponent />\n      </Col>\n    ) : null\n  }\n\n  render() {\n    const { hiddenHeroSection, loading } = this.state\n\n    if (loading || !this.initialized) {\n      return null\n    }\n\n    return (\n      <ContentWrapper>\n        <PageHeader>\n          <span> Dashboard</span>\n        </PageHeader>\n        <Grid fluid className={'bp-dashboard'}>\n          <Row>\n            <Col sm={12} md={hiddenHeroSection ? 12 : 8}>\n              <InformationComponent />\n            </Col>\n            {this.hero()}\n          </Row>\n          <Row>\n            <Col sm={12} md={6}>\n              {this.renderPopularModules()}\n            </Col>\n            <Col sm={12} md={6}>\n              {this.renderFeaturedModules()}\n            </Col>\n          </Row>\n        </Grid>\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n})\n\nexport default connect(mapStateToProps)(Dashboard)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Modal, Button, Radio, OverlayTrigger, Tooltip, Panel, Well, Alert } from 'react-bootstrap'\nimport Select from 'react-select'\nimport Promise from 'bluebird'\nimport classnames from 'classnames'\n\nimport Loading from '~/components/Util/Loading'\nimport CreateOrEditModal from '../CreateOrEditModal'\nimport { fetchContentItemsRecent, fetchContentItemsCount, fetchContentCategories, upsertContentItem } from '~/actions'\nimport { moveCursorToEnd } from '~/util'\n\nconst style = require('./style.scss')\n\nconst SEARCH_RESULTS_LIMIT = 5\n\nconst formSteps = {\n  INITIAL: 0,\n  PICK_CATEGORY: 1,\n  MAIN: 2\n}\n\nclass SelectContent extends Component {\n  constructor(props) {\n    super(props)\n\n    const { categoryId = null } = props\n\n    this.state = {\n      show: true,\n      categoryId,\n      hideCategoryInfo: !!categoryId,\n      activeItemIndex: 0,\n      step: categoryId ? formSteps.MAIN : formSteps.INITIAL,\n      newItemCategory: null,\n      searchTerm: '',\n      newItemData: null\n    }\n  }\n\n  componentDidMount() {\n    this.searchContentItems()\n    this.fetchContentItemsCount()\n    this.props.fetchContentCategories()\n\n    this.props.container.addEventListener('keyup', this.handleChangeActiveItem)\n  }\n\n  componentWillReceiveProps(newProps) {\n    const { categories } = newProps\n    if (!categories || this.state.step !== formSteps.INITIAL || this.state.categoryId) {\n      return\n    }\n\n    this.setState({\n      step: categories.length > 1 ? formSteps.PICK_CATEGORY : formSteps.MAIN\n    })\n  }\n\n  searchContentItems() {\n    return this.props.fetchContentItemsRecent({\n      count: SEARCH_RESULTS_LIMIT,\n      searchTerm: this.state.searchTerm,\n      categoryId: this.state.categoryId || 'all'\n    })\n  }\n\n  fetchContentItemsCount() {\n    return this.props.fetchContentItemsCount(this.state.categoryId)\n  }\n\n  handleChangeActiveItem = e => {\n    const index = this.state.activeItemIndex\n    if (e.key === 'ArrowUp') {\n      this.setState({ activeItemIndex: index > 0 ? index - 1 : index })\n    } else if (e.key === 'ArrowDown') {\n      const { contentItems } = this.props\n      const itemsCount = contentItems ? contentItems.length : 0\n      this.setState({ activeItemIndex: index < itemsCount - 1 ? index + 1 : index })\n    } else if (e.key === 'Enter' && this.state.step === formSteps.PICK_CATEGORY) {\n      this.setCurrentCategory(this.props.categories[this.state.activeItemIndex].id)\n    } else if (e.key === 'Enter') {\n      this.handlePick(this.props.contentItems[this.state.activeItemIndex])\n    }\n  }\n\n  onSearchChange = event => {\n    const newSearchTerm = event.target.value\n    const { searchTerm } = this.state\n    if (newSearchTerm === searchTerm) {\n      return\n    }\n    this.setState({ searchTerm: newSearchTerm }, () => {\n      this.searchContentItems().then(() => this.setState({ activeItemIndex: 0 }))\n    })\n  }\n\n  handleCreate = () => {\n    this.props\n      .upsertContentItem({\n        categoryId: this.state.newItemCategory.id,\n        formData: this.state.newItemData\n      })\n      .then(this.resetCreateContent(true))\n      .then(() => Promise.all([this.searchContentItems(), this.fetchContentItemsCount()]))\n  }\n\n  handlePick(item) {\n    this.props.onSelect && this.props.onSelect(item)\n    this.onClose()\n  }\n\n  handleFormEdited = data => {\n    this.setState({ newItemData: data })\n  }\n\n  resetCreateContent = (resetSearch = false) => response => {\n    const item = Object.assign(this.state.newItemData, { id: response.data })\n    const stateUpdate = { newItemCategory: null, newItemData: null }\n    if (resetSearch) {\n      Object.assign(stateUpdate, {\n        searchTerm: '',\n        activeItemIndex: 0\n      })\n    }\n    return new Promise(resolve =>\n      this.setState(stateUpdate, () => {\n        this.handlePick(item)\n        resolve()\n      })\n    )\n  }\n\n  onClose = () => {\n    this.setState({ show: false }, () => {\n      this.props.onClose && this.props.onClose()\n    })\n  }\n\n  getVisibleCategories() {\n    const { categories } = this.props\n    if (!categories) {\n      return []\n    }\n\n    const { categoryId } = this.state\n    return categoryId ? categories.filter(({ id }) => id === categoryId) : categories\n  }\n\n  setCurrentCategory(categoryId) {\n    this.setState({ categoryId }, () => {\n      Promise.all([this.searchContentItems(), this.fetchContentItemsCount()]).then(() =>\n        this.setState({ step: formSteps.MAIN })\n      )\n    })\n  }\n\n  renderCategoryPicker() {\n    const { categories } = this.props\n    return (\n      <div>\n        <strong>Search in:</strong>\n        <div className=\"list-group\">\n          <a href=\"#\" onClick={() => this.setCurrentCategory(null)} className=\"list-group-item list-group-item-action\">\n            All\n          </a>\n          {categories.map((category, i) => (\n            <a\n              href=\"#\"\n              key={i}\n              onClick={() => this.setCurrentCategory(category.id)}\n              className={classnames('list-group-item', 'list-group-item-action', {\n                active: i === this.state.activeItemIndex\n              })}\n            >\n              {category.title}\n            </a>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  resetCurrentCategory = () => {\n    this.setState({ categoryId: null, step: formSteps.PICK_CATEGORY })\n  }\n\n  renderCurrentCategoryInfo() {\n    const { categories } = this.props\n    const { hideCategoryInfo } = this.state\n    if (hideCategoryInfo || !categories || categories.length < 2) {\n      return null\n    }\n\n    const { categoryId } = this.state\n    const title = categoryId ? categories.find(({ id }) => id === categoryId).title : 'All'\n\n    return (\n      <p>\n        Currently Searching in: <strong>{title}</strong>.&nbsp;\n        <button className=\"btn btn-warning btn-sm\" onClick={this.resetCurrentCategory}>\n          Change\n        </button>\n      </p>\n    )\n  }\n\n  getSearchDescription() {\n    const { categories } = this.props\n    const { categoryId } = this.state\n    const title = categoryId ? categories.find(({ id }) => id === categoryId).title : 'all content elements'\n    return `Search ${title} (${this.props.itemsCount})`\n  }\n\n  renderMainBody() {\n    const categories = this.getVisibleCategories()\n\n    if (!categories.length) {\n      return (\n        <Alert bsStyle=\"warning\">\n          <strong>We think you don&apos;t have any content types defined.</strong> Please&nbsp;\n          <a href=\"https://botpress.io/docs/foundamentals/content/\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <strong>read the docs</strong>\n          </a>\n          &nbsp;to see how you can make use of this feature.\n        </Alert>\n      )\n    }\n\n    return (\n      <div>\n        {this.renderCurrentCategoryInfo()}\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          placeholder={this.getSearchDescription()}\n          aria-label=\"Search content elements\"\n          onChange={this.onSearchChange}\n          autoFocus\n          value={this.state.searchTerm}\n        />\n        <hr />\n        <div className=\"list-group\">\n          {categories.map((category, i) => (\n            <a\n              href=\"#\"\n              key={i}\n              onClick={() => this.setState({ newItemCategory: category, newItemData: null })}\n              className={`list-group-item list-group-item-action ${style.createItem}`}\n            >\n              Create new {category.title}\n            </a>\n          ))}\n          {this.props.contentItems.map((contentItem, i) => (\n            <a\n              href=\"#\"\n              key={i}\n              className={`list-group-item list-group-item-action ${i === this.state.activeItemIndex ? 'active' : ''}`}\n              onClick={() => this.handlePick(contentItem)}\n            >\n              {`[${contentItem.categoryId}] ${contentItem.previewText}`}\n            </a>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  renderBody() {\n    if (this.state.step === formSteps.INITIAL) {\n      return <Loading />\n    } else if (this.state.step === formSteps.PICK_CATEGORY) {\n      return this.renderCategoryPicker()\n    }\n    return this.renderMainBody()\n  }\n\n  render() {\n    const { state: { newItemCategory, show }, props: { container } } = this\n    const schema = (newItemCategory || {}).schema || { json: {}, ui: {} }\n\n    return (\n      <Modal animation={false} show={show} onHide={this.onClose} container={container} style={{ zIndex: 1051 }}>\n        <Modal.Header closeButton>\n          <Modal.Title>Pick Content</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{this.renderBody()}</Modal.Body>\n\n        <CreateOrEditModal\n          show={!!newItemCategory}\n          schema={schema.json}\n          uiSchema={schema.ui}\n          handleClose={this.resetCreateContent(false)}\n          formData={this.state.newItemData}\n          handleEdit={this.handleFormEdited}\n          handleCreateOrUpdate={this.handleCreate}\n        />\n      </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  contentItems: state.content.recentItems,\n  itemsCount: state.content.itemsCount,\n  categories: state.content.categories\n})\n\nconst mapDispatchToProps = {\n  fetchContentItemsRecent,\n  fetchContentItemsCount,\n  fetchContentCategories,\n  upsertContentItem\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectContent)\n","import React, { Component } from 'react'\nimport Select from './index'\nimport nanoId from 'nanoid'\n\nclass SelectContentManager extends Component {\n  state = {\n    selects: []\n  }\n\n  constructor(props) {\n    super(props)\n\n    window.botpress = window.botpress || {}\n    window.botpress.pickContent = ({ categoryId = null } = {}, callback) => {\n      const id = nanoId()\n      const rootEl = document.createElement('DIV')\n      rootEl.setAttribute('data-select-content-container', id)\n      document.getElementById('app').appendChild(rootEl)\n      this.setState(({ selects }) => ({\n        selects: [...selects, { categoryId, callback, id, rootEl }]\n      }))\n    }\n  }\n\n  componentWillUnmount() {\n    delete window.botpress.pickContent\n  }\n\n  onClose = i => () => {\n    const { rootEl } = this.state.selects[i]\n    this.setState(\n      ({ selects }) => ({\n        selects: selects.slice(0, i).concat(selects.slice(i + 1))\n      }),\n      () => {\n        if (rootEl.parentNode) {\n          rootEl.parentNode.removeChild(rootEl)\n        }\n      }\n    )\n  }\n\n  render() {\n    const { selects } = this.state\n    return (\n      <div>\n        {selects.map(({ categoryId, callback, id, rootEl }, i) => (\n          <Select key={id} categoryId={categoryId} onSelect={callback} onClose={this.onClose(i)} container={rootEl} />\n        ))}\n      </div>\n    )\n  }\n}\n\nexport default SelectContentManager\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__body___3uwpm {\\n  font-size: 16px; }\\n  .style__body___3uwpm .style__big___a44U8 {\\n    font-size: 22px; }\\n  .style__body___3uwpm .style__emp___2sb4D {\\n    font-weight: 400; }\\n  .style__body___3uwpm .style__left___1YC2M {\\n    text-align: left; }\\n  .style__body___3uwpm li {\\n    margin: 10px 20px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"body\": \"style__body___3uwpm\",\n\t\"big\": \"style__big___a44U8\",\n\t\"emp\": \"style__emp___2sb4D\",\n\t\"left\": \"style__left___1YC2M\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import ReactEmoji from 'react-emoji'\n\nmodule.exports = (text, size = 20) => {\n  return ReactEmoji.emojify(text, {\n    emojiType: 'emojione',\n    attributes: { width: size, height: size }\n  })\n}\n","import React from 'react'\nimport { Modal, Button, Alert } from 'react-bootstrap'\nimport classnames from 'classnames'\n\nimport emojify from '~/util/Emoji'\n\nimport axios from 'axios'\nimport _ from 'lodash'\n\nimport style from './style.scss'\n\nconst STEPS_COUNT = 3\n\nexport default class GuidedTour extends React.Component {\n  state = {\n    finished: false,\n    step: 0\n  }\n\n  handleClose = () => {\n    axios.delete('/api/guided-tour').then(() => {\n      this.setState({ finished: true })\n    })\n  }\n\n  handleNext = () => {\n    if (this.state.step < STEPS_COUNT - 1) {\n      this.setState({ step: this.state.step + 1 })\n    } else {\n      this.handleClose()\n    }\n  }\n\n  handlePrevious = () => {\n    if (this.state.step > 0) {\n      this.setState({ step: this.state.step - 1 })\n    }\n  }\n\n  renderSkipButton() {\n    return (\n      <Button className=\"pull-left\" onClick={this.handleClose}>\n        Skip\n      </Button>\n    )\n  }\n\n  renderPrevButton() {\n    const disabled = this.state.step <= 0\n    return (\n      <Button disabled={disabled} onClick={this.handlePrevious}>\n        Back\n      </Button>\n    )\n  }\n\n  renderNextButton() {\n    const buttonText = this.state.step < STEPS_COUNT - 1 ? 'Next' : \"Let's start !\"\n    return (\n      <Button onClick={this.handleNext} bsStyle=\"success\">\n        {buttonText}\n      </Button>\n    )\n  }\n\n  renderStep_0() {\n    return (\n      <div>\n        <p>{emojify(':tada:', 100)}</p>\n        <p className={style.big}>Congratulations on choosing Botpress for your next bot!</p>\n        <p>\n          Botpress is the most effective way for developers to create a bot. This very short tour will help you get\n          started quickly.\n        </p>\n        <hr />\n        <p>\n          First, you should know that a Botpress bot is just a regular Node.js application. There is no black magic, and\n          everything your bot does is done either through code you write or done for you by pre-made modules (thanks to\n          our awesome community).\n        </p>\n        <p>\n          By default, your bot's entry point is the <code>index.js</code> file, but you can arrange your code base as\n          you wish. Again, <span className={style.emp}>your bot is just a regular node program.</span>\n        </p>\n      </div>\n    )\n  }\n\n  renderStep_1() {\n    return (\n      <div>\n        <p>{emojify(':package:', 100)}</p>\n        <p className={style.big}>There's a module for that.</p>\n        <p>Whenever there's a piece of functionality that you need for your bot, think modules.</p>\n        <hr />\n        <p>You can install modules via this graphical interface or from the command line interface.</p>\n        <p>\n          If there's no module for the generic feature you are looking for, please consider creating one or contributing\n          to an existing module to add that feature. Botpress relies heavily on the community to thrive. Every single\n          contribution is needed, even if it's tiny {emojify(':blush:')}!\n        </p>\n        <p>\n          Installing a module from the CLI is as simple as typing <code>npm install --save botpress-messenger</code>\n        </p>\n      </div>\n    )\n  }\n\n  renderStep_2() {\n    return (\n      <div>\n        <p>{emojify(':rocket:', 100)}</p>\n        <p className={style.big}>Before you deploy your bot...</p>\n        <ul className={style.left}>\n          <li>\n            We recommend you{' '}\n            <a target=\"_blank\" href=\"https://botpress.io/docs/foundamentals/database.html#postgres\">\n              enable the Postgres database\n            </a>{' '}\n            for production environments\n          </li>\n          <li>\n            Do <strong>not</strong> store keys, passwords or any sensitive information in your botfile. Use environment\n            variables instead.\n          </li>\n          <li>\n            Switch to the <b>Botpress License</b> (the default license is AGPL), which is 100% free for all bots and\n            more permissive than AGPL.\n          </li>\n        </ul>\n        <p>\n          Deployment tutorials are{' '}\n          <a href=\"https://botpress.io/docs/deploy/heroku/\" target=\"_blank\">\n            available here.\n          </a>\n        </p>\n      </div>\n    )\n  }\n\n  renderCurrentStep() {\n    const currentStep = Math.min(this.state.step, STEPS_COUNT - 1)\n    return this[`renderStep_${currentStep}`]()\n  }\n\n  render() {\n    const bodyStyle = classnames('text-center', style.body)\n\n    return (\n      <Modal show={!this.state.finished && this.props.opened} onHide={this.handleClose} backdrop=\"static\">\n        <Modal.Header>\n          <Modal.Title>Welcome on Botpress !</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className={bodyStyle}>{this.renderCurrentStep()}</Modal.Body>\n        <Modal.Footer>\n          {this.renderSkipButton()}\n          {this.renderPrevButton()}\n          {this.renderNextButton()}\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n","import React from 'react'\n\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { Modal } from 'react-bootstrap'\n\nimport { toggleAboutModal } from '~/actions'\n\nconst AboutComponent = props => (\n  <Modal show={props.opened} onHide={props.toggleAboutModal}>\n    <Modal.Header closeButton>\n      <Modal.Title>About Botpress</Modal.Title>\n    </Modal.Header>\n    <Modal.Body>\n      <h3>\n        Botpress <b>v{window.BOTPRESS_VERSION}</b>\n      </h3>\n      <h5>The only sane way of building great bots</h5>\n      <br />\n      Emoji provided free by <a href=\"http://emojione.com/\">EmojiOne</a>\n    </Modal.Body>\n  </Modal>\n)\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ toggleAboutModal }, dispatch)\n\nexport default connect(null, mapDispatchToProps)(AboutComponent)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".modal-dialog {\\n  width: 750px; }\\n\\n.style__textArea___qy4-D {\\n  font-size: 16px;\\n  overflow-y: scroll;\\n  width: 100%;\\n  height: 300px;\\n  border-radius: 5px;\\n  padding: 10px 20px 10px 20px;\\n  border-color: lightgrey;\\n  margin: 10px 0px 10px 0px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"textArea\": \"style__textArea___qy4-D\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Modal, Button } from 'react-bootstrap'\n\nimport style from './style.scss'\n\nclass License extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  state = {\n    loading: true\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: false\n    })\n  }\n\n  handleClose = () => {\n    this.props.toggleLicenseModal()\n  }\n\n  renderLicenseTextArea() {\n    return (\n      <div>\n        <textarea readOnly={true} className={style.textArea} value={this.props.license.text} />\n      </div>\n    )\n  }\n\n  renderCancelButton() {\n    return <Button onClick={this.handleClose}>Close</Button>\n  }\n\n  render() {\n    if (this.state.loading) {\n      return null\n    }\n\n    return (\n      <Modal show={this.props.opened} onHide={this.handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>{this.props.license.name}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{this.renderLicenseTextArea()}</Modal.Body>\n        <Modal.Footer>{this.renderCancelButton()}</Modal.Footer>\n      </Modal>\n    )\n  }\n}\n\nexport default License\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".HelpButton__container___hqLkB {\\n  position: absolute;\\n  right: 60px;\\n  bottom: 80px; }\\n\\n.HelpButton__button___31ZHt {\\n  position: relative;\\n  width: 56px;\\n  height: 56px;\\n  background-color: #242424;\\n  color: #fff;\\n  border-radius: 50%;\\n  cursor: pointer;\\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.13);\\n  transition: background-color 0.12s cubic-bezier(0.2, 0.7, 0.5, 1), box-shadow 0.12s cubic-bezier(0.2, 0.7, 0.5, 1); }\\n  .HelpButton__button___31ZHt .icon {\\n    font-size: 32px;\\n    margin: 12px; }\\n  .HelpButton__button___31ZHt:hover {\\n    background-color: #3b3b3b;\\n    box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.13); }\\n  .HelpButton__button___31ZHt .HelpButton__icon___UYWGy {\\n    position: absolute;\\n    left: 0; }\\n  .HelpButton__button___31ZHt i {\\n    transform: scale(0);\\n    opacity: 0;\\n    transition: transform 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 0ms, opacity 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 0ms; }\\n    .HelpButton__button___31ZHt i.HelpButton__show___3Y5m5 {\\n      transform: scale(1);\\n      opacity: 1; }\\n\\n.HelpButton__menu___3-P-2 ul {\\n  list-style-type: none;\\n  margin: 0;\\n  padding: 0;\\n  margin-top: -300px; }\\n\\n.HelpButton__menu___3-P-2 li {\\n  transform: scale(0.8);\\n  opacity: 0;\\n  pointer-events: none;\\n  cursor: pointer;\\n  position: absolute;\\n  width: 48px;\\n  height: 48px;\\n  right: 4px;\\n  border-radius: 50%;\\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.13); }\\n  .HelpButton__menu___3-P-2 li .icon {\\n    margin: 11px; }\\n  .HelpButton__menu___3-P-2 li.HelpButton__btn1___3p7_r {\\n    background-color: #fff;\\n    transition: background-color 0.12s, transform 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 0ms, opacity 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 0ms, bottom 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 0ms; }\\n    .HelpButton__menu___3-P-2 li.HelpButton__btn1___3p7_r a {\\n      color: #58d1b0; }\\n  .HelpButton__menu___3-P-2 li.HelpButton__btn2___1iYsn {\\n    background-color: #58d1b0;\\n    transition: background-color 0.12s, transform 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 40ms, opacity 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 40ms, bottom 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 40ms; }\\n    .HelpButton__menu___3-P-2 li.HelpButton__btn2___1iYsn:hover {\\n      background-color: #5ee1bc; }\\n    .HelpButton__menu___3-P-2 li.HelpButton__btn2___1iYsn a {\\n      color: #fff; }\\n  .HelpButton__menu___3-P-2 li.HelpButton__btn3___2V0Nb {\\n    background-color: #242424;\\n    transition: background-color 0.12s, transform 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 80ms, opacity 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 80ms, bottom 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 80ms; }\\n    .HelpButton__menu___3-P-2 li.HelpButton__btn3___2V0Nb:hover {\\n      background-color: #3b3b3b; }\\n    .HelpButton__menu___3-P-2 li.HelpButton__btn3___2V0Nb a {\\n      color: #fff; }\\n  .HelpButton__menu___3-P-2 li.HelpButton__show___3Y5m5 {\\n    opacity: 1;\\n    transform: scale(1);\\n    pointer-events: all; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"container\": \"HelpButton__container___hqLkB\",\n\t\"button\": \"HelpButton__button___31ZHt\",\n\t\"icon\": \"HelpButton__icon___UYWGy\",\n\t\"show\": \"HelpButton__show___3Y5m5\",\n\t\"menu\": \"HelpButton__menu___3-P-2\",\n\t\"btn1\": \"HelpButton__btn1___3p7_r\",\n\t\"btn2\": \"HelpButton__btn2___1iYsn\",\n\t\"btn3\": \"HelpButton__btn3___2V0Nb\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./HelpButton.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./HelpButton.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./HelpButton.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Tooltip, OverlayTrigger } from 'react-bootstrap'\n\nimport classnames from 'classnames'\n\nimport style from './HelpButton.scss'\n\nexport default class HelpButton extends React.Component {\n  state = {\n    shown: false\n  }\n\n  toggleShown = () => {\n    this.setState({ shown: !this.state.shown })\n  }\n\n  render() {\n    const basePosition = this.state.shown ? 38 : 18\n    const btnClass = name =>\n      classnames(style.link, style[name], {\n        [style.show]: this.state.shown\n      })\n\n    const showIcon = negate =>\n      classnames('icon', 'material-icons', {\n        [style.icon]: true,\n        [style.show]: negate ? this.state.shown : !this.state.shown\n      })\n\n    const community = (\n      <Tooltip id=\"community-tooltip\">\n        Slack <strong>Community</strong>\n      </Tooltip>\n    )\n    const documentation = (\n      <Tooltip id=\"documentation-tooltip\">\n        Official <strong>Documentation</strong>\n      </Tooltip>\n    )\n    const tutorials = (\n      <Tooltip id=\"tutorials-tooltip\">\n        Watch our <strong>tutorials</strong>\n      </Tooltip>\n    )\n\n    return (\n      <div className={style.container}>\n        <div className={style.button} onClick={this.toggleShown}>\n          <i className={showIcon(false)}>forum</i>\n          <i className={showIcon(true)}>close</i>\n        </div>\n        <div className={style.menu}>\n          <ul>\n            <li className={btnClass('btn1')} style={{ bottom: basePosition + 0 + 'px' }}>\n              <OverlayTrigger placement=\"left\" overlay={community}>\n                <a href=\"https://slack.botpress.io\" target=\"_blank\">\n                  <i className=\"icon material-icons\">group</i>\n                </a>\n              </OverlayTrigger>\n            </li>\n            <li className={btnClass('btn2')} style={{ bottom: basePosition + 60 + 'px' }}>\n              <OverlayTrigger placement=\"left\" overlay={documentation}>\n                <a href=\"https://botpress.io/docs\" target=\"_blank\">\n                  <i className=\"icon material-icons\">book</i>\n                </a>\n              </OverlayTrigger>\n            </li>\n            <li className={btnClass('btn3')} style={{ bottom: basePosition + 120 + 'px' }}>\n              <OverlayTrigger placement=\"left\" overlay={tutorials}>\n                <a href=\"https://www.youtube.com/watch?v=HTpUmDz9kRY\" target=\"_blank\">\n                  <i className=\"icon material-icons\">video_library</i>\n                </a>\n              </OverlayTrigger>\n            </li>\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".SidebarFooter__bottomInformation___2BwAg {\\n  z-index: 100;\\n  height: 140px;\\n  width: 200px;\\n  color: #58d1b0;\\n  font-size: 12px;\\n  position: fixed;\\n  bottom: 0px;\\n  text-align: left;\\n  background: rgba(36, 36, 36, 0.5);\\n  background: -webkit-gradient(left bottom, left top, color-stop(60%, rgba(36, 36, 36, 0)), color-stop(100%, rgba(36, 36, 36, 0)));\\n  background: linear-gradient(to top, #242424 60%, rgba(36, 36, 36, 0) 100%); }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__innerFooter___BzH-- {\\n    border-top: 1px solid #565656;\\n    background-color: #242424;\\n    position: absolute;\\n    bottom: 0px;\\n    width: 100%;\\n    opacity: 1;\\n    padding-top: 10px;\\n    padding-left: 20px;\\n    padding-bottom: 10px; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__license___3Ptwu {\\n    margin-bottom: 5px;\\n    display: block; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__license___3Ptwu:hover {\\n      color: #58d1b0; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__unlicensed___xoJ-G {\\n    color: #d84744;\\n    font-weight: bold; }\\n  .SidebarFooter__bottomInformation___2BwAg a:hover {\\n    color: #58d1b0; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__name___l8UmJ {\\n    font-size: 16px;\\n    color: #c7c7c7; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__production___1XBwN {\\n    margin-bottom: 10px; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__logo___ZCT6J {\\n    margin: 20px 0 10px 15px !important;\\n    padding: 3px; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__logo___ZCT6J img {\\n      width: 110px; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__progressBar___1ox-D {\\n    height: 8px;\\n    border: solid 1px #878787;\\n    margin-right: 20px;\\n    margin-bottom: 5px; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__progressBar___1ox-D .SidebarFooter__used___46WWO {\\n      background-color: #58d1b0;\\n      height: 100%; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__progressBar___1ox-D .SidebarFooter__warning___2P58i {\\n      background-color: #fffd77; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__progressBar___1ox-D .SidebarFooter__urgent___fYOrT {\\n      background-color: #fea464; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__progressBar___1ox-D .SidebarFooter__reached___1u-Dx {\\n      background-color: #f86768; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__status___3dywB .SidebarFooter__dot___1auhw {\\n    background-color: #21cf9e;\\n    display: inline-block;\\n    height: 6px;\\n    width: 6px;\\n    border-radius: 50%;\\n    margin-bottom: 1px;\\n    margin-right: 4px; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__status___3dywB .SidebarFooter__reached___1u-Dx {\\n    background-color: #d84744; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__buy___2WOHP {\\n    font-size: 14px;\\n    font-weight: 400;\\n    color: #c7c7c7;\\n    display: block;\\n    margin-top: 5px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"bottomInformation\": \"SidebarFooter__bottomInformation___2BwAg\",\n\t\"innerFooter\": \"SidebarFooter__innerFooter___BzH--\",\n\t\"license\": \"SidebarFooter__license___3Ptwu\",\n\t\"unlicensed\": \"SidebarFooter__unlicensed___xoJ-G\",\n\t\"name\": \"SidebarFooter__name___l8UmJ\",\n\t\"production\": \"SidebarFooter__production___1XBwN\",\n\t\"logo\": \"SidebarFooter__logo___ZCT6J\",\n\t\"progressBar\": \"SidebarFooter__progressBar___1ox-D\",\n\t\"used\": \"SidebarFooter__used___46WWO\",\n\t\"warning\": \"SidebarFooter__warning___2P58i\",\n\t\"urgent\": \"SidebarFooter__urgent___fYOrT\",\n\t\"reached\": \"SidebarFooter__reached___1u-Dx\",\n\t\"status\": \"SidebarFooter__status___3dywB\",\n\t\"dot\": \"SidebarFooter__dot___1auhw\",\n\t\"buy\": \"SidebarFooter__buy___2WOHP\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarFooter.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarFooter.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarFooter.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport { Link } from 'react-router-dom'\nimport classnames from 'classnames'\nimport moment from 'moment'\n\nimport { toggleLicenseModal, toggleAboutModal } from '~/actions'\nimport { operationAllowed } from './PermissionsChecker'\n\nconst style = require('./SidebarFooter.scss')\n\nclass SidebarFooter extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  openLicenseComponent = () => {\n    this.props.toggleLicenseModal()\n  }\n\n  openAbout = () => {\n    this.props.toggleAboutModal()\n  }\n\n  renderProgressBar() {\n    const limit = this.props.license.limit\n\n    const progressClassNames = classnames(style.progressBar, 'bp-progress')\n\n    const progress = limit && limit.get('progress')\n    const usedClassNames = classnames(style.used, 'bp-used', {\n      [style.warning]: progress >= 0.75,\n      ['bp-warning']: progress >= 0.75,\n      [style.urgent]: progress >= 0.9,\n      ['bp-urgent']: progress >= 0.9,\n      [style.reached]: progress >= 1,\n      ['bp-reached']: progress >= 1\n    })\n\n    let width = limit && limit.get('progress') * 100 + '%'\n\n    if (limit && limit.get('reached')) {\n      width = '100%'\n    }\n\n    const usedStyle = {\n      width\n    }\n\n    if (limit && limit.get('progress')) {\n      return (\n        <div className={progressClassNames}>\n          <div style={usedStyle} className={usedClassNames} />\n        </div>\n      )\n    }\n\n    return null\n  }\n\n  renderStatusDiv(message) {\n    const limit = this.props.license.limit\n\n    const statusClassNames = classnames(style.status, 'bp-status')\n\n    const dotClassNames = classnames(style.dot, 'bp-dot', {\n      [style.reached]: limit && limit.get('reached'),\n      ['bp-reached']: limit && limit.get('reached')\n    })\n\n    return (\n      <div className={statusClassNames}>\n        <div className={dotClassNames} />\n        {message}\n      </div>\n    )\n  }\n\n  renderLicenseStatus() {\n    const limit = this.props.license.limit\n\n    if (limit && limit.get('message')) {\n      return this.renderStatusDiv(limit.get('message'))\n    }\n\n    const date = this.props.license.date\n\n    if (date) {\n      const expiration = moment(date).format('MMM Do YYYY')\n      const text = 'Valid until ' + expiration\n\n      return this.renderStatusDiv(text)\n    }\n\n    return null\n  }\n\n  renderBuyLink() {\n    const limit = this.props.license.limit\n    const licensed = this.props.license.licensed\n\n    if ((limit && limit.get('reached')) || !licensed) {\n      const classNames = classnames(style.buy, 'bp-buy')\n\n      return (\n        <a className={classNames} href=\"https://botpress.io\">\n          Buy a license\n        </a>\n      )\n    }\n\n    return null\n  }\n\n  renderLicense() {\n    const { licensed } = this.props.license\n    const license = licensed ? this.props.license.name : 'Unlicensed'\n\n    const classNames = classnames(style.license, 'bp-edition-license', {\n      [style.unlicensed]: !licensed\n    })\n\n    return (\n      <Link className={classNames} to=\"#\" title=\"License\" onClick={this.openLicenseComponent}>\n        {license}\n      </Link>\n    )\n  }\n\n  renderAllLicenseElements() {\n    if (!window.AUTH_ENABLED) {\n      return null\n    }\n\n    return (\n      <div>\n        {this.renderLicense()}\n        {this.renderProgressBar()}\n        {this.renderLicenseStatus()}\n        {this.renderBuyLink()}\n      </div>\n    )\n  }\n\n  render() {\n    if (this.props.viewMode >= 1) {\n      return null\n    }\n\n    const production = window.DEV_MODE ? 'in development' : 'in production'\n\n    const name = this.props.botInformation && this.props.botInformation.name\n\n    const sidebarFooterClassNames = classnames(style.bottomInformation, 'bp-sidebar-footer')\n    const sidebarInnerClassNames = classnames(style.innerFooter, 'bp-inner-footer')\n    const nameClassNames = classnames(style.name, 'bp-name')\n    const productionClassNames = classnames(style.production, 'bp-production')\n    const aboutClassNames = classnames(style.about, 'bp-about')\n\n    return (\n      <div className={sidebarFooterClassNames}>\n        <div className={sidebarInnerClassNames}>\n          <div className={nameClassNames}>{name}</div>\n          <div className={productionClassNames}>{production}</div>\n          {this.renderAllLicenseElements()}\n          <Link className={aboutClassNames} to=\"#\" title=\"About\" onClick={this.openAbout}>\n            About Botpress\n          </Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  botInformation: state.bot,\n  license: state.license,\n  viewMode: state.ui.viewMode\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ toggleLicenseModal, toggleAboutModal }, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SidebarFooter)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Sidebar__sidebarReact___3LyJe {\\n  bottom: 0px !important; }\\n\\n.Sidebar__sidebar___2zqXw {\\n  background-color: #242424;\\n  color: #aaa;\\n  height: 100%;\\n  max-width: 200px; }\\n\\n.Sidebar__sidebar___2zqXw ul {\\n  background-color: #242424; }\\n\\n.Sidebar__sidebar___2zqXw ul li {\\n  font-size: 16px;\\n  line-height: 44px;\\n  border-top: 1px solid #2d2d2d; }\\n  .Sidebar__sidebar___2zqXw ul li a {\\n    padding: 0 15px; }\\n    .Sidebar__sidebar___2zqXw ul li a .icon {\\n      display: inline;\\n      vertical-align: middle;\\n      color: #58d1b0;\\n      padding: 0 10px 0 0;\\n      font-size: 18px; }\\n\\n.Sidebar__sidebar___2zqXw ul li a {\\n  color: #aaa; }\\n  .Sidebar__sidebar___2zqXw ul li a:hover, .Sidebar__sidebar___2zqXw ul li a:focus, .Sidebar__sidebar___2zqXw ul li a:active {\\n    background-color: #111111; }\\n\\n.Sidebar__active___1D-kR {\\n  background-color: #111111;\\n  border-left: 5px solid #58d1b0; }\\n\\n.Sidebar__customIcon___3ao4_ {\\n  width: 28px;\\n  height: 18px;\\n  padding-right: 10px; }\\n\\n.Sidebar__empty___1D1re {\\n  height: 120px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"sidebarReact\": \"Sidebar__sidebarReact___3LyJe\",\n\t\"sidebar\": \"Sidebar__sidebar___2zqXw\",\n\t\"active\": \"Sidebar__active___1D-kR\",\n\t\"customIcon\": \"Sidebar__customIcon___3ao4_\",\n\t\"empty\": \"Sidebar__empty___1D1re\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Sidebar.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Sidebar.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Sidebar.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}